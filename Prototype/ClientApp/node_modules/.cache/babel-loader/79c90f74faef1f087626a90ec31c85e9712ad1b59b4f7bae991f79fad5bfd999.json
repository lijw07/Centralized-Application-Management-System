{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Activity}from'lucide-react';import{activityLogApi}from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ActivityLogs=()=>{const[userActivityLogs,setUserActivityLogs]=useState([]);const[loading,setLoading]=useState(false);const fetchUserActivityLogs=async()=>{setLoading(true);try{const response=await activityLogApi.getActivityLogs(1,100);if(response&&response.data){setUserActivityLogs(response.data);}else{setUserActivityLogs([]);}}catch(error){console.error('Failed to fetch user activity logs:',error);setUserActivityLogs([]);}finally{setLoading(false);}};useEffect(()=>{fetchUserActivityLogs();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"min-vh-100 bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-2\",children:[/*#__PURE__*/_jsx(Activity,{className:\"text-primary me-3\",size:32}),/*#__PURE__*/_jsx(\"h1\",{className:\"display-5 fw-bold text-dark mb-0\",children:\"Activity Logs\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted fs-6\",children:\"Monitor user interactions and system activities\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card shadow-sm border-0 rounded-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"card-title fw-bold text-dark mb-4 d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Activity,{className:\"text-primary me-2\",size:24}),\"User Activity Timeline\"]}),loading?/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center text-muted\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),\"Loading activity logs...\"]}):/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"fw-semibold\",children:\"User\"}),/*#__PURE__*/_jsx(\"th\",{className:\"fw-semibold\",children:\"Action\"}),/*#__PURE__*/_jsx(\"th\",{className:\"fw-semibold\",children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{className:\"fw-semibold\",children:\"IP Address\"}),/*#__PURE__*/_jsx(\"th\",{className:\"fw-semibold\",children:\"Timestamp\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[userActivityLogs.map(log=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"fw-semibold\",children:log.Username}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-info\",children:log.ActionType})}),/*#__PURE__*/_jsx(\"td\",{className:\"small text-muted\",children:log.Description}),/*#__PURE__*/_jsx(\"td\",{className:\"small\",children:log.IpAddress||'N/A'}),/*#__PURE__*/_jsx(\"td\",{className:\"small\",children:new Date(log.Timestamp).toLocaleString()})]},log.UserActivityLogId)),userActivityLogs.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{colSpan:5,className:\"text-center py-5 text-muted\",children:[/*#__PURE__*/_jsx(Activity,{size:48,className:\"mb-3 opacity-50\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No activity logs available\"})]})})]})]})})]})})]})});};export default ActivityLogs;","map":{"version":3,"names":["React","useState","useEffect","Activity","activityLogApi","jsx","_jsx","jsxs","_jsxs","ActivityLogs","userActivityLogs","setUserActivityLogs","loading","setLoading","fetchUserActivityLogs","response","getActivityLogs","data","error","console","className","children","size","role","map","log","Username","ActionType","Description","IpAddress","Date","Timestamp","toLocaleString","UserActivityLogId","length","colSpan"],"sources":["/Users/jaili/csharpProject/Prototype/Prototype/ClientApp/src/components/activity/ActivityLogs.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Activity } from 'lucide-react';\nimport { activityLogApi } from '../../services/api';\n\ninterface UserActivityLog {\n    UserActivityLogId: string;\n    UserId: string;\n    Username: string;\n    IpAddress?: string;\n    DeviceInformation: string;\n    ActionType: string;\n    Description: string;\n    Timestamp: string;\n}\n\nconst ActivityLogs: React.FC = () => {\n    const [userActivityLogs, setUserActivityLogs] = useState<UserActivityLog[]>([]);\n    const [loading, setLoading] = useState(false);\n\n    const fetchUserActivityLogs = async () => {\n        setLoading(true);\n        try {\n            const response = await activityLogApi.getActivityLogs(1, 100);\n            if (response && response.data) {\n                setUserActivityLogs(response.data);\n            } else {\n                setUserActivityLogs([]);\n            }\n        } catch (error) {\n            console.error('Failed to fetch user activity logs:', error);\n            setUserActivityLogs([]);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        fetchUserActivityLogs();\n    }, []);\n\n    return (\n        <div className=\"min-vh-100 bg-light\">\n            <div className=\"container-fluid py-4\">\n                {/* Header */}\n                <div className=\"mb-4\">\n                    <div className=\"d-flex align-items-center mb-2\">\n                        <Activity className=\"text-primary me-3\" size={32} />\n                        <h1 className=\"display-5 fw-bold text-dark mb-0\">Activity Logs</h1>\n                    </div>\n                    <p className=\"text-muted fs-6\">Monitor user interactions and system activities</p>\n                </div>\n\n                {/* Activity Logs Table */}\n                <div className=\"card shadow-sm border-0 rounded-4\">\n                    <div className=\"card-body p-4\">\n                        <h2 className=\"card-title fw-bold text-dark mb-4 d-flex align-items-center\">\n                            <Activity className=\"text-primary me-2\" size={24} />\n                            User Activity Timeline\n                        </h2>\n                        \n                        {loading ? (\n                            <div className=\"d-flex align-items-center text-muted\">\n                                <div className=\"spinner-border spinner-border-sm me-2\" role=\"status\">\n                                    <span className=\"visually-hidden\">Loading...</span>\n                                </div>\n                                Loading activity logs...\n                            </div>\n                        ) : (\n                            <div className=\"table-responsive\">\n                                <table className=\"table table-hover\">\n                                    <thead className=\"table-light\">\n                                        <tr>\n                                            <th className=\"fw-semibold\">User</th>\n                                            <th className=\"fw-semibold\">Action</th>\n                                            <th className=\"fw-semibold\">Description</th>\n                                            <th className=\"fw-semibold\">IP Address</th>\n                                            <th className=\"fw-semibold\">Timestamp</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {userActivityLogs.map((log) => (\n                                            <tr key={log.UserActivityLogId}>\n                                                <td className=\"fw-semibold\">{log.Username}</td>\n                                                <td><span className=\"badge bg-info\">{log.ActionType}</span></td>\n                                                <td className=\"small text-muted\">{log.Description}</td>\n                                                <td className=\"small\">{log.IpAddress || 'N/A'}</td>\n                                                <td className=\"small\">{new Date(log.Timestamp).toLocaleString()}</td>\n                                            </tr>\n                                        ))}\n                                        {userActivityLogs.length === 0 && (\n                                            <tr>\n                                                <td colSpan={5} className=\"text-center py-5 text-muted\">\n                                                    <Activity size={48} className=\"mb-3 opacity-50\" />\n                                                    <p>No activity logs available</p>\n                                                </td>\n                                            </tr>\n                                        )}\n                                    </tbody>\n                                </table>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ActivityLogs;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}