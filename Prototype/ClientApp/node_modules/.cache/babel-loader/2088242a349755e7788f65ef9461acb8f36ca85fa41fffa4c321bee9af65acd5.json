{"ast":null,"code":"import _objectSpread from\"/Users/jaili/csharpProject/Prototype/Prototype/ClientApp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Shield,Plus,Trash2,Key,CheckCircle2,Loader,AlertTriangle,ChevronLeft,ChevronRight,ChevronsLeft,ChevronsRight}from'lucide-react';import{roleApi}from'../../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Roles=()=>{const[roles,setRoles]=useState([]);const[loading,setLoading]=useState(false);const[showRoleForm,setShowRoleForm]=useState(false);const[editingRole,setEditingRole]=useState(null);const[isSubmitting,setIsSubmitting]=useState(false);const[submitSuccess,setSubmitSuccess]=useState(false);const[showDeleteConfirm,setShowDeleteConfirm]=useState(false);const[deletingRole,setDeletingRole]=useState(null);const[deleteSuccess,setDeleteSuccess]=useState(false);// Pagination state\nconst[currentPage,setCurrentPage]=useState(1);const[pageSize,setPageSize]=useState(4);const[totalCount,setTotalCount]=useState(0);const[totalPages,setTotalPages]=useState(0);const[roleForm,setRoleForm]=useState({roleName:''});const fetchRoles=async function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:currentPage;let size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:pageSize;setLoading(true);try{var _response$data;console.log('Fetching roles...');const response=await roleApi.getAllRoles(page,size);console.log('Fetch roles response:',response);if(response.success&&(_response$data=response.data)!==null&&_response$data!==void 0&&_response$data.data){console.log('Setting roles:',response.data.data);setRoles(response.data.data);setCurrentPage(response.data.page||page);setPageSize(response.data.pageSize||size);setTotalCount(response.data.totalCount||0);setTotalPages(response.data.totalPages||1);}else if(response.success&&response.roles){// Fallback for old API response format\nconsole.log('Setting roles (fallback):',response.roles);setRoles(response.roles);// Set pagination values for non-paginated response\nsetTotalCount(response.roles.length);setTotalPages(Math.ceil(response.roles.length/size));setCurrentPage(1);setPageSize(size);}else{console.log('No roles returned or response not successful');}}catch(error){console.error('Failed to fetch roles:',error);}finally{setLoading(false);}};// Smart refetch that handles empty pages after deletion\nconst refetchRoles=async()=>{setLoading(true);try{var _response$data2;console.log('Refetching roles...');const response=await roleApi.getAllRoles(currentPage,pageSize);if(response.success&&(_response$data2=response.data)!==null&&_response$data2!==void 0&&_response$data2.data){const newTotalPages=response.data.totalPages||1;const newTotalCount=response.data.totalCount||0;setRoles(response.data.data);setTotalCount(newTotalCount);setTotalPages(newTotalPages);// Check if current page is beyond available pages\nif(currentPage>newTotalPages&&newTotalCount>0){// Navigate to last available page\nsetCurrentPage(newTotalPages);await fetchRoles(newTotalPages,pageSize);}else if(newTotalCount===0){// If no roles at all, go to page 1\nsetCurrentPage(1);}}else{console.log('No roles returned or response not successful');setRoles([]);setCurrentPage(1);setTotalCount(0);setTotalPages(1);}}catch(error){console.error('Failed to fetch roles:',error);}finally{setLoading(false);}};// Refetch and navigate to first page (where new items should appear)\nconst refetchAndGoToFirstPage=async()=>{setCurrentPage(1);await fetchRoles(1,pageSize);};useEffect(()=>{fetchRoles();},[]);// Add escape key listener to close modals\nuseEffect(()=>{const handleEscapeKey=event=>{if(event.key==='Escape'){if(showRoleForm){setShowRoleForm(false);setEditingRole(null);setRoleForm({roleName:''});}}};document.addEventListener('keydown',handleEscapeKey);return()=>{document.removeEventListener('keydown',handleEscapeKey);};},[showRoleForm]);const handleRoleSubmit=async()=>{try{setIsSubmitting(true);if(editingRole){// Update existing role\nconst response=await roleApi.updateRole(editingRole.userRoleId,{roleName:roleForm.roleName});if(response.success){setSubmitSuccess(true);refetchRoles();// Stay on current page when editing\n// Role form will be closed manually by user clicking X\n}else{alert(response.message||'Failed to update role');}}else{// Create new role\nconsole.log('Creating role with name:',roleForm.roleName);const response=await roleApi.createRole({roleName:roleForm.roleName});console.log('Create role response:',response);if(response.success){setSubmitSuccess(true);console.log('Fetching roles after creation...');refetchAndGoToFirstPage();// Go to first page where new role should appear\n// Role form will be closed manually by user clicking X\n}else{alert(response.message||'Failed to create role');}}}catch(error){console.error('Failed to save role:',error);alert(error.message||'Failed to save role');}finally{setIsSubmitting(false);}};const deleteRole=async()=>{if(!deletingRole)return;try{const response=await roleApi.deleteRole(deletingRole.userRoleId);if(response.success){setDeleteSuccess(true);refetchRoles();// Delete success modal will be closed manually by user clicking X\n}else{alert(response.message||'Failed to delete role');}}catch(error){console.error('Failed to delete role:',error);alert(error.message||'Failed to delete role');}};const confirmDeleteRole=role=>{setDeletingRole(role);setShowDeleteConfirm(true);};const openEditRole=role=>{setEditingRole(role);setRoleForm({roleName:role.role});setShowRoleForm(true);};return/*#__PURE__*/_jsx(\"div\",{className:\"min-vh-100 bg-light\",style:{overflowX:'hidden'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid py-4\",style:{maxWidth:'100%'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-2\",children:[/*#__PURE__*/_jsx(Shield,{className:\"text-primary me-3\",size:32}),/*#__PURE__*/_jsx(\"h1\",{className:\"display-5 fw-bold text-dark mb-0\",children:\"Roles\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted fs-6\",children:\"Manage user roles and their permissions\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card shadow-sm border-0 rounded-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"card-title fw-bold text-dark mb-0 d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Key,{className:\"text-primary me-2\",size:24}),\"System Roles\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowRoleForm(true),className:\"btn btn-primary rounded-3 fw-semibold d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Plus,{className:\"me-2\",size:18}),/*#__PURE__*/_jsx(\"span\",{children:\"Create Role\"})]})]}),loading?/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center text-muted\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),\"Loading roles...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[roles.map(role=>/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border border-light rounded-3 h-100\",style:{cursor:'pointer'},onClick:()=>openEditRole(role),children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-start mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow-1\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title fw-bold text-dark mb-1 d-flex align-items-center\",style:{wordWrap:'break-word',overflowWrap:'break-word'},children:[role.role,/*#__PURE__*/_jsx(CheckCircle2,{className:\"text-success ms-2\",size:16})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text text-muted small mb-2\",children:[\"Created by \",role.createdBy,\" on \",new Date(role.createdAt).toLocaleDateString()]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-column gap-1\",children:/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();confirmDeleteRole(role);},className:\"btn btn-outline-danger btn-sm rounded-3\",title:\"Delete Role\",children:/*#__PURE__*/_jsx(Trash2,{size:14})})})]})})})},role.userRoleId)),roles.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5 text-muted\",children:[/*#__PURE__*/_jsx(Shield,{size:48,className:\"mb-3 opacity-50\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No roles configured yet\"})]})})]}),totalCount>4&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted\",children:[\"Showing \",(currentPage-1)*pageSize+1,\" to \",Math.min(currentPage*pageSize,totalCount),\" of \",totalCount,\" roles\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted small\",children:\"Roles per page:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-sm\",style:{width:'auto'},value:pageSize,onChange:e=>{const newPageSize=Number(e.target.value);setPageSize(newPageSize);setCurrentPage(1);fetchRoles(1,newPageSize);},children:[/*#__PURE__*/_jsx(\"option\",{value:4,children:\"4\"}),/*#__PURE__*/_jsx(\"option\",{value:10,children:\"10\"}),/*#__PURE__*/_jsx(\"option\",{value:20,children:\"20\"}),/*#__PURE__*/_jsx(\"option\",{value:50,children:\"50\"})]})]})]}),/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"ul\",{className:\"pagination pagination-sm mb-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===1?'disabled':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>{setCurrentPage(1);fetchRoles(1,pageSize);},disabled:currentPage===1,children:/*#__PURE__*/_jsx(ChevronsLeft,{size:16})})}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===1?'disabled':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>{const newPage=currentPage-1;setCurrentPage(newPage);fetchRoles(newPage,pageSize);},disabled:currentPage===1,children:/*#__PURE__*/_jsx(ChevronLeft,{size:16})})}),Array.from({length:Math.min(5,totalPages)},(_,i)=>{let pageNum;if(totalPages<=5){pageNum=i+1;}else if(currentPage<=3){pageNum=i+1;}else if(currentPage>=totalPages-2){pageNum=totalPages-4+i;}else{pageNum=currentPage-2+i;}return/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===pageNum?'active':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>{setCurrentPage(pageNum);fetchRoles(pageNum,pageSize);},children:pageNum})},pageNum);}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===totalPages?'disabled':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>{const newPage=currentPage+1;setCurrentPage(newPage);fetchRoles(newPage,pageSize);},disabled:currentPage===totalPages,children:/*#__PURE__*/_jsx(ChevronRight,{size:16})})}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===totalPages?'disabled':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>{setCurrentPage(totalPages);fetchRoles(totalPages,pageSize);},disabled:currentPage===totalPages,children:/*#__PURE__*/_jsx(ChevronsRight,{size:16})})})]})})]})]})]})}),showRoleForm&&/*#__PURE__*/_jsx(\"div\",{className:\"modal d-block\",style:{backgroundColor:'rgba(0,0,0,0.5)',position:'fixed',top:0,left:0,width:'100%',height:'100%',zIndex:1050},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered\",style:{maxWidth:'90%',margin:'1.75rem auto'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content border-0 rounded-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header border-0 pb-0\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"modal-title fw-bold\",children:editingRole?'Edit Role':'Create New Role'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:()=>{setShowRoleForm(false);setEditingRole(null);setSubmitSuccess(false);setRoleForm({roleName:''});}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:submitSuccess?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:64,className:\"text-success mb-3\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-success fw-bold\",children:editingRole?'Role Updated Successfully!':'Role Created Successfully!'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:editingRole?'The role has been updated.':'The new role has been created.'})]}):/*#__PURE__*/_jsx(\"div\",{className:\"row g-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"fw-bold mb-3\",children:\"Role Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Role Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:roleForm.roleName,onChange:e=>setRoleForm(_objectSpread(_objectSpread({},roleForm),{},{roleName:e.target.value})),className:\"form-control rounded-3\",placeholder:\"Enter role name\",disabled:isSubmitting})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer border-0 pt-0\",children:!submitSuccess&&/*#__PURE__*/_jsx(\"button\",{onClick:handleRoleSubmit,className:\"btn btn-primary rounded-3 fw-semibold d-flex align-items-center\",disabled:!roleForm.roleName.trim()||isSubmitting,children:isSubmitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader,{className:\"me-2 animate-spin\",size:16}),editingRole?'Updating...':'Creating...']}):editingRole?'Update Role':'Create Role'})})]})})}),showDeleteConfirm&&deletingRole&&/*#__PURE__*/_jsx(\"div\",{className:\"modal d-block\",style:{backgroundColor:'rgba(0,0,0,0.5)',position:'fixed',top:0,left:0,width:'100%',height:'100%',zIndex:1050},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content border-0 rounded-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header border-0 pb-0\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"modal-title fw-bold text-danger\",children:deleteSuccess?'Role Deleted':'Confirm Deletion'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:()=>{setShowDeleteConfirm(false);setDeletingRole(null);setDeleteSuccess(false);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:deleteSuccess?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:64,className:\"text-success mb-3\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-success fw-bold\",children:\"Role Deleted Successfully!\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted\",children:[/*#__PURE__*/_jsx(\"strong\",{children:deletingRole.role}),\" has been permanently removed.\"]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(AlertTriangle,{size:64,className:\"text-warning mb-3\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"fw-bold\",children:\"Are you sure you want to delete this role?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-light rounded-3 p-3 my-3\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"fw-bold text-dark mb-1\",children:deletingRole.role}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted small mb-0\",children:[\"Created by \",deletingRole.createdBy,\" on \",new Date(deletingRole.createdAt).toLocaleDateString()]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-danger small fw-semibold\",children:\"\\u26A0\\uFE0F This action cannot be undone. Users with this role may lose access permissions.\"})]})}),!deleteSuccess&&/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer border-0 pt-0\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowDeleteConfirm(false);setDeletingRole(null);},className:\"btn btn-secondary rounded-3 fw-semibold\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:deleteRole,className:\"btn btn-danger rounded-3 fw-semibold d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Trash2,{className:\"me-2\",size:16}),\"Delete Role\"]})]})]})})})]})});};export default Roles;","map":{"version":3,"names":["React","useState","useEffect","Shield","Plus","Trash2","Key","CheckCircle2","Loader","AlertTriangle","ChevronLeft","ChevronRight","ChevronsLeft","ChevronsRight","roleApi","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Roles","roles","setRoles","loading","setLoading","showRoleForm","setShowRoleForm","editingRole","setEditingRole","isSubmitting","setIsSubmitting","submitSuccess","setSubmitSuccess","showDeleteConfirm","setShowDeleteConfirm","deletingRole","setDeletingRole","deleteSuccess","setDeleteSuccess","currentPage","setCurrentPage","pageSize","setPageSize","totalCount","setTotalCount","totalPages","setTotalPages","roleForm","setRoleForm","roleName","fetchRoles","page","arguments","length","undefined","size","_response$data","console","log","response","getAllRoles","success","data","Math","ceil","error","refetchRoles","_response$data2","newTotalPages","newTotalCount","refetchAndGoToFirstPage","handleEscapeKey","event","key","document","addEventListener","removeEventListener","handleRoleSubmit","updateRole","userRoleId","alert","message","createRole","deleteRole","confirmDeleteRole","role","openEditRole","className","style","overflowX","children","maxWidth","onClick","map","cursor","wordWrap","overflowWrap","createdBy","Date","createdAt","toLocaleDateString","e","stopPropagation","title","min","width","value","onChange","newPageSize","Number","target","concat","disabled","newPage","Array","from","_","i","pageNum","backgroundColor","position","top","left","height","zIndex","margin","type","_objectSpread","placeholder","trim"],"sources":["/Users/jaili/csharpProject/Prototype/Prototype/ClientApp/src/components/roles/Roles.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Shield, Plus, Edit, Trash2, Users, Key, CheckCircle2, AlertCircle, Loader, AlertTriangle, ChevronLeft, ChevronRight, ChevronsLeft, ChevronsRight } from 'lucide-react';\nimport { roleApi } from '../../services/api';\n\ninterface Role {\n    userRoleId: string;\n    role: string;\n    createdAt: string;\n    createdBy: string;\n}\n\nconst Roles: React.FC = () => {\n    const [roles, setRoles] = useState<Role[]>([]);\n    const [loading, setLoading] = useState(false);\n    const [showRoleForm, setShowRoleForm] = useState(false);\n    const [editingRole, setEditingRole] = useState<Role | null>(null);\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [submitSuccess, setSubmitSuccess] = useState(false);\n    const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n    const [deletingRole, setDeletingRole] = useState<Role | null>(null);\n    const [deleteSuccess, setDeleteSuccess] = useState(false);\n\n    // Pagination state\n    const [currentPage, setCurrentPage] = useState(1);\n    const [pageSize, setPageSize] = useState(4);\n    const [totalCount, setTotalCount] = useState(0);\n    const [totalPages, setTotalPages] = useState(0);\n\n    const [roleForm, setRoleForm] = useState({\n        roleName: ''\n    });\n\n    const fetchRoles = async (page: number = currentPage, size: number = pageSize) => {\n        setLoading(true);\n        try {\n            console.log('Fetching roles...');\n            const response = await roleApi.getAllRoles(page, size);\n            console.log('Fetch roles response:', response);\n            if (response.success && response.data?.data) {\n                console.log('Setting roles:', response.data.data);\n                setRoles(response.data.data);\n                setCurrentPage(response.data.page || page);\n                setPageSize(response.data.pageSize || size);\n                setTotalCount(response.data.totalCount || 0);\n                setTotalPages(response.data.totalPages || 1);\n            } else if (response.success && response.roles) {\n                // Fallback for old API response format\n                console.log('Setting roles (fallback):', response.roles);\n                setRoles(response.roles);\n                // Set pagination values for non-paginated response\n                setTotalCount(response.roles.length);\n                setTotalPages(Math.ceil(response.roles.length / size));\n                setCurrentPage(1);\n                setPageSize(size);\n            } else {\n                console.log('No roles returned or response not successful');\n            }\n        } catch (error) {\n            console.error('Failed to fetch roles:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // Smart refetch that handles empty pages after deletion\n    const refetchRoles = async () => {\n        setLoading(true);\n        try {\n            console.log('Refetching roles...');\n            const response = await roleApi.getAllRoles(currentPage, pageSize);\n            if (response.success && response.data?.data) {\n                const newTotalPages = response.data.totalPages || 1;\n                const newTotalCount = response.data.totalCount || 0;\n                \n                setRoles(response.data.data);\n                setTotalCount(newTotalCount);\n                setTotalPages(newTotalPages);\n                \n                // Check if current page is beyond available pages\n                if (currentPage > newTotalPages && newTotalCount > 0) {\n                    // Navigate to last available page\n                    setCurrentPage(newTotalPages);\n                    await fetchRoles(newTotalPages, pageSize);\n                } else if (newTotalCount === 0) {\n                    // If no roles at all, go to page 1\n                    setCurrentPage(1);\n                }\n            } else {\n                console.log('No roles returned or response not successful');\n                setRoles([]);\n                setCurrentPage(1);\n                setTotalCount(0);\n                setTotalPages(1);\n            }\n        } catch (error) {\n            console.error('Failed to fetch roles:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // Refetch and navigate to first page (where new items should appear)\n    const refetchAndGoToFirstPage = async () => {\n        setCurrentPage(1);\n        await fetchRoles(1, pageSize);\n    };\n\n    useEffect(() => {\n        fetchRoles();\n    }, []);\n\n    // Add escape key listener to close modals\n    useEffect(() => {\n        const handleEscapeKey = (event: KeyboardEvent) => {\n            if (event.key === 'Escape') {\n                if (showRoleForm) {\n                    setShowRoleForm(false);\n                    setEditingRole(null);\n                    setRoleForm({ roleName: '' });\n                }\n            }\n        };\n\n        document.addEventListener('keydown', handleEscapeKey);\n        return () => {\n            document.removeEventListener('keydown', handleEscapeKey);\n        };\n    }, [showRoleForm]);\n\n    const handleRoleSubmit = async () => {\n        try {\n            setIsSubmitting(true);\n            if (editingRole) {\n                // Update existing role\n                const response = await roleApi.updateRole(editingRole.userRoleId, { roleName: roleForm.roleName });\n                if (response.success) {\n                    setSubmitSuccess(true);\n                    refetchRoles(); // Stay on current page when editing\n                    \n                    // Role form will be closed manually by user clicking X\n                } else {\n                    alert(response.message || 'Failed to update role');\n                }\n            } else {\n                // Create new role\n                console.log('Creating role with name:', roleForm.roleName);\n                const response = await roleApi.createRole({ roleName: roleForm.roleName });\n                console.log('Create role response:', response);\n                if (response.success) {\n                    setSubmitSuccess(true);\n                    console.log('Fetching roles after creation...');\n                    refetchAndGoToFirstPage(); // Go to first page where new role should appear\n                    \n                    // Role form will be closed manually by user clicking X\n                } else {\n                    alert(response.message || 'Failed to create role');\n                }\n            }\n        } catch (error: any) {\n            console.error('Failed to save role:', error);\n            alert(error.message || 'Failed to save role');\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n\n    const deleteRole = async () => {\n        if (!deletingRole) return;\n\n        try {\n            const response = await roleApi.deleteRole(deletingRole.userRoleId);\n            if (response.success) {\n                setDeleteSuccess(true);\n                refetchRoles();\n                \n                // Delete success modal will be closed manually by user clicking X\n            } else {\n                alert(response.message || 'Failed to delete role');\n            }\n        } catch (error: any) {\n            console.error('Failed to delete role:', error);\n            alert(error.message || 'Failed to delete role');\n        }\n    };\n\n    const confirmDeleteRole = (role: Role) => {\n        setDeletingRole(role);\n        setShowDeleteConfirm(true);\n    };\n\n\n    const openEditRole = (role: Role) => {\n        setEditingRole(role);\n        setRoleForm({\n            roleName: role.role\n        });\n        setShowRoleForm(true);\n    };\n\n    return (\n        <div className=\"min-vh-100 bg-light\" style={{overflowX: 'hidden'}}>\n            <div className=\"container-fluid py-4\" style={{maxWidth: '100%'}}>\n                {/* Header */}\n                <div className=\"mb-4\">\n                    <div className=\"d-flex align-items-center mb-2\">\n                        <Shield className=\"text-primary me-3\" size={32} />\n                        <h1 className=\"display-5 fw-bold text-dark mb-0\">Roles</h1>\n                    </div>\n                    <p className=\"text-muted fs-6\">Manage user roles and their permissions</p>\n                </div>\n\n                {/* Roles */}\n                <div className=\"card shadow-sm border-0 rounded-4\">\n                    <div className=\"card-body p-4\">\n                        <div className=\"d-flex justify-content-between align-items-center mb-4\">\n                            <h2 className=\"card-title fw-bold text-dark mb-0 d-flex align-items-center\">\n                                <Key className=\"text-primary me-2\" size={24} />\n                                System Roles\n                            </h2>\n                            <button\n                                onClick={() => setShowRoleForm(true)}\n                                className=\"btn btn-primary rounded-3 fw-semibold d-flex align-items-center\"\n                            >\n                                <Plus className=\"me-2\" size={18} />\n                                <span>Create Role</span>\n                            </button>\n                        </div>\n\n                        {loading ? (\n                            <div className=\"d-flex align-items-center text-muted\">\n                                <div className=\"spinner-border spinner-border-sm me-2\" role=\"status\">\n                                    <span className=\"visually-hidden\">Loading...</span>\n                                </div>\n                                Loading roles...\n                            </div>\n                        ) : (\n                            <>\n                                <div className=\"row g-3\">\n                                    {roles.map((role) => (\n                                        <div key={role.userRoleId} className=\"col-12\">\n                                            <div \n                                                className=\"card border border-light rounded-3 h-100\" \n                                                style={{cursor: 'pointer'}}\n                                                onClick={() => openEditRole(role)}\n                                            >\n                                                <div className=\"card-body p-4\">\n                                                    <div className=\"d-flex justify-content-between align-items-start mb-3\">\n                                                        <div className=\"flex-grow-1\">\n                                                            <h5 className=\"card-title fw-bold text-dark mb-1 d-flex align-items-center\" style={{wordWrap: 'break-word', overflowWrap: 'break-word'}}>\n                                                                {role.role}\n                                                                <CheckCircle2 className=\"text-success ms-2\" size={16} />\n                                                            </h5>\n                                                            <p className=\"card-text text-muted small mb-2\">\n                                                                Created by {role.createdBy} on {new Date(role.createdAt).toLocaleDateString()}\n                                                            </p>\n                                                        </div>\n                                                        <div className=\"d-flex flex-column gap-1\">\n                                                            <button\n                                                                onClick={(e) => {\n                                                                    e.stopPropagation();\n                                                                    confirmDeleteRole(role);\n                                                                }}\n                                                                className=\"btn btn-outline-danger btn-sm rounded-3\"\n                                                                title=\"Delete Role\"\n                                                            >\n                                                                <Trash2 size={14} />\n                                                            </button>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    ))}\n                                    {roles.length === 0 && (\n                                        <div className=\"col-12\">\n                                            <div className=\"text-center py-5 text-muted\">\n                                                <Shield size={48} className=\"mb-3 opacity-50\" />\n                                                <p>No roles configured yet</p>\n                                            </div>\n                                        </div>\n                                    )}\n                                </div>\n\n                                {/* Pagination */}\n                                {totalCount > 4 && (\n                            <div className=\"d-flex justify-content-between align-items-center mt-4\">\n                                <div className=\"d-flex align-items-center gap-3\">\n                                    <span className=\"text-muted\">\n                                        Showing {((currentPage - 1) * pageSize) + 1} to {Math.min(currentPage * pageSize, totalCount)} of {totalCount} roles\n                                    </span>\n                                    <div className=\"d-flex align-items-center gap-2\">\n                                        <span className=\"text-muted small\">Roles per page:</span>\n                                        <select \n                                            className=\"form-select form-select-sm\" \n                                            style={{width: 'auto'}}\n                                            value={pageSize}\n                                            onChange={(e) => {\n                                                const newPageSize = Number(e.target.value);\n                                                setPageSize(newPageSize);\n                                                setCurrentPage(1);\n                                                fetchRoles(1, newPageSize);\n                                            }}\n                                        >\n                                            <option value={4}>4</option>\n                                            <option value={10}>10</option>\n                                            <option value={20}>20</option>\n                                            <option value={50}>50</option>\n                                        </select>\n                                    </div>\n                                </div>\n                                \n                                <nav>\n                                    <ul className=\"pagination pagination-sm mb-0\">\n                                        <li className={`page-item ${currentPage === 1 ? 'disabled' : ''}`}>\n                                            <button \n                                                className=\"page-link\" \n                                                onClick={() => {\n                                                    setCurrentPage(1);\n                                                    fetchRoles(1, pageSize);\n                                                }}\n                                                disabled={currentPage === 1}\n                                            >\n                                                <ChevronsLeft size={16} />\n                                            </button>\n                                        </li>\n                                        <li className={`page-item ${currentPage === 1 ? 'disabled' : ''}`}>\n                                            <button \n                                                className=\"page-link\" \n                                                onClick={() => {\n                                                    const newPage = currentPage - 1;\n                                                    setCurrentPage(newPage);\n                                                    fetchRoles(newPage, pageSize);\n                                                }}\n                                                disabled={currentPage === 1}\n                                            >\n                                                <ChevronLeft size={16} />\n                                            </button>\n                                        </li>\n                                        \n                                        {/* Page numbers */}\n                                        {Array.from({ length: Math.min(5, totalPages) }, (_, i) => {\n                                            let pageNum: number;\n                                            if (totalPages <= 5) {\n                                                pageNum = i + 1;\n                                            } else if (currentPage <= 3) {\n                                                pageNum = i + 1;\n                                            } else if (currentPage >= totalPages - 2) {\n                                                pageNum = totalPages - 4 + i;\n                                            } else {\n                                                pageNum = currentPage - 2 + i;\n                                            }\n                                            \n                                            return (\n                                                <li key={pageNum} className={`page-item ${currentPage === pageNum ? 'active' : ''}`}>\n                                                    <button \n                                                        className=\"page-link\" \n                                                        onClick={() => {\n                                                            setCurrentPage(pageNum);\n                                                            fetchRoles(pageNum, pageSize);\n                                                        }}\n                                                    >\n                                                        {pageNum}\n                                                    </button>\n                                                </li>\n                                            );\n                                        })}\n                                        \n                                        <li className={`page-item ${currentPage === totalPages ? 'disabled' : ''}`}>\n                                            <button \n                                                className=\"page-link\" \n                                                onClick={() => {\n                                                    const newPage = currentPage + 1;\n                                                    setCurrentPage(newPage);\n                                                    fetchRoles(newPage, pageSize);\n                                                }}\n                                                disabled={currentPage === totalPages}\n                                            >\n                                                <ChevronRight size={16} />\n                                            </button>\n                                        </li>\n                                        <li className={`page-item ${currentPage === totalPages ? 'disabled' : ''}`}>\n                                            <button \n                                                className=\"page-link\" \n                                                onClick={() => {\n                                                    setCurrentPage(totalPages);\n                                                    fetchRoles(totalPages, pageSize);\n                                                }}\n                                                disabled={currentPage === totalPages}\n                                            >\n                                                <ChevronsRight size={16} />\n                                            </button>\n                                        </li>\n                                    </ul>\n                                </nav>\n                            </div>\n                        )}\n                            </>\n                        )}\n                    </div>\n                </div>\n\n                {/* Role Form Modal */}\n                {showRoleForm && (\n                    <div className=\"modal d-block\" style={{backgroundColor: 'rgba(0,0,0,0.5)', position: 'fixed', top: 0, left: 0, width: '100%', height: '100%', zIndex: 1050}}>\n                        <div className=\"modal-dialog modal-dialog-centered\" style={{maxWidth: '90%', margin: '1.75rem auto'}}>\n                            <div className=\"modal-content border-0 rounded-4\">\n                                <div className=\"modal-header border-0 pb-0\">\n                                    <h3 className=\"modal-title fw-bold\">\n                                        {editingRole ? 'Edit Role' : 'Create New Role'}\n                                    </h3>\n                                    <button\n                                        type=\"button\"\n                                        className=\"btn-close\"\n                                        onClick={() => {\n                                            setShowRoleForm(false);\n                                            setEditingRole(null);\n                                            setSubmitSuccess(false);\n                                            setRoleForm({\n                                                roleName: ''\n                                            });\n                                        }}\n                                    ></button>\n                                </div>\n                                <div className=\"modal-body\">\n                                    {submitSuccess ? (\n                                        <div className=\"text-center py-4\">\n                                            <CheckCircle2 size={64} className=\"text-success mb-3\" />\n                                            <h4 className=\"text-success fw-bold\">\n                                                {editingRole ? 'Role Updated Successfully!' : 'Role Created Successfully!'}\n                                            </h4>\n                                            <p className=\"text-muted\">\n                                                {editingRole ? 'The role has been updated.' : 'The new role has been created.'}\n                                            </p>\n                                        </div>\n                                    ) : (\n                                        <div className=\"row g-4\">\n                                            <div className=\"col-12\">\n                                                <h5 className=\"fw-bold mb-3\">Role Information</h5>\n                                                <div className=\"mb-3\">\n                                                    <label className=\"form-label fw-semibold\">Role Name</label>\n                                                    <input\n                                                        type=\"text\"\n                                                        value={roleForm.roleName}\n                                                        onChange={(e) => setRoleForm({...roleForm, roleName: e.target.value})}\n                                                        className=\"form-control rounded-3\"\n                                                        placeholder=\"Enter role name\"\n                                                        disabled={isSubmitting}\n                                                    />\n                                                </div>\n                                            </div>\n                                        </div>\n                                    )}\n                                </div>\n                                <div className=\"modal-footer border-0 pt-0\">\n                                    {!submitSuccess && (\n                                        <button\n                                            onClick={handleRoleSubmit}\n                                            className=\"btn btn-primary rounded-3 fw-semibold d-flex align-items-center\"\n                                            disabled={!roleForm.roleName.trim() || isSubmitting}\n                                        >\n                                            {isSubmitting ? (\n                                                <>\n                                                    <Loader className=\"me-2 animate-spin\" size={16} />\n                                                    {editingRole ? 'Updating...' : 'Creating...'}\n                                                </>\n                                            ) : (\n                                                editingRole ? 'Update Role' : 'Create Role'\n                                            )}\n                                        </button>\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {/* Delete Confirmation Modal */}\n                {showDeleteConfirm && deletingRole && (\n                    <div className=\"modal d-block\" style={{backgroundColor: 'rgba(0,0,0,0.5)', position: 'fixed', top: 0, left: 0, width: '100%', height: '100%', zIndex: 1050}}>\n                        <div className=\"modal-dialog modal-dialog-centered\">\n                            <div className=\"modal-content border-0 rounded-4\">\n                                <div className=\"modal-header border-0 pb-0\">\n                                    <h3 className=\"modal-title fw-bold text-danger\">\n                                        {deleteSuccess ? 'Role Deleted' : 'Confirm Deletion'}\n                                    </h3>\n                                    <button\n                                        type=\"button\"\n                                        className=\"btn-close\"\n                                        onClick={() => {\n                                            setShowDeleteConfirm(false);\n                                            setDeletingRole(null);\n                                            setDeleteSuccess(false);\n                                        }}\n                                    ></button>\n                                </div>\n                                <div className=\"modal-body\">\n                                    {deleteSuccess ? (\n                                        <div className=\"text-center py-4\">\n                                            <CheckCircle2 size={64} className=\"text-success mb-3\" />\n                                            <h4 className=\"text-success fw-bold\">Role Deleted Successfully!</h4>\n                                            <p className=\"text-muted\">\n                                                <strong>{deletingRole.role}</strong> has been permanently removed.\n                                            </p>\n                                        </div>\n                                    ) : (\n                                        <div className=\"text-center py-4\">\n                                            <AlertTriangle size={64} className=\"text-warning mb-3\" />\n                                            <h4 className=\"fw-bold\">Are you sure you want to delete this role?</h4>\n                                            <div className=\"bg-light rounded-3 p-3 my-3\">\n                                                <h5 className=\"fw-bold text-dark mb-1\">{deletingRole.role}</h5>\n                                                <p className=\"text-muted small mb-0\">Created by {deletingRole.createdBy} on {new Date(deletingRole.createdAt).toLocaleDateString()}</p>\n                                            </div>\n                                            <p className=\"text-danger small fw-semibold\">\n                                                ⚠️ This action cannot be undone. Users with this role may lose access permissions.\n                                            </p>\n                                        </div>\n                                    )}\n                                </div>\n                                {!deleteSuccess && (\n                                    <div className=\"modal-footer border-0 pt-0\">\n                                        <button\n                                            onClick={() => {\n                                                setShowDeleteConfirm(false);\n                                                setDeletingRole(null);\n                                            }}\n                                            className=\"btn btn-secondary rounded-3 fw-semibold\"\n                                        >\n                                            Cancel\n                                        </button>\n                                        <button\n                                            onClick={deleteRole}\n                                            className=\"btn btn-danger rounded-3 fw-semibold d-flex align-items-center\"\n                                        >\n                                            <Trash2 className=\"me-2\" size={16} />\n                                            Delete Role\n                                        </button>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default Roles;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}