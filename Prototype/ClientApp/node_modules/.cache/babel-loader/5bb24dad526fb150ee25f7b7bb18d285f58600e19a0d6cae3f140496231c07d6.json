{"ast":null,"code":"import _objectSpread from\"/Users/jaili/csharpProject/Prototype/Prototype/ClientApp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Users,Search,Edit3,Trash2,Mail,Phone,Calendar,Shield,CheckCircle2,XCircle,MoreVertical,UserPlus,AlertCircle,Eye,EyeOff,Lock,Unlock,ChevronLeft,ChevronRight,ChevronsLeft,ChevronsRight,AlertTriangle}from'lucide-react';import{userApi,roleApi}from'../../services/api';import{authApi}from'../../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Accounts(){const[users,setUsers]=useState([]);const[allUsers,setAllUsers]=useState([]);const[roles,setRoles]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[filterRole,setFilterRole]=useState('all');const[filterStatus,setFilterStatus]=useState('all');// active, inactive, all\nconst[filterVerification,setFilterVerification]=useState('all');// verified, unverified, all\nconst[sortBy,setSortBy]=useState('newest');// newest, oldest, lastLoginNewest, lastLoginOldest\nconst[showAddUser,setShowAddUser]=useState(false);const[userDetailModal,setUserDetailModal]=useState(null);const[showEditUser,setShowEditUser]=useState(false);const[editUserForm,setEditUserForm]=useState({userId:'',firstName:'',lastName:'',username:'',email:'',phoneNumber:'',role:'',isActive:true});const[editFormErrors,setEditFormErrors]=useState({});const[isEditSubmitting,setIsEditSubmitting]=useState(false);const[editSubmitSuccess,setEditSubmitSuccess]=useState(false);const[loading,setLoading]=useState(true);// Pagination state\nconst[currentPage,setCurrentPage]=useState(1);const[pageSize,setPageSize]=useState(20);const[totalCount,setTotalCount]=useState(0);const[totalPages,setTotalPages]=useState(0);// New User Form State\nconst[newUserForm,setNewUserForm]=useState({firstName:'',lastName:'',username:'',email:'',phoneNumber:'',password:'',reEnterPassword:'',role:''});const[formErrors,setFormErrors]=useState({});const[isSubmitting,setIsSubmitting]=useState(false);const[showPassword,setShowPassword]=useState(false);const[showReEnterPassword,setShowReEnterPassword]=useState(false);const[submitSuccess,setSubmitSuccess]=useState(false);const[showDeleteConfirm,setShowDeleteConfirm]=useState(false);const[deletingUser,setDeletingUser]=useState(null);const[deleteSuccess,setDeleteSuccess]=useState(false);// ESC key handler for modal\nuseEffect(()=>{const handleEscKey=event=>{if(event.key==='Escape'&&showAddUser){resetAddUserModal();}};if(showAddUser){document.addEventListener('keydown',handleEscKey);}return()=>{document.removeEventListener('keydown',handleEscKey);};},[showAddUser]);const fetchAllUsers=async()=>{try{let allUsers=[];let currentPage=1;const maxPageSize=100;// Backend limit\nlet hasMoreData=true;while(hasMoreData){var _usersResponse$data;const usersResponse=await userApi.getAllUsers(currentPage,maxPageSize);if(usersResponse.success&&(_usersResponse$data=usersResponse.data)!==null&&_usersResponse$data!==void 0&&_usersResponse$data.data){const transformedUsers=usersResponse.data.data.map(user=>({userId:user.userId,firstName:user.firstName,lastName:user.lastName,username:user.username,email:user.email,phoneNumber:user.phoneNumber,isActive:user.isActive,role:user.role,lastLogin:user.lastLogin,createdAt:user.createdAt,isTemporary:user.isTemporary||false}));allUsers=[...allUsers,...transformedUsers];// Check if we've fetched all pages\nconst totalPages=usersResponse.data.totalPages||1;hasMoreData=currentPage<totalPages;currentPage++;}else if(usersResponse.success&&usersResponse.users){// Fallback for old API response format\nconst transformedUsers=usersResponse.users.map(user=>({userId:user.userId,firstName:user.firstName,lastName:user.lastName,username:user.username,email:user.email,phoneNumber:user.phoneNumber,isActive:user.isActive,role:user.role,lastLogin:user.lastLogin,createdAt:user.createdAt,isTemporary:user.isTemporary||false}));allUsers=transformedUsers;hasMoreData=false;// Old format returns all data at once\n}else{hasMoreData=false;}}console.log('Fetched all users:',allUsers.length);setAllUsers(allUsers);return allUsers;}catch(error){console.error('Failed to fetch all users:',error);return[];}};// Load users and roles from database\nconst loadData=async function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:currentPage;let size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:pageSize;setLoading(true);// Load users - this should always work regardless of roles\ntry{var _usersResponse$data2;const usersResponse=await userApi.getAllUsers(page,size);if(usersResponse.success&&(_usersResponse$data2=usersResponse.data)!==null&&_usersResponse$data2!==void 0&&_usersResponse$data2.data){const transformedUsers=usersResponse.data.data.map(user=>({userId:user.userId,firstName:user.firstName,lastName:user.lastName,username:user.username,email:user.email,phoneNumber:user.phoneNumber,isActive:user.isActive,role:user.role,lastLogin:user.lastLogin,createdAt:user.createdAt,isTemporary:user.isTemporary||false}));setUsers(transformedUsers);setCurrentPage(usersResponse.data.page||page);setPageSize(usersResponse.data.pageSize||size);setTotalCount(usersResponse.data.totalCount||0);setTotalPages(usersResponse.data.totalPages||1);}else if(usersResponse.success&&usersResponse.users){// Fallback for old API response format - use client-side pagination\nconst allTransformedUsers=usersResponse.users.map(user=>({userId:user.userId,firstName:user.firstName,lastName:user.lastName,username:user.username,email:user.email,phoneNumber:user.phoneNumber,isActive:user.isActive,role:user.role,lastLogin:user.lastLogin,createdAt:user.createdAt,isTemporary:user.isTemporary||false}));const startIndex=(page-1)*size;const endIndex=startIndex+size;const paginatedUsers=allTransformedUsers.slice(startIndex,endIndex);setUsers(paginatedUsers);// Set pagination values for non-paginated response\nsetTotalCount(allTransformedUsers.length);setTotalPages(Math.ceil(allTransformedUsers.length/size));setCurrentPage(page);setPageSize(size);}else{console.error('Failed to load users:',usersResponse.message);setUsers([]);}}catch(error){console.error('Error loading users:',error);setUsers([]);}// Load roles - independent of users\ntry{var _rolesResponse$data;const rolesResponse=await roleApi.getAllRoles(1,100);// Get up to 100 roles\nif(rolesResponse.success&&(_rolesResponse$data=rolesResponse.data)!==null&&_rolesResponse$data!==void 0&&_rolesResponse$data.data){setRoles(rolesResponse.data.data);}else if(rolesResponse.success&&rolesResponse.roles){// Fallback for old API response format\nsetRoles(rolesResponse.roles);}else{console.error('Failed to load roles:',rolesResponse.message);setRoles([]);}}catch(error){console.error('Error loading roles:',error);setRoles([]);}setLoading(false);};// Smart refetch that handles empty pages after deletion  \nconst refetchUsers=async()=>{if(hasFilters){// For filtered view, reload all data and let frontend handle filtering\nawait loadData(1,100);// Load more data for filtering\n// Also refresh all users\nawait fetchAllUsers();}else{var _response$data;// For paginated view, check if we need to adjust page\nconst response=await userApi.getAllUsers(currentPage,pageSize);if(response.success&&(_response$data=response.data)!==null&&_response$data!==void 0&&_response$data.data){const newTotalPages=response.data.totalPages||1;const newTotalCount=response.data.totalCount||0;if(currentPage>newTotalPages&&newTotalCount>0){// Navigate to last available page\nsetCurrentPage(newTotalPages);await loadData(newTotalPages,pageSize);}else if(newTotalCount===0){// If no users at all, go to page 1\nsetCurrentPage(1);await loadData(1,pageSize);}else{// Current page is valid, just update data\nawait loadData(currentPage,pageSize);}}// Also refresh all users\nawait fetchAllUsers();}};// Refetch and navigate to first page (where new items should appear)\nconst refetchAndGoToFirstPage=async()=>{setCurrentPage(1);await loadData(1,pageSize);// Also refresh all users\nawait fetchAllUsers();};useEffect(()=>{loadData(1,pageSize);// Also fetch all users for client-side operations\nfetchAllUsers();},[]);// Use filtered/sorted users for display (when filters are active)\n// Use backend pagination when no filters are applied\nconst hasFilters=searchTerm!==''||filterRole!=='all'||filterStatus!=='all'||filterVerification!=='all'||sortBy!=='newest';// Use allUsers for filtering/sorting, users for backend pagination\nconst sourceUsers=hasFilters?allUsers:users;// Filter users\nconst filteredUsers=sourceUsers.filter(user=>{const matchesSearch=searchTerm===''||user.firstName.toLowerCase().includes(searchTerm.toLowerCase())||user.lastName.toLowerCase().includes(searchTerm.toLowerCase())||user.username.toLowerCase().includes(searchTerm.toLowerCase())||user.email.toLowerCase().includes(searchTerm.toLowerCase());const matchesRole=filterRole==='all'||user.role.toLowerCase()===filterRole.toLowerCase();const matchesStatus=filterStatus==='all'||filterStatus==='active'&&user.isActive||filterStatus==='inactive'&&!user.isActive;const matchesVerification=filterVerification==='all'||filterVerification==='verified'&&!user.isTemporary||filterVerification==='unverified'&&user.isTemporary;return matchesSearch&&matchesRole&&matchesStatus&&matchesVerification;});// Sort users based on selected sort option\nconst sortedUsers=[...filteredUsers].sort((a,b)=>{switch(sortBy){case'oldest':return new Date(a.createdAt).getTime()-new Date(b.createdAt).getTime();case'lastLoginNewest':if(!a.lastLogin&&!b.lastLogin)return 0;if(!a.lastLogin)return 1;// Put users without login at the end\nif(!b.lastLogin)return-1;return new Date(b.lastLogin).getTime()-new Date(a.lastLogin).getTime();case'lastLoginOldest':if(!a.lastLogin&&!b.lastLogin)return 0;if(!a.lastLogin)return 1;// Put users without login at the end\nif(!b.lastLogin)return-1;return new Date(a.lastLogin).getTime()-new Date(b.lastLogin).getTime();case'newest':default:return new Date(b.createdAt).getTime()-new Date(a.createdAt).getTime();}});let currentUsers,displayTotalPages,displayTotalCount;if(hasFilters){// Client-side pagination for filtered results\nconst startIndex=(currentPage-1)*pageSize;const endIndex=startIndex+pageSize;currentUsers=sortedUsers.slice(startIndex,endIndex);displayTotalPages=Math.ceil(sortedUsers.length/pageSize);displayTotalCount=sortedUsers.length;}else{// Backend pagination for unfiltered results\ncurrentUsers=users;displayTotalPages=totalPages;displayTotalCount=totalCount;}// Reset to first page when filters change\nuseEffect(()=>{setCurrentPage(1);},[searchTerm,filterRole,filterStatus,filterVerification,sortBy]);// Add escape key listener for edit user modal\nuseEffect(()=>{const handleEscapeKey=event=>{if(event.key==='Escape'){if(showEditUser){resetEditUserModal();}if(userDetailModal){setUserDetailModal(null);}}};document.addEventListener('keydown',handleEscapeKey);return()=>{document.removeEventListener('keydown',handleEscapeKey);};},[showEditUser,userDetailModal]);const getRoleBadgeColor=role=>{// Create a consistent color mapping based on role name\nconst colors=['primary','danger','warning','info','success','secondary'];const hash=role.toLowerCase().split('').reduce((acc,char)=>acc+char.charCodeAt(0),0);return colors[hash%colors.length];};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric'});};const formatLastLogin=dateString=>{if(!dateString)return'Never';const now=new Date();const lastLogin=new Date(dateString);const diffInHours=Math.floor((now.getTime()-lastLogin.getTime())/(1000*60*60));if(diffInHours<1)return'Just now';if(diffInHours<24)return\"\".concat(diffInHours,\"h ago\");const diffInDays=Math.floor(diffInHours/24);if(diffInDays<7)return\"\".concat(diffInDays,\"d ago\");return formatDate(dateString);};// Form handling functions\nconst handleInputChange=(field,value)=>{setNewUserForm(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));// Clear error when user starts typing\nif(formErrors[field]){setFormErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:undefined}));}};const validateForm=()=>{const errors={};// First name validation\nif(!newUserForm.firstName.trim()){errors.firstName='First name is required';}else if(newUserForm.firstName.length>50){errors.firstName='First name must be between 1 and 50 characters';}// Last name validation\nif(!newUserForm.lastName.trim()){errors.lastName='Last name is required';}else if(newUserForm.lastName.length>50){errors.lastName='Last name must be between 1 and 50 characters';}// Username validation\nif(!newUserForm.username.trim()){errors.username='Username is required';}else if(newUserForm.username.length<3||newUserForm.username.length>100){errors.username='Username must be between 3 and 100 characters';}else if(!/^[a-zA-Z0-9_.-]+$/.test(newUserForm.username)){errors.username='Username can only contain letters, numbers, underscores, dots, and hyphens';}// Email validation\nif(!newUserForm.email.trim()){errors.email='Email is required';}else if(!/\\S+@\\S+\\.\\S+/.test(newUserForm.email)){errors.email='Invalid email format';}else if(newUserForm.email.length>255){errors.email='Email cannot exceed 255 characters';}// Phone number validation (basic format)\nif(!newUserForm.phoneNumber.trim()){errors.phoneNumber='Phone number is required';}else if(newUserForm.phoneNumber.length>20){errors.phoneNumber='Phone number cannot exceed 20 characters';}// Role validation\nif(!newUserForm.role.trim()){errors.role='Role is required';}// Password validation to match backend requirements\nif(!newUserForm.password.trim()){errors.password='Password is required';}else if(newUserForm.password.length<8||newUserForm.password.length>128){errors.password='Password must be between 8 and 128 characters';}else if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/.test(newUserForm.password)){errors.password='Password must contain at least one uppercase letter, one lowercase letter, one digit, and one special character (@$!%*?&)';}// Confirm password validation\nif(!newUserForm.reEnterPassword.trim()){errors.reEnterPassword='Please confirm password';}else if(newUserForm.password!==newUserForm.reEnterPassword){errors.reEnterPassword='Passwords do not match';}setFormErrors(errors);return Object.keys(errors).length===0;};const handleSubmitNewUser=async e=>{e.preventDefault();if(!validateForm())return;setIsSubmitting(true);setFormErrors({});// Clear any previous errors\ntry{console.log('Submitting user registration:',newUserForm);const response=await authApi.register(newUserForm);console.log('Registration response:',response);if(response&&response.success){setSubmitSuccess(true);// Reset form\nsetNewUserForm({firstName:'',lastName:'',username:'',email:'',phoneNumber:'',password:'',reEnterPassword:'',role:''});setFormErrors({});// Refresh the user list and go to first page to show the newly created user\nrefetchAndGoToFirstPage();// User form will be closed manually by user clicking X\n}else{// Handle server errors\nconsole.error('Registration failed:',response);if(response!==null&&response!==void 0&&response.errors){// Handle field-specific validation errors from server\nconst serverErrors={};const errors=response.errors;Object.keys(errors).forEach(key=>{const fieldName=key.toLowerCase();const errorValue=errors[key];const errorMessage=Array.isArray(errorValue)?errorValue[0]:errorValue;if(fieldName.includes('firstname'))serverErrors.firstName=errorMessage;else if(fieldName.includes('lastname'))serverErrors.lastName=errorMessage;else if(fieldName.includes('username'))serverErrors.username=errorMessage;else if(fieldName.includes('email'))serverErrors.email=errorMessage;else if(fieldName.includes('phone'))serverErrors.phoneNumber=errorMessage;else if(fieldName.includes('password'))serverErrors.password=errorMessage;else serverErrors.email=errorMessage;});setFormErrors(serverErrors);}else{setFormErrors({email:(response===null||response===void 0?void 0:response.message)||'Registration failed'});}}}catch(error){console.error('Registration error:',error);// Handle network or parsing errors\nif(error.status===400&&error.errors){const serverErrors={};const errors=error.errors;Object.keys(errors).forEach(key=>{const fieldName=key.toLowerCase();const errorValue=errors[key];const errorMessage=Array.isArray(errorValue)?errorValue[0]:errorValue;if(fieldName.includes('firstname'))serverErrors.firstName=errorMessage;else if(fieldName.includes('lastname'))serverErrors.lastName=errorMessage;else if(fieldName.includes('username'))serverErrors.username=errorMessage;else if(fieldName.includes('email'))serverErrors.email=errorMessage;else if(fieldName.includes('phone'))serverErrors.phoneNumber=errorMessage;else if(fieldName.includes('password'))serverErrors.password=errorMessage;else serverErrors.email=errorMessage;});setFormErrors(serverErrors);}else{setFormErrors({email:error.message||'Network error occurred'});}}finally{setIsSubmitting(false);}};const resetAddUserModal=()=>{setNewUserForm({firstName:'',lastName:'',username:'',email:'',phoneNumber:'',password:'',reEnterPassword:'',role:''});setShowAddUser(false);setSubmitSuccess(false);setFormErrors({});setIsSubmitting(false);setSubmitSuccess(false);setShowPassword(false);setShowReEnterPassword(false);setShowAddUser(false);};// Edit User Form handling\nconst handleEditInputChange=(field,value)=>{setEditUserForm(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));if(editFormErrors[field]){setEditFormErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:undefined}));}};const validateEditForm=()=>{const errors={};if(!editUserForm.firstName.trim()){errors.firstName='First name is required';}else if(editUserForm.firstName.length>50){errors.firstName='First name must be between 1 and 50 characters';}if(!editUserForm.lastName.trim()){errors.lastName='Last name is required';}else if(editUserForm.lastName.length>50){errors.lastName='Last name must be between 1 and 50 characters';}if(!editUserForm.username.trim()){errors.username='Username is required';}else if(editUserForm.username.length<3||editUserForm.username.length>100){errors.username='Username must be between 3 and 100 characters';}else if(!/^[a-zA-Z0-9_.-]+$/.test(editUserForm.username)){errors.username='Username can only contain letters, numbers, underscores, dots, and hyphens';}if(!editUserForm.email.trim()){errors.email='Email is required';}else if(!/\\S+@\\S+\\.\\S+/.test(editUserForm.email)){errors.email='Invalid email format';}else if(editUserForm.email.length>255){errors.email='Email cannot exceed 255 characters';}if(editUserForm.phoneNumber&&editUserForm.phoneNumber.length>20){errors.phoneNumber='Phone number cannot exceed 20 characters';}if(!editUserForm.role.trim()){errors.role='Role is required';}setEditFormErrors(errors);return Object.keys(errors).length===0;};const handleEditUserSubmit=async e=>{e.preventDefault();if(!validateEditForm())return;setIsEditSubmitting(true);setEditFormErrors({});try{const response=await userApi.updateUser(editUserForm);if(response&&response.success){setEditSubmitSuccess(true);// Update the user in the local state\nsetUsers(prevUsers=>prevUsers.map(user=>user.userId===editUserForm.userId?_objectSpread(_objectSpread({},user),editUserForm):user));// Edit form will be closed manually by user clicking X\n}else{setEditFormErrors({email:(response===null||response===void 0?void 0:response.message)||'Update failed'});}}catch(error){console.error('Update user error:',error);if(error.status===400&&error.errors){const serverErrors={};const errors=error.errors;Object.keys(errors).forEach(key=>{const fieldName=key.toLowerCase();const errorValue=errors[key];const errorMessage=Array.isArray(errorValue)?errorValue[0]:errorValue;if(fieldName.includes('firstname'))serverErrors.firstName=errorMessage;else if(fieldName.includes('lastname'))serverErrors.lastName=errorMessage;else if(fieldName.includes('username'))serverErrors.username=errorMessage;else if(fieldName.includes('email'))serverErrors.email=errorMessage;else if(fieldName.includes('phone'))serverErrors.phoneNumber=errorMessage;else serverErrors.email=errorMessage;});setEditFormErrors(serverErrors);}else{setEditFormErrors({email:error.message||'Network error occurred'});}}finally{setIsEditSubmitting(false);}};const resetEditUserModal=()=>{setEditUserForm({userId:'',firstName:'',lastName:'',username:'',email:'',phoneNumber:'',role:'',isActive:true});setShowEditUser(false);setEditSubmitSuccess(false);setEditFormErrors({});setIsEditSubmitting(false);setEditSubmitSuccess(false);setShowEditUser(false);};// Dropdown action handlers\nconst handleFreezeUser=async user=>{try{const updatedUser=_objectSpread(_objectSpread({},user),{},{isActive:!user.isActive});const response=await userApi.updateUser(updatedUser);if(response&&response.success){// Update the user in the local state\nsetUsers(prevUsers=>prevUsers.map(u=>u.userId===user.userId?_objectSpread(_objectSpread({},u),{},{isActive:!u.isActive}):u));// Show success message (you could add a toast notification here)\nconsole.log(\"User \".concat(user.isActive?'frozen':'unfrozen',\" successfully\"));}}catch(error){console.error('Error updating user status:',error);}};const handleEmailUser=user=>{// Open email client with pre-filled recipient\nwindow.location.href=\"mailto:\".concat(user.email);};const handleDeleteUser=async()=>{if(!deletingUser)return;try{console.log('Attempting to delete user:',deletingUser.userId);const response=await userApi.deleteUser(deletingUser.userId);console.log('Delete user response:',response);if(response&&response.success){console.log(\"User \".concat(deletingUser.firstName,\" \").concat(deletingUser.lastName,\" deleted successfully\"));setDeleteSuccess(true);// Smart refetch to handle pagination after deletion\nrefetchUsers();// Delete success modal will be closed manually by user clicking X\n}else{console.error('Failed to delete user:',response===null||response===void 0?void 0:response.message);alert(\"Failed to delete user: \".concat((response===null||response===void 0?void 0:response.message)||'Unknown error'));}}catch(error){console.error('Error deleting user - Full error object:',error);console.error('Error message:',error.message);console.error('Error status:',error.status);console.error('Error response:',error.response);alert(\"Error deleting user: \".concat(error.message||error.status||'Network error occurred'));}};const confirmDeleteUser=user=>{setDeletingUser(user);setShowDeleteConfirm(true);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-vh-100 bg-light\",style:{overflowX:'hidden'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid py-4\",style:{maxWidth:'100%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Users,{className:\"text-primary me-3\",size:32}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-5 fw-bold text-dark mb-0\",children:\"User Accounts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted fs-6 mb-0\",children:\"Manage user accounts and permissions\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex gap-2\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary rounded-3 d-flex align-items-center\",disabled:true,children:[/*#__PURE__*/_jsx(UserPlus,{className:\"me-2\",size:18}),\"Add User\"]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card shadow-sm border-0 rounded-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary mb-3\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Loading accounts...\"})]})})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-vh-100 bg-light\",style:{overflowX:'hidden'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid py-4\",style:{maxWidth:'100%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Users,{className:\"text-primary me-3\",size:32}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-5 fw-bold text-dark mb-0\",children:\"User Accounts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted fs-6 mb-0\",children:\"Manage user accounts and permissions\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex gap-2\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary rounded-3 d-flex align-items-center\",onClick:()=>setShowAddUser(true),children:[/*#__PURE__*/_jsx(UserPlus,{className:\"me-2\",size:18}),\"Add User\"]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 rounded-4 shadow-sm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"position-absolute top-50 start-0 translate-middle-y ms-3 text-muted\",size:18}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control form-control-lg rounded-3 ps-5\",placeholder:\"Search users by name, username, ..\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-lg rounded-3\",value:filterRole,onChange:e=>setFilterRole(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Roles\"}),roles.map(role=>/*#__PURE__*/_jsx(\"option\",{value:role.role.toLowerCase(),children:role.role},role.userRoleId))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-lg rounded-3\",value:filterStatus,onChange:e=>setFilterStatus(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inactive\",children:\"Inactive\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-lg rounded-3\",value:filterVerification,onChange:e=>setFilterVerification(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Users\"}),/*#__PURE__*/_jsx(\"option\",{value:\"verified\",children:\"Verified\"}),/*#__PURE__*/_jsx(\"option\",{value:\"unverified\",children:\"Unverified\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-lg rounded-3\",value:sortBy,onChange:async e=>{const newSortBy=e.target.value;setSortBy(newSortBy);setCurrentPage(1);// Reset to first page when sorting changes\n// If switching to a client-side sort and we don't have all users, fetch them\nif(newSortBy!=='newest'&&allUsers.length===0){await fetchAllUsers();}},children:[/*#__PURE__*/_jsx(\"option\",{value:\"newest\",children:\"Newest First\"}),/*#__PURE__*/_jsx(\"option\",{value:\"oldest\",children:\"Oldest First\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lastLoginNewest\",children:\"Last Login (Recent)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lastLoginOldest\",children:\"Last Login (Oldest)\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-light rounded-3 p-2 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-primary small\",children:displayTotalCount}),/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Users\"})]})})]})})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row g-4\",children:[currentUsers.map(user=>/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-lg-4 col-md-6 col-sm-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 rounded-4 shadow-sm h-100 dashboard-card\",style:{cursor:'pointer',transition:'transform 0.2s, box-shadow 0.2s'},onClick:e=>{// Don't open modal if clicking on dropdown\nif(!e.target.closest('.dropdown')){setUserDetailModal(user);}},onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-2px)';e.currentTarget.style.boxShadow='0 8px 25px rgba(0,0,0,0.15)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='';},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-start justify-content-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rounded-circle bg-primary bg-opacity-10 p-2 me-2\",children:/*#__PURE__*/_jsx(Users,{className:\"text-primary\",size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"fw-bold text-dark mb-0\",children:[user.firstName,\" \",user.lastName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted mb-0 small\",children:[\"@\",user.username]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-secondary rounded-3\",type:\"button\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsx(MoreVertical,{size:16})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu dropdown-menu-end\",style:{width:'190px'},children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item d-flex align-items-center w-100\",onClick:e=>{e.stopPropagation();handleFreezeUser(user);},style:{whiteSpace:'nowrap',textAlign:'left'},children:/*#__PURE__*/_jsx(\"span\",{style:{display:'inline-flex',alignItems:'center',width:'100%'},children:user.isActive?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Lock,{size:14,className:\"me-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Freeze Account\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Unlock,{size:14,className:\"me-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Unfreeze Account\"})]})})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item d-flex align-items-center w-100\",onClick:e=>{e.stopPropagation();handleEmailUser(user);},style:{whiteSpace:'nowrap',textAlign:'left'},children:/*#__PURE__*/_jsxs(\"span\",{style:{display:'inline-flex',alignItems:'center',width:'100%'},children:[/*#__PURE__*/_jsx(Mail,{size:14,className:\"me-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Send Email\"})]})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"hr\",{className:\"dropdown-divider\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item text-danger d-flex align-items-center w-100\",onClick:e=>{e.stopPropagation();confirmDeleteUser(user);},style:{whiteSpace:'nowrap',textAlign:'left'},children:/*#__PURE__*/_jsxs(\"span\",{style:{display:'inline-flex',alignItems:'center',width:'100%'},children:[/*#__PURE__*/_jsx(Trash2,{size:14,className:\"me-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Delete User\"})]})})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-\".concat(getRoleBadgeColor(user.role),\" bg-opacity-10 text-\").concat(getRoleBadgeColor(user.role),\" fw-semibold small\"),children:user.role}),user.isActive?/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-success bg-opacity-10 text-success fw-semibold ms-1 small\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:10,className:\"me-1\"}),\"Active\"]}):/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-secondary bg-opacity-10 text-secondary fw-semibold ms-1 small\",children:[/*#__PURE__*/_jsx(XCircle,{size:10,className:\"me-1\"}),\"Inactive\"]}),user.isTemporary?/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-warning bg-opacity-10 text-warning fw-semibold ms-1 small\",children:[/*#__PURE__*/_jsx(AlertTriangle,{size:10,className:\"me-1\"}),\"Unverified\"]}):/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-info bg-opacity-10 text-info fw-semibold ms-1 small\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:10,className:\"me-1\"}),\"Verified\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-1\",children:[/*#__PURE__*/_jsx(Mail,{className:\"text-muted me-2\",size:12}),/*#__PURE__*/_jsx(\"span\",{className:\"small text-dark text-truncate\",style:{maxWidth:'150px'},title:user.email,children:user.email})]}),user.phoneNumber&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-1\",children:[/*#__PURE__*/_jsx(Phone,{className:\"text-muted me-2\",size:12}),/*#__PURE__*/_jsx(\"span\",{className:\"small text-dark\",children:user.phoneNumber})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"text-muted me-2\",size:12}),/*#__PURE__*/_jsxs(\"span\",{className:\"small text-muted\",children:[\"Joined \",formatDate(user.createdAt)]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-light rounded-3 p-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"small fw-semibold text-muted\",children:\"Last Login\"}),/*#__PURE__*/_jsx(\"span\",{className:\"small text-dark\",children:formatLastLogin(user.lastLogin)})]})})]})})},user.userId)),filteredUsers.length===0&&!loading&&/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 rounded-4 shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-5 text-center\",children:[/*#__PURE__*/_jsx(Users,{size:64,className:\"text-muted mb-3 opacity-50\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"fw-bold text-muted mb-2\",children:\"No Users Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-4\",children:searchTerm||filterRole!=='all'?'Try adjusting your search or filter criteria.':'Get started by adding your first user.'}),!searchTerm&&filterRole==='all'&&/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary rounded-3\",onClick:()=>setShowAddUser(true),children:[/*#__PURE__*/_jsx(UserPlus,{className:\"me-2\",size:18}),\"Add First User\"]})]})})})]}),(displayTotalCount>pageSize||sortBy==='oldest'||sortBy==='lastLoginNewest'||sortBy==='lastLoginOldest')&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:hasFilters?\"Showing \".concat(currentUsers.length,\" of \").concat(displayTotalCount,\" users (filtered)\"):\"Showing \".concat((currentPage-1)*pageSize+1,\" to \").concat(Math.min(currentPage*pageSize,displayTotalCount),\" of \").concat(displayTotalCount,\" users\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted small\",children:\"Users per page:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-sm\",style:{width:'auto'},value:pageSize,onChange:e=>{const newPageSize=Number(e.target.value);setPageSize(newPageSize);setCurrentPage(1);if(!hasFilters){loadData(1,newPageSize);}},children:[/*#__PURE__*/_jsx(\"option\",{value:20,children:\"20\"}),/*#__PURE__*/_jsx(\"option\",{value:50,children:\"50\"}),/*#__PURE__*/_jsx(\"option\",{value:100,children:\"100\"})]})]})]}),/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"ul\",{className:\"pagination pagination-sm mb-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===1?'disabled':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>{setCurrentPage(1);if(!hasFilters){loadData(1,pageSize);}},disabled:currentPage===1,children:/*#__PURE__*/_jsx(ChevronsLeft,{size:16})})}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===1?'disabled':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>{const newPage=currentPage-1;setCurrentPage(newPage);if(!hasFilters){loadData(newPage,pageSize);}},disabled:currentPage===1,children:/*#__PURE__*/_jsx(ChevronLeft,{size:16})})}),Array.from({length:Math.min(5,displayTotalPages)},(_,i)=>{let pageNum;if(displayTotalPages<=5){pageNum=i+1;}else if(currentPage<=3){pageNum=i+1;}else if(currentPage>=displayTotalPages-2){pageNum=displayTotalPages-4+i;}else{pageNum=currentPage-2+i;}return/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===pageNum?'active':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>{setCurrentPage(pageNum);if(!hasFilters){loadData(pageNum,pageSize);}},children:pageNum})},pageNum);}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===displayTotalPages?'disabled':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>{const newPage=currentPage+1;setCurrentPage(newPage);if(!hasFilters){loadData(newPage,pageSize);}},disabled:currentPage===displayTotalPages,children:/*#__PURE__*/_jsx(ChevronRight,{size:16})})}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===displayTotalPages?'disabled':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>{setCurrentPage(displayTotalPages);if(!hasFilters){loadData(displayTotalPages,pageSize);}},disabled:currentPage===displayTotalPages,children:/*#__PURE__*/_jsx(ChevronsRight,{size:16})})})]})})]}),userDetailModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal d-block\",style:{backgroundColor:'rgba(0,0,0,0.5)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered modal-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content border-0 rounded-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header border-0 pb-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rounded-circle bg-primary bg-opacity-10 p-2 me-3\",children:/*#__PURE__*/_jsx(Users,{className:\"text-primary\",size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"modal-title fw-bold mb-0\",children:[userDetailModal.firstName,\" \",userDetailModal.lastName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted small mb-0\",children:[\"@\",userDetailModal.username]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:()=>setUserDetailModal(null)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2 mb-3\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-\".concat(getRoleBadgeColor(userDetailModal.role),\" bg-opacity-10 text-\").concat(getRoleBadgeColor(userDetailModal.role),\" fw-semibold px-3 py-2\"),children:[/*#__PURE__*/_jsx(Shield,{size:14,className:\"me-1\"}),userDetailModal.role]}),userDetailModal.isActive?/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-success bg-opacity-10 text-success fw-semibold px-3 py-2\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:14,className:\"me-1\"}),\"Active\"]}):/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-secondary bg-opacity-10 text-secondary fw-semibold px-3 py-2\",children:[/*#__PURE__*/_jsx(XCircle,{size:14,className:\"me-1\"}),\"Inactive\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-primary bg-opacity-10 rounded-4 p-4\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"fw-bold text-primary mb-3\",children:[/*#__PURE__*/_jsx(Users,{size:16,className:\"me-2\"}),\"Basic Information\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"User ID\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-semibold text-dark\",children:userDetailModal.userId})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-semibold text-dark\",children:userDetailModal.firstName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-semibold text-dark\",children:userDetailModal.lastName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Username\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fw-semibold text-dark\",children:[\"@\",userDetailModal.username]})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-info bg-opacity-10 rounded-4 p-4\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"fw-bold text-info mb-3\",children:[/*#__PURE__*/_jsx(Mail,{size:16,className:\"me-2\"}),\"Contact Information\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"row g-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-3\",children:[/*#__PURE__*/_jsx(Mail,{className:\"text-info me-3\",size:16}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-semibold text-dark\",children:userDetailModal.email})]})]}),userDetailModal.phoneNumber&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Phone,{className:\"text-info me-3\",size:16}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-semibold text-dark\",children:userDetailModal.phoneNumber})]})]}),!userDetailModal.phoneNumber&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Phone,{className:\"text-muted me-3\",size:16}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted\",children:\"Not provided\"})]})]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-success bg-opacity-10 rounded-4 p-4\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"fw-bold text-success mb-3\",children:[/*#__PURE__*/_jsx(Calendar,{size:16,className:\"me-2\"}),\"Activity Information\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Last Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-dark h5 mb-0\",children:formatLastLogin(userDetailModal.lastLogin)})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Member Since\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-dark h5 mb-0\",children:formatDate(userDetailModal.createdAt)})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Account Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-dark h5 mb-0\",children:userDetailModal.isActive?'Active':'Inactive'})]})})]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer border-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex gap-2 w-100\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-primary rounded-3 flex-fill\",onClick:()=>{setEditUserForm({userId:userDetailModal.userId,firstName:userDetailModal.firstName,lastName:userDetailModal.lastName,username:userDetailModal.username,email:userDetailModal.email,phoneNumber:userDetailModal.phoneNumber||'',role:userDetailModal.role,isActive:true});setUserDetailModal(null);setShowEditUser(true);},children:[/*#__PURE__*/_jsx(Edit3,{size:16,className:\"me-2\"}),\"Edit User\"]})})})]})})}),showEditUser&&/*#__PURE__*/_jsx(\"div\",{className:\"modal d-block\",style:{backgroundColor:'rgba(0,0,0,0.5)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered modal-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content border-0 rounded-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header border-0 pb-0\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title fw-bold\",children:\"Edit User\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:resetEditUserModal})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:editSubmitSuccess?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:64,className:\"text-success mb-3\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-success fw-bold\",children:\"User Updated Successfully!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"The user information has been updated.\"})]}):/*#__PURE__*/_jsx(\"form\",{onSubmit:handleEditUserSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(editFormErrors.firstName?'is-invalid':''),placeholder:\"Enter first name\",value:editUserForm.firstName,onChange:e=>handleEditInputChange('firstName',e.target.value)}),editFormErrors.firstName&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.firstName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(editFormErrors.lastName?'is-invalid':''),placeholder:\"Enter last name\",value:editUserForm.lastName,onChange:e=>handleEditInputChange('lastName',e.target.value)}),editFormErrors.lastName&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.lastName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(editFormErrors.username?'is-invalid':''),placeholder:\"Enter username\",value:editUserForm.username,onChange:e=>handleEditInputChange('username',e.target.value)}),editFormErrors.username&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.username]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control rounded-3 \".concat(editFormErrors.email?'is-invalid':''),placeholder:\"Enter email address\",value:editUserForm.email,onChange:e=>handleEditInputChange('email',e.target.value)}),editFormErrors.email&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.email]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",className:\"form-control rounded-3 \".concat(editFormErrors.phoneNumber?'is-invalid':''),placeholder:\"e.g., +1 (555) 123-4567 or 555-123-4567\",value:editUserForm.phoneNumber,onChange:e=>handleEditInputChange('phoneNumber',e.target.value)}),editFormErrors.phoneNumber&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.phoneNumber]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select rounded-3 \".concat(editFormErrors.role?'is-invalid':''),value:editUserForm.role,onChange:e=>handleEditInputChange('role',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a role\"}),roles.map(role=>/*#__PURE__*/_jsx(\"option\",{value:role.role,children:role.role},role.userRoleId))]}),editFormErrors.role&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.role]})]})]})})}),!editSubmitSuccess&&/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer border-0 pt-0\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary rounded-3\",onClick:resetEditUserModal,disabled:isEditSubmitting,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary rounded-3\",onClick:handleEditUserSubmit,disabled:isEditSubmitting,children:isEditSubmitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),\"Updating User...\"]}):'Update User'})]})]})})}),showAddUser&&/*#__PURE__*/_jsx(\"div\",{className:\"modal d-block\",style:{backgroundColor:'rgba(0,0,0,0.5)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered modal-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content border-0 rounded-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header border-0 pb-0\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title fw-bold\",children:\"Add New User\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:resetAddUserModal})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:submitSuccess?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:64,className:\"text-success mb-3\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-success fw-bold\",children:\"User Created Successfully!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"The new user has been registered and can now login to the system.\"})]}):/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmitNewUser,children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(formErrors.firstName?'is-invalid':''),placeholder:\"Enter first name\",value:newUserForm.firstName,onChange:e=>handleInputChange('firstName',e.target.value)}),formErrors.firstName&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.firstName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(formErrors.lastName?'is-invalid':''),placeholder:\"Enter last name\",value:newUserForm.lastName,onChange:e=>handleInputChange('lastName',e.target.value)}),formErrors.lastName&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.lastName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(formErrors.username?'is-invalid':''),placeholder:\"Enter username\",value:newUserForm.username,onChange:e=>handleInputChange('username',e.target.value)}),formErrors.username&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.username]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control rounded-3 \".concat(formErrors.email?'is-invalid':''),placeholder:\"Enter email address\",value:newUserForm.email,onChange:e=>handleInputChange('email',e.target.value)}),formErrors.email&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.email]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",className:\"form-control rounded-3 \".concat(formErrors.phoneNumber?'is-invalid':''),placeholder:\"e.g., +1 (555) 123-4567 or 555-123-4567\",value:newUserForm.phoneNumber,onChange:e=>handleInputChange('phoneNumber',e.target.value)}),formErrors.phoneNumber&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.phoneNumber]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select rounded-3 \".concat(formErrors.role?'is-invalid':''),value:newUserForm.role,onChange:e=>handleInputChange('role',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a role\"}),roles.map(role=>/*#__PURE__*/_jsx(\"option\",{value:role.role,children:role.role},role.userRoleId))]}),formErrors.role&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.role]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',className:\"form-control rounded-3 pe-5 \".concat(formErrors.password?'is-invalid':''),placeholder:\"Min 8 chars, 1 uppercase, 1 lowercase, 1 digit, 1 special (@$!%*?&)\",value:newUserForm.password,onChange:e=>handleInputChange('password',e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowPassword(!showPassword),className:\"btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2 border-0 p-1\",style:{zIndex:10},children:showPassword?/*#__PURE__*/_jsx(EyeOff,{size:18}):/*#__PURE__*/_jsx(Eye,{size:18})}),formErrors.password&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.password]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Confirm Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:showReEnterPassword?'text':'password',className:\"form-control rounded-3 pe-5 \".concat(formErrors.reEnterPassword?'is-invalid':''),placeholder:\"Re-enter password\",value:newUserForm.reEnterPassword,onChange:e=>handleInputChange('reEnterPassword',e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowReEnterPassword(!showReEnterPassword),className:\"btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2 border-0 p-1\",style:{zIndex:10},children:showReEnterPassword?/*#__PURE__*/_jsx(EyeOff,{size:18}):/*#__PURE__*/_jsx(Eye,{size:18})}),formErrors.reEnterPassword&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.reEnterPassword]})]})]})]})})}),!submitSuccess&&/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer border-0 pt-0\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary rounded-3\",onClick:resetAddUserModal,disabled:isSubmitting,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary rounded-3\",onClick:handleSubmitNewUser,disabled:isSubmitting,children:isSubmitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),\"Creating User...\"]}):'Create User'})]})]})})}),showDeleteConfirm&&deletingUser&&/*#__PURE__*/_jsx(\"div\",{className:\"modal d-block\",style:{backgroundColor:'rgba(0,0,0,0.5)',position:'fixed',top:0,left:0,width:'100%',height:'100%',zIndex:1050},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content border-0 rounded-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header border-0 pb-0\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"modal-title fw-bold text-danger\",children:deleteSuccess?'User Deleted':'Confirm Deletion'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:()=>{setShowDeleteConfirm(false);setDeletingUser(null);setDeleteSuccess(false);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:deleteSuccess?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:64,className:\"text-success mb-3\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-success fw-bold\",children:\"User Deleted Successfully!\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[deletingUser.firstName,\" \",deletingUser.lastName]}),\" has been permanently removed.\"]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(AlertTriangle,{size:64,className:\"text-warning mb-3\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"fw-bold\",children:\"Are you sure you want to delete this user?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-light rounded-3 p-3 my-3\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"fw-bold text-dark mb-1\",children:[deletingUser.firstName,\" \",deletingUser.lastName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted small mb-1\",children:[/*#__PURE__*/_jsx(Mail,{className:\"me-1\",size:14}),deletingUser.email]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted small mb-0\",children:[/*#__PURE__*/_jsx(Shield,{className:\"me-1\",size:14}),\"Role: \",deletingUser.role]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-danger small fw-semibold\",children:\"\\u26A0\\uFE0F This action cannot be undone. All user data and permissions will be permanently removed.\"})]})}),!deleteSuccess&&/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer border-0 pt-0\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowDeleteConfirm(false);setDeletingUser(null);},className:\"btn btn-secondary rounded-3 fw-semibold\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleDeleteUser,className:\"btn btn-danger rounded-3 fw-semibold d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Trash2,{className:\"me-2\",size:16}),\"Delete User\"]})]})]})})})]})});}","map":{"version":3,"names":["React","useState","useEffect","Users","Search","Edit3","Trash2","Mail","Phone","Calendar","Shield","CheckCircle2","XCircle","MoreVertical","UserPlus","AlertCircle","Eye","EyeOff","Lock","Unlock","ChevronLeft","ChevronRight","ChevronsLeft","ChevronsRight","AlertTriangle","userApi","roleApi","authApi","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Accounts","users","setUsers","allUsers","setAllUsers","roles","setRoles","searchTerm","setSearchTerm","filterRole","setFilterRole","filterStatus","setFilterStatus","filterVerification","setFilterVerification","sortBy","setSortBy","showAddUser","setShowAddUser","userDetailModal","setUserDetailModal","showEditUser","setShowEditUser","editUserForm","setEditUserForm","userId","firstName","lastName","username","email","phoneNumber","role","isActive","editFormErrors","setEditFormErrors","isEditSubmitting","setIsEditSubmitting","editSubmitSuccess","setEditSubmitSuccess","loading","setLoading","currentPage","setCurrentPage","pageSize","setPageSize","totalCount","setTotalCount","totalPages","setTotalPages","newUserForm","setNewUserForm","password","reEnterPassword","formErrors","setFormErrors","isSubmitting","setIsSubmitting","showPassword","setShowPassword","showReEnterPassword","setShowReEnterPassword","submitSuccess","setSubmitSuccess","showDeleteConfirm","setShowDeleteConfirm","deletingUser","setDeletingUser","deleteSuccess","setDeleteSuccess","handleEscKey","event","key","resetAddUserModal","document","addEventListener","removeEventListener","fetchAllUsers","maxPageSize","hasMoreData","_usersResponse$data","usersResponse","getAllUsers","success","data","transformedUsers","map","user","lastLogin","createdAt","isTemporary","console","log","length","error","loadData","page","arguments","undefined","size","_usersResponse$data2","allTransformedUsers","startIndex","endIndex","paginatedUsers","slice","Math","ceil","message","_rolesResponse$data","rolesResponse","getAllRoles","refetchUsers","hasFilters","_response$data","response","newTotalPages","newTotalCount","refetchAndGoToFirstPage","sourceUsers","filteredUsers","filter","matchesSearch","toLowerCase","includes","matchesRole","matchesStatus","matchesVerification","sortedUsers","sort","a","b","Date","getTime","currentUsers","displayTotalPages","displayTotalCount","handleEscapeKey","resetEditUserModal","getRoleBadgeColor","colors","hash","split","reduce","acc","char","charCodeAt","formatDate","dateString","toLocaleDateString","year","month","day","formatLastLogin","now","diffInHours","floor","concat","diffInDays","handleInputChange","field","value","prev","_objectSpread","validateForm","errors","trim","test","Object","keys","handleSubmitNewUser","e","preventDefault","register","serverErrors","forEach","fieldName","errorValue","errorMessage","Array","isArray","status","handleEditInputChange","validateEditForm","handleEditUserSubmit","updateUser","prevUsers","handleFreezeUser","updatedUser","u","handleEmailUser","window","location","href","handleDeleteUser","deleteUser","alert","confirmDeleteUser","className","style","overflowX","children","maxWidth","disabled","onClick","type","placeholder","onChange","target","userRoleId","newSortBy","cursor","transition","closest","onMouseEnter","currentTarget","transform","boxShadow","onMouseLeave","stopPropagation","width","whiteSpace","textAlign","display","alignItems","title","min","newPageSize","Number","newPage","from","_","i","pageNum","backgroundColor","onSubmit","zIndex","position","top","left","height"],"sources":["/Users/jaili/csharpProject/Prototype/Prototype/ClientApp/src/components/account/Accounts.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Users, \n  Search, \n  Edit3, \n  Trash2, \n  Mail, \n  Phone, \n  Calendar,\n  Shield,\n  CheckCircle2,\n  XCircle,\n  MoreVertical,\n  UserPlus,\n  AlertCircle,\n  Eye,\n  EyeOff,\n  Lock,\n  Unlock,\n  ChevronLeft,\n  ChevronRight,\n  ChevronsLeft,\n  ChevronsRight,\n  AlertTriangle\n} from 'lucide-react';\nimport { userApi, roleApi } from '../../services/api';\nimport { authApi } from '../../services/api';\n\ninterface Role {\n  userRoleId: string;\n  role: string;\n  createdAt: string;\n  createdBy: string;\n}\n\ninterface User {\n  userId: string;\n  firstName: string;\n  lastName: string;\n  username: string;\n  email: string;\n  phoneNumber?: string;\n  isActive: boolean;\n  role: string;\n  lastLogin?: string;\n  createdAt: string;\n  isTemporary?: boolean;\n}\n\ninterface NewUserForm {\n  firstName: string;\n  lastName: string;\n  username: string;\n  email: string;\n  phoneNumber: string;\n  password: string;\n  reEnterPassword: string;\n  role: string;\n}\n\ninterface EditUserForm {\n  userId: string;\n  firstName: string;\n  lastName: string;\n  username: string;\n  email: string;\n  phoneNumber: string;\n  role: string;\n  isActive: boolean;\n}\n\nexport default function Accounts() {\n  const [users, setUsers] = useState<User[]>([]);\n  const [allUsers, setAllUsers] = useState<User[]>([]);\n  const [roles, setRoles] = useState<Role[]>([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterRole, setFilterRole] = useState<string>('all');\n  const [filterStatus, setFilterStatus] = useState<string>('all'); // active, inactive, all\n  const [filterVerification, setFilterVerification] = useState<string>('all'); // verified, unverified, all\n  const [sortBy, setSortBy] = useState<string>('newest'); // newest, oldest, lastLoginNewest, lastLoginOldest\n  const [showAddUser, setShowAddUser] = useState(false);\n  const [userDetailModal, setUserDetailModal] = useState<User | null>(null);\n  const [showEditUser, setShowEditUser] = useState(false);\n  const [editUserForm, setEditUserForm] = useState<EditUserForm>({\n    userId: '',\n    firstName: '',\n    lastName: '',\n    username: '',\n    email: '',\n    phoneNumber: '',\n    role: '',\n    isActive: true\n  });\n  const [editFormErrors, setEditFormErrors] = useState<Partial<EditUserForm>>({});\n  const [isEditSubmitting, setIsEditSubmitting] = useState(false);\n  const [editSubmitSuccess, setEditSubmitSuccess] = useState(false);\n  const [loading, setLoading] = useState(true);\n  \n  // Pagination state\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageSize, setPageSize] = useState(20);\n  const [totalCount, setTotalCount] = useState(0);\n  const [totalPages, setTotalPages] = useState(0);\n  \n  // New User Form State\n  const [newUserForm, setNewUserForm] = useState<NewUserForm>({\n    firstName: '',\n    lastName: '',\n    username: '',\n    email: '',\n    phoneNumber: '',\n    password: '',\n    reEnterPassword: '',\n    role: ''\n  });\n  const [formErrors, setFormErrors] = useState<Partial<NewUserForm>>({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [showReEnterPassword, setShowReEnterPassword] = useState(false);\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n  const [deletingUser, setDeletingUser] = useState<User | null>(null);\n  const [deleteSuccess, setDeleteSuccess] = useState(false);\n\n  // ESC key handler for modal\n  useEffect(() => {\n    const handleEscKey = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && showAddUser) {\n        resetAddUserModal();\n      }\n    };\n\n    if (showAddUser) {\n      document.addEventListener('keydown', handleEscKey);\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleEscKey);\n    };\n  }, [showAddUser]);\n\n  const fetchAllUsers = async () => {\n    try {\n      let allUsers: User[] = [];\n      let currentPage = 1;\n      const maxPageSize = 100; // Backend limit\n      let hasMoreData = true;\n      \n      while (hasMoreData) {\n        const usersResponse = await userApi.getAllUsers(currentPage, maxPageSize);\n        \n        if (usersResponse.success && usersResponse.data?.data) {\n          const transformedUsers: User[] = usersResponse.data.data.map((user: any) => ({\n            userId: user.userId,\n            firstName: user.firstName,\n            lastName: user.lastName,\n            username: user.username,\n            email: user.email,\n            phoneNumber: user.phoneNumber,\n            isActive: user.isActive,\n            role: user.role,\n            lastLogin: user.lastLogin,\n            createdAt: user.createdAt,\n            isTemporary: user.isTemporary || false\n          }));\n          \n          allUsers = [...allUsers, ...transformedUsers];\n          \n          // Check if we've fetched all pages\n          const totalPages = usersResponse.data.totalPages || 1;\n          hasMoreData = currentPage < totalPages;\n          currentPage++;\n        } else if (usersResponse.success && usersResponse.users) {\n          // Fallback for old API response format\n          const transformedUsers: User[] = usersResponse.users.map((user: any) => ({\n            userId: user.userId,\n            firstName: user.firstName,\n            lastName: user.lastName,\n            username: user.username,\n            email: user.email,\n            phoneNumber: user.phoneNumber,\n            isActive: user.isActive,\n            role: user.role,\n            lastLogin: user.lastLogin,\n            createdAt: user.createdAt,\n            isTemporary: user.isTemporary || false\n          }));\n          allUsers = transformedUsers;\n          hasMoreData = false; // Old format returns all data at once\n        } else {\n          hasMoreData = false;\n        }\n      }\n      \n      console.log('Fetched all users:', allUsers.length);\n      setAllUsers(allUsers);\n      return allUsers;\n    } catch (error) {\n      console.error('Failed to fetch all users:', error);\n      return [];\n    }\n  };\n\n  // Load users and roles from database\n  const loadData = async (page: number = currentPage, size: number = pageSize) => {\n    setLoading(true);\n    \n    // Load users - this should always work regardless of roles\n    try {\n      const usersResponse = await userApi.getAllUsers(page, size);\n      \n      if (usersResponse.success && usersResponse.data?.data) {\n        const transformedUsers: User[] = usersResponse.data.data.map((user: any) => ({\n          userId: user.userId,\n          firstName: user.firstName,\n          lastName: user.lastName,\n          username: user.username,\n          email: user.email,\n          phoneNumber: user.phoneNumber,\n          isActive: user.isActive,\n          role: user.role,\n          lastLogin: user.lastLogin,\n          createdAt: user.createdAt,\n          isTemporary: user.isTemporary || false\n        }));\n        \n        setUsers(transformedUsers);\n        setCurrentPage(usersResponse.data.page || page);\n        setPageSize(usersResponse.data.pageSize || size);\n        setTotalCount(usersResponse.data.totalCount || 0);\n        setTotalPages(usersResponse.data.totalPages || 1);\n      } else if (usersResponse.success && usersResponse.users) {\n        // Fallback for old API response format - use client-side pagination\n        const allTransformedUsers: User[] = usersResponse.users.map((user: any) => ({\n          userId: user.userId,\n          firstName: user.firstName,\n          lastName: user.lastName,\n          username: user.username,\n          email: user.email,\n          phoneNumber: user.phoneNumber,\n          isActive: user.isActive,\n          role: user.role,\n          lastLogin: user.lastLogin,\n          createdAt: user.createdAt,\n          isTemporary: user.isTemporary || false\n        }));\n        const startIndex = (page - 1) * size;\n        const endIndex = startIndex + size;\n        const paginatedUsers = allTransformedUsers.slice(startIndex, endIndex);\n        setUsers(paginatedUsers);\n        // Set pagination values for non-paginated response\n        setTotalCount(allTransformedUsers.length);\n        setTotalPages(Math.ceil(allTransformedUsers.length / size));\n        setCurrentPage(page);\n        setPageSize(size);\n      } else {\n        console.error('Failed to load users:', usersResponse.message);\n        setUsers([]);\n      }\n    } catch (error) {\n      console.error('Error loading users:', error);\n      setUsers([]);\n    }\n    \n    // Load roles - independent of users\n    try {\n      const rolesResponse = await roleApi.getAllRoles(1, 100); // Get up to 100 roles\n      \n      if (rolesResponse.success && rolesResponse.data?.data) {\n        setRoles(rolesResponse.data.data);\n      } else if (rolesResponse.success && rolesResponse.roles) {\n        // Fallback for old API response format\n        setRoles(rolesResponse.roles);\n      } else {\n        console.error('Failed to load roles:', rolesResponse.message);\n        setRoles([]);\n      }\n    } catch (error) {\n      console.error('Error loading roles:', error);\n      setRoles([]);\n    }\n    \n    setLoading(false);\n  };\n\n  // Smart refetch that handles empty pages after deletion  \n  const refetchUsers = async () => {\n    if (hasFilters) {\n      // For filtered view, reload all data and let frontend handle filtering\n      await loadData(1, 100); // Load more data for filtering\n      // Also refresh all users\n      await fetchAllUsers();\n    } else {\n      // For paginated view, check if we need to adjust page\n      const response = await userApi.getAllUsers(currentPage, pageSize);\n      if (response.success && response.data?.data) {\n        const newTotalPages = response.data.totalPages || 1;\n        const newTotalCount = response.data.totalCount || 0;\n        \n        if (currentPage > newTotalPages && newTotalCount > 0) {\n          // Navigate to last available page\n          setCurrentPage(newTotalPages);\n          await loadData(newTotalPages, pageSize);\n        } else if (newTotalCount === 0) {\n          // If no users at all, go to page 1\n          setCurrentPage(1);\n          await loadData(1, pageSize);\n        } else {\n          // Current page is valid, just update data\n          await loadData(currentPage, pageSize);\n        }\n      }\n      // Also refresh all users\n      await fetchAllUsers();\n    }\n  };\n\n  // Refetch and navigate to first page (where new items should appear)\n  const refetchAndGoToFirstPage = async () => {\n    setCurrentPage(1);\n    await loadData(1, pageSize);\n    // Also refresh all users\n    await fetchAllUsers();\n  };\n\n  useEffect(() => {\n    loadData(1, pageSize);\n    // Also fetch all users for client-side operations\n    fetchAllUsers();\n  }, []);\n\n  // Use filtered/sorted users for display (when filters are active)\n  // Use backend pagination when no filters are applied\n  const hasFilters = searchTerm !== '' || filterRole !== 'all' || filterStatus !== 'all' || filterVerification !== 'all' || sortBy !== 'newest';\n  \n  // Use allUsers for filtering/sorting, users for backend pagination\n  const sourceUsers = hasFilters ? allUsers : users;\n  \n  // Filter users\n  const filteredUsers = sourceUsers.filter(user => {\n    const matchesSearch = searchTerm === '' || \n                         user.firstName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         user.lastName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         user.username.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         user.email.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesRole = filterRole === 'all' || user.role.toLowerCase() === filterRole.toLowerCase();\n    \n    const matchesStatus = filterStatus === 'all' || \n                         (filterStatus === 'active' && user.isActive) ||\n                         (filterStatus === 'inactive' && !user.isActive);\n    \n    const matchesVerification = filterVerification === 'all' ||\n                               (filterVerification === 'verified' && !user.isTemporary) ||\n                               (filterVerification === 'unverified' && user.isTemporary);\n    \n    return matchesSearch && matchesRole && matchesStatus && matchesVerification;\n  });\n\n  // Sort users based on selected sort option\n  const sortedUsers = [...filteredUsers].sort((a, b) => {\n    switch (sortBy) {\n      case 'oldest':\n        return new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime();\n      case 'lastLoginNewest':\n        if (!a.lastLogin && !b.lastLogin) return 0;\n        if (!a.lastLogin) return 1; // Put users without login at the end\n        if (!b.lastLogin) return -1;\n        return new Date(b.lastLogin).getTime() - new Date(a.lastLogin).getTime();\n      case 'lastLoginOldest':\n        if (!a.lastLogin && !b.lastLogin) return 0;\n        if (!a.lastLogin) return 1; // Put users without login at the end\n        if (!b.lastLogin) return -1;\n        return new Date(a.lastLogin).getTime() - new Date(b.lastLogin).getTime();\n      case 'newest':\n      default:\n        return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();\n    }\n  });\n  \n  let currentUsers: User[], displayTotalPages: number, displayTotalCount: number;\n  if (hasFilters) {\n    // Client-side pagination for filtered results\n    const startIndex = (currentPage - 1) * pageSize;\n    const endIndex = startIndex + pageSize;\n    currentUsers = sortedUsers.slice(startIndex, endIndex);\n    displayTotalPages = Math.ceil(sortedUsers.length / pageSize);\n    displayTotalCount = sortedUsers.length;\n  } else {\n    // Backend pagination for unfiltered results\n    currentUsers = users;\n    displayTotalPages = totalPages;\n    displayTotalCount = totalCount;\n  }\n\n  // Reset to first page when filters change\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [searchTerm, filterRole, filterStatus, filterVerification, sortBy]);\n\n  // Add escape key listener for edit user modal\n  useEffect(() => {\n    const handleEscapeKey = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        if (showEditUser) {\n          resetEditUserModal();\n        }\n        if (userDetailModal) {\n          setUserDetailModal(null);\n        }\n      }\n    };\n\n    document.addEventListener('keydown', handleEscapeKey);\n    return () => {\n      document.removeEventListener('keydown', handleEscapeKey);\n    };\n  }, [showEditUser, userDetailModal]);\n\n  const getRoleBadgeColor = (role: string) => {\n    // Create a consistent color mapping based on role name\n    const colors = ['primary', 'danger', 'warning', 'info', 'success', 'secondary'];\n    const hash = role.toLowerCase().split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);\n    return colors[hash % colors.length];\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n\n  const formatLastLogin = (dateString?: string) => {\n    if (!dateString) return 'Never';\n    const now = new Date();\n    const lastLogin = new Date(dateString);\n    const diffInHours = Math.floor((now.getTime() - lastLogin.getTime()) / (1000 * 60 * 60));\n    \n    if (diffInHours < 1) return 'Just now';\n    if (diffInHours < 24) return `${diffInHours}h ago`;\n    const diffInDays = Math.floor(diffInHours / 24);\n    if (diffInDays < 7) return `${diffInDays}d ago`;\n    return formatDate(dateString);\n  };\n\n  // Form handling functions\n  const handleInputChange = (field: keyof NewUserForm, value: string) => {\n    setNewUserForm(prev => ({ ...prev, [field]: value }));\n    // Clear error when user starts typing\n    if (formErrors[field]) {\n      setFormErrors(prev => ({ ...prev, [field]: undefined }));\n    }\n  };\n\n  const validateForm = (): boolean => {\n    const errors: Partial<NewUserForm> = {};\n\n    // First name validation\n    if (!newUserForm.firstName.trim()) {\n      errors.firstName = 'First name is required';\n    } else if (newUserForm.firstName.length > 50) {\n      errors.firstName = 'First name must be between 1 and 50 characters';\n    }\n\n    // Last name validation\n    if (!newUserForm.lastName.trim()) {\n      errors.lastName = 'Last name is required';\n    } else if (newUserForm.lastName.length > 50) {\n      errors.lastName = 'Last name must be between 1 and 50 characters';\n    }\n\n    // Username validation\n    if (!newUserForm.username.trim()) {\n      errors.username = 'Username is required';\n    } else if (newUserForm.username.length < 3 || newUserForm.username.length > 100) {\n      errors.username = 'Username must be between 3 and 100 characters';\n    } else if (!/^[a-zA-Z0-9_.-]+$/.test(newUserForm.username)) {\n      errors.username = 'Username can only contain letters, numbers, underscores, dots, and hyphens';\n    }\n\n    // Email validation\n    if (!newUserForm.email.trim()) {\n      errors.email = 'Email is required';\n    } else if (!/\\S+@\\S+\\.\\S+/.test(newUserForm.email)) {\n      errors.email = 'Invalid email format';\n    } else if (newUserForm.email.length > 255) {\n      errors.email = 'Email cannot exceed 255 characters';\n    }\n\n    // Phone number validation (basic format)\n    if (!newUserForm.phoneNumber.trim()) {\n      errors.phoneNumber = 'Phone number is required';\n    } else if (newUserForm.phoneNumber.length > 20) {\n      errors.phoneNumber = 'Phone number cannot exceed 20 characters';\n    }\n\n    // Role validation\n    if (!newUserForm.role.trim()) {\n      errors.role = 'Role is required';\n    }\n\n    // Password validation to match backend requirements\n    if (!newUserForm.password.trim()) {\n      errors.password = 'Password is required';\n    } else if (newUserForm.password.length < 8 || newUserForm.password.length > 128) {\n      errors.password = 'Password must be between 8 and 128 characters';\n    } else if (!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/.test(newUserForm.password)) {\n      errors.password = 'Password must contain at least one uppercase letter, one lowercase letter, one digit, and one special character (@$!%*?&)';\n    }\n\n    // Confirm password validation\n    if (!newUserForm.reEnterPassword.trim()) {\n      errors.reEnterPassword = 'Please confirm password';\n    } else if (newUserForm.password !== newUserForm.reEnterPassword) {\n      errors.reEnterPassword = 'Passwords do not match';\n    }\n\n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleSubmitNewUser = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateForm()) return;\n\n    setIsSubmitting(true);\n    setFormErrors({}); // Clear any previous errors\n    \n    try {\n      console.log('Submitting user registration:', newUserForm);\n      const response = await authApi.register(newUserForm);\n      console.log('Registration response:', response);\n      \n      if (response && response.success) {\n        setSubmitSuccess(true);\n        // Reset form\n        setNewUserForm({\n          firstName: '',\n          lastName: '',\n          username: '',\n          email: '',\n          phoneNumber: '',\n          password: '',\n          reEnterPassword: '',\n          role: ''\n        });\n        setFormErrors({});\n        \n        // Refresh the user list and go to first page to show the newly created user\n        refetchAndGoToFirstPage();\n        \n        // User form will be closed manually by user clicking X\n      } else {\n        // Handle server errors\n        console.error('Registration failed:', response);\n        if (response?.errors) {\n          // Handle field-specific validation errors from server\n          const serverErrors: Partial<NewUserForm> = {};\n          const errors = response.errors as unknown as { [key: string]: string | string[] };\n          Object.keys(errors).forEach(key => {\n            const fieldName = key.toLowerCase();\n            const errorValue = errors[key];\n            const errorMessage = Array.isArray(errorValue) ? errorValue[0] : errorValue;\n            if (fieldName.includes('firstname')) serverErrors.firstName = errorMessage;\n            else if (fieldName.includes('lastname')) serverErrors.lastName = errorMessage;\n            else if (fieldName.includes('username')) serverErrors.username = errorMessage;\n            else if (fieldName.includes('email')) serverErrors.email = errorMessage;\n            else if (fieldName.includes('phone')) serverErrors.phoneNumber = errorMessage;\n            else if (fieldName.includes('password')) serverErrors.password = errorMessage;\n            else serverErrors.email = errorMessage;\n          });\n          setFormErrors(serverErrors);\n        } else {\n          setFormErrors({ email: response?.message || 'Registration failed' });\n        }\n      }\n    } catch (error: any) {\n      console.error('Registration error:', error);\n      // Handle network or parsing errors\n      if (error.status === 400 && error.errors) {\n        const serverErrors: Partial<NewUserForm> = {};\n        const errors = error.errors as unknown as { [key: string]: string | string[] };\n        Object.keys(errors).forEach(key => {\n          const fieldName = key.toLowerCase();\n          const errorValue = errors[key];\n          const errorMessage = Array.isArray(errorValue) ? errorValue[0] : errorValue;\n          if (fieldName.includes('firstname')) serverErrors.firstName = errorMessage;\n          else if (fieldName.includes('lastname')) serverErrors.lastName = errorMessage;\n          else if (fieldName.includes('username')) serverErrors.username = errorMessage;\n          else if (fieldName.includes('email')) serverErrors.email = errorMessage;\n          else if (fieldName.includes('phone')) serverErrors.phoneNumber = errorMessage;\n          else if (fieldName.includes('password')) serverErrors.password = errorMessage;\n          else serverErrors.email = errorMessage;\n        });\n        setFormErrors(serverErrors);\n      } else {\n        setFormErrors({ email: error.message || 'Network error occurred' });\n      }\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const resetAddUserModal = () => {\n    setNewUserForm({\n      firstName: '',\n      lastName: '',\n      username: '',\n      email: '',\n      phoneNumber: '',\n      password: '',\n      reEnterPassword: '',\n      role: ''\n    });\n    setShowAddUser(false);\n    setSubmitSuccess(false);\n    setFormErrors({});\n    setIsSubmitting(false);\n    setSubmitSuccess(false);\n    setShowPassword(false);\n    setShowReEnterPassword(false);\n    setShowAddUser(false);\n  };\n\n  // Edit User Form handling\n  const handleEditInputChange = (field: keyof EditUserForm, value: string | boolean) => {\n    setEditUserForm(prev => ({ ...prev, [field]: value }));\n    if (editFormErrors[field]) {\n      setEditFormErrors(prev => ({ ...prev, [field]: undefined }));\n    }\n  };\n\n  const validateEditForm = (): boolean => {\n    const errors: Partial<EditUserForm> = {};\n\n    if (!editUserForm.firstName.trim()) {\n      errors.firstName = 'First name is required';\n    } else if (editUserForm.firstName.length > 50) {\n      errors.firstName = 'First name must be between 1 and 50 characters';\n    }\n\n    if (!editUserForm.lastName.trim()) {\n      errors.lastName = 'Last name is required';\n    } else if (editUserForm.lastName.length > 50) {\n      errors.lastName = 'Last name must be between 1 and 50 characters';\n    }\n\n    if (!editUserForm.username.trim()) {\n      errors.username = 'Username is required';\n    } else if (editUserForm.username.length < 3 || editUserForm.username.length > 100) {\n      errors.username = 'Username must be between 3 and 100 characters';\n    } else if (!/^[a-zA-Z0-9_.-]+$/.test(editUserForm.username)) {\n      errors.username = 'Username can only contain letters, numbers, underscores, dots, and hyphens';\n    }\n\n    if (!editUserForm.email.trim()) {\n      errors.email = 'Email is required';\n    } else if (!/\\S+@\\S+\\.\\S+/.test(editUserForm.email)) {\n      errors.email = 'Invalid email format';\n    } else if (editUserForm.email.length > 255) {\n      errors.email = 'Email cannot exceed 255 characters';\n    }\n\n    if (editUserForm.phoneNumber && editUserForm.phoneNumber.length > 20) {\n      errors.phoneNumber = 'Phone number cannot exceed 20 characters';\n    }\n\n    if (!editUserForm.role.trim()) {\n      errors.role = 'Role is required';\n    }\n\n    setEditFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleEditUserSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateEditForm()) return;\n\n    setIsEditSubmitting(true);\n    setEditFormErrors({});\n    \n    try {\n      const response = await userApi.updateUser(editUserForm);\n      \n      if (response && response.success) {\n        setEditSubmitSuccess(true);\n        // Update the user in the local state\n        setUsers(prevUsers => \n          prevUsers.map(user => \n            user.userId === editUserForm.userId \n              ? { ...user, ...editUserForm }\n              : user\n          )\n        );\n        \n        // Edit form will be closed manually by user clicking X\n      } else {\n        setEditFormErrors({ email: response?.message || 'Update failed' });\n      }\n    } catch (error: any) {\n      console.error('Update user error:', error);\n      if (error.status === 400 && error.errors) {\n        const serverErrors: Partial<EditUserForm> = {};\n        const errors = error.errors as unknown as { [key: string]: string | string[] };\n        Object.keys(errors).forEach(key => {\n          const fieldName = key.toLowerCase();\n          const errorValue = errors[key];\n          const errorMessage = Array.isArray(errorValue) ? errorValue[0] : errorValue;\n          if (fieldName.includes('firstname')) serverErrors.firstName = errorMessage;\n          else if (fieldName.includes('lastname')) serverErrors.lastName = errorMessage;\n          else if (fieldName.includes('username')) serverErrors.username = errorMessage;\n          else if (fieldName.includes('email')) serverErrors.email = errorMessage;\n          else if (fieldName.includes('phone')) serverErrors.phoneNumber = errorMessage;\n          else serverErrors.email = errorMessage;\n        });\n        setEditFormErrors(serverErrors);\n      } else {\n        setEditFormErrors({ email: error.message || 'Network error occurred' });\n      }\n    } finally {\n      setIsEditSubmitting(false);\n    }\n  };\n\n  const resetEditUserModal = () => {\n    setEditUserForm({\n      userId: '',\n      firstName: '',\n      lastName: '',\n      username: '',\n      email: '',\n      phoneNumber: '',\n      role: '',\n      isActive: true\n    });\n    setShowEditUser(false);\n    setEditSubmitSuccess(false);\n    setEditFormErrors({});\n    setIsEditSubmitting(false);\n    setEditSubmitSuccess(false);\n    setShowEditUser(false);\n  };\n\n  // Dropdown action handlers\n  const handleFreezeUser = async (user: User) => {\n    try {\n      const updatedUser = {\n        ...user,\n        isActive: !user.isActive\n      };\n      \n      const response = await userApi.updateUser(updatedUser);\n      \n      if (response && response.success) {\n        // Update the user in the local state\n        setUsers(prevUsers => \n          prevUsers.map(u => \n            u.userId === user.userId \n              ? { ...u, isActive: !u.isActive }\n              : u\n          )\n        );\n        \n        // Show success message (you could add a toast notification here)\n        console.log(`User ${user.isActive ? 'frozen' : 'unfrozen'} successfully`);\n      }\n    } catch (error) {\n      console.error('Error updating user status:', error);\n    }\n  };\n\n  const handleEmailUser = (user: User) => {\n    // Open email client with pre-filled recipient\n    window.location.href = `mailto:${user.email}`;\n  };\n\n  const handleDeleteUser = async () => {\n    if (!deletingUser) return;\n\n    try {\n      console.log('Attempting to delete user:', deletingUser.userId);\n      const response = await userApi.deleteUser(deletingUser.userId);\n      console.log('Delete user response:', response);\n      \n      if (response && response.success) {\n        console.log(`User ${deletingUser.firstName} ${deletingUser.lastName} deleted successfully`);\n        setDeleteSuccess(true);\n        \n        // Smart refetch to handle pagination after deletion\n        refetchUsers();\n        \n        // Delete success modal will be closed manually by user clicking X\n      } else {\n        console.error('Failed to delete user:', response?.message);\n        alert(`Failed to delete user: ${response?.message || 'Unknown error'}`);\n      }\n    } catch (error: any) {\n      console.error('Error deleting user - Full error object:', error);\n      console.error('Error message:', error.message);\n      console.error('Error status:', error.status);\n      console.error('Error response:', error.response);\n      alert(`Error deleting user: ${error.message || error.status || 'Network error occurred'}`);\n    }\n  };\n\n  const confirmDeleteUser = (user: User) => {\n    setDeletingUser(user);\n    setShowDeleteConfirm(true);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-vh-100 bg-light\" style={{overflowX: 'hidden'}}>\n        <div className=\"container-fluid py-4\" style={{maxWidth: '100%'}}>\n          {/* Header */}\n          <div className=\"mb-4\">\n            <div className=\"d-flex align-items-center justify-content-between mb-2\">\n              <div className=\"d-flex align-items-center\">\n                <Users className=\"text-primary me-3\" size={32} />\n                <div>\n                  <h1 className=\"display-5 fw-bold text-dark mb-0\">User Accounts</h1>\n                  <p className=\"text-muted fs-6 mb-0\">Manage user accounts and permissions</p>\n                </div>\n              </div>\n              <div className=\"d-flex gap-2\">\n                <button className=\"btn btn-primary rounded-3 d-flex align-items-center\" disabled>\n                  <UserPlus className=\"me-2\" size={18} />\n                  Add User\n                </button>\n              </div>\n            </div>\n          </div>\n          \n          {/* Loading Content */}\n          <div className=\"card shadow-sm border-0 rounded-4\">\n            <div className=\"card-body p-4 text-center\">\n              <div className=\"spinner-border text-primary mb-3\" role=\"status\">\n                <span className=\"visually-hidden\">Loading...</span>\n              </div>\n              <p className=\"text-muted\">Loading accounts...</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-vh-100 bg-light\" style={{overflowX: 'hidden'}}>\n      <div className=\"container-fluid py-4\" style={{maxWidth: '100%'}}>\n        {/* Header */}\n        <div className=\"mb-4\">\n          <div className=\"d-flex align-items-center justify-content-between mb-2\">\n            <div className=\"d-flex align-items-center\">\n              <Users className=\"text-primary me-3\" size={32} />\n              <div>\n                <h1 className=\"display-5 fw-bold text-dark mb-0\">User Accounts</h1>\n                <p className=\"text-muted fs-6 mb-0\">Manage user accounts and permissions</p>\n              </div>\n            </div>\n            <div className=\"d-flex gap-2\">\n              <button \n                className=\"btn btn-primary rounded-3 d-flex align-items-center\"\n                onClick={() => setShowAddUser(true)}\n              >\n                <UserPlus className=\"me-2\" size={18} />\n                Add User\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Filters and Search */}\n        <div className=\"row mb-4\">\n          <div className=\"col-12\">\n            <div className=\"card border-0 rounded-4 shadow-sm\">\n              <div className=\"card-body p-4\">\n                <div className=\"row g-3\">\n                  <div className=\"col-md-3\">\n                    <div className=\"position-relative\">\n                      <Search className=\"position-absolute top-50 start-0 translate-middle-y ms-3 text-muted\" size={18} />\n                      <input\n                        type=\"text\"\n                        className=\"form-control form-control-lg rounded-3 ps-5\"\n                        placeholder=\"Search users by name, username, ..\"\n                        value={searchTerm}\n                        onChange={(e) => setSearchTerm(e.target.value)}\n                      />\n                    </div>\n                  </div>\n                  <div className=\"col-md-2\">\n                    <select\n                      className=\"form-select form-select-lg rounded-3\"\n                      value={filterRole}\n                      onChange={(e) => setFilterRole(e.target.value)}\n                    >\n                      <option value=\"all\">All Roles</option>\n                      {roles.map((role) => (\n                        <option key={role.userRoleId} value={role.role.toLowerCase()}>\n                          {role.role}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                  <div className=\"col-md-2\">\n                    <select\n                      className=\"form-select form-select-lg rounded-3\"\n                      value={filterStatus}\n                      onChange={(e) => setFilterStatus(e.target.value)}\n                    >\n                      <option value=\"all\">All Status</option>\n                      <option value=\"active\">Active</option>\n                      <option value=\"inactive\">Inactive</option>\n                    </select>\n                  </div>\n                  <div className=\"col-md-2\">\n                    <select\n                      className=\"form-select form-select-lg rounded-3\"\n                      value={filterVerification}\n                      onChange={(e) => setFilterVerification(e.target.value)}\n                    >\n                      <option value=\"all\">All Users</option>\n                      <option value=\"verified\">Verified</option>\n                      <option value=\"unverified\">Unverified</option>\n                    </select>\n                  </div>\n                  <div className=\"col-md-2\">\n                    <select\n                      className=\"form-select form-select-lg rounded-3\"\n                      value={sortBy}\n                      onChange={async (e) => {\n                        const newSortBy = e.target.value;\n                        setSortBy(newSortBy);\n                        setCurrentPage(1); // Reset to first page when sorting changes\n                        \n                        // If switching to a client-side sort and we don't have all users, fetch them\n                        if (newSortBy !== 'newest' && allUsers.length === 0) {\n                          await fetchAllUsers();\n                        }\n                      }}\n                    >\n                      <option value=\"newest\">Newest First</option>\n                      <option value=\"oldest\">Oldest First</option>\n                      <option value=\"lastLoginNewest\">Last Login (Recent)</option>\n                      <option value=\"lastLoginOldest\">Last Login (Oldest)</option>\n                    </select>\n                  </div>\n                  <div className=\"col-md-1\">\n                    <div className=\"bg-light rounded-3 p-2 text-center\">\n                      <div className=\"fw-bold text-primary small\">{displayTotalCount}</div>\n                      <div className=\"small text-muted\">Users</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Users Grid */}\n        <div className=\"row g-4\">\n          {currentUsers.map((user) => (\n            <div key={user.userId} className=\"col-xl-3 col-lg-4 col-md-6 col-sm-12\">\n              <div \n                className=\"card border-0 rounded-4 shadow-sm h-100 dashboard-card\" \n                style={{ cursor: 'pointer', transition: 'transform 0.2s, box-shadow 0.2s' }}\n                onClick={(e) => {\n                  // Don't open modal if clicking on dropdown\n                  if (!(e.target as HTMLElement).closest('.dropdown')) {\n                    setUserDetailModal(user);\n                  }\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.transform = 'translateY(-2px)';\n                  e.currentTarget.style.boxShadow = '0 8px 25px rgba(0,0,0,0.15)';\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.transform = 'translateY(0)';\n                  e.currentTarget.style.boxShadow = '';\n                }}\n              >\n                <div className=\"card-body p-3\">\n                  <div className=\"d-flex align-items-start justify-content-between mb-2\">\n                    <div className=\"d-flex align-items-center\">\n                      <div className=\"rounded-circle bg-primary bg-opacity-10 p-2 me-2\">\n                        <Users className=\"text-primary\" size={20} />\n                      </div>\n                      <div>\n                        <h6 className=\"fw-bold text-dark mb-0\">\n                          {user.firstName} {user.lastName}\n                        </h6>\n                        <p className=\"text-muted mb-0 small\">@{user.username}</p>\n                      </div>\n                    </div>\n                    <div className=\"dropdown\">\n                      <button\n                        className=\"btn btn-sm btn-outline-secondary rounded-3\"\n                        type=\"button\"\n                        data-bs-toggle=\"dropdown\"\n                        aria-expanded=\"false\"\n                        onClick={(e) => e.stopPropagation()}\n                      >\n                        <MoreVertical size={16} />\n                      </button>\n                      <ul className=\"dropdown-menu dropdown-menu-end\" style={{ width: '190px' }}>\n                        <li>\n                          <button \n                            className=\"dropdown-item d-flex align-items-center w-100\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleFreezeUser(user);\n                            }}\n                            style={{ whiteSpace: 'nowrap', textAlign: 'left' }}\n                          >\n                            <span style={{ display: 'inline-flex', alignItems: 'center', width: '100%' }}>\n                              {user.isActive ? (\n                                <><Lock size={14} className=\"me-2 flex-shrink-0\" /><span>Freeze Account</span></>\n                              ) : (\n                                <><Unlock size={14} className=\"me-2 flex-shrink-0\" /><span>Unfreeze Account</span></>\n                              )}\n                            </span>\n                          </button>\n                        </li>\n                        <li>\n                          <button \n                            className=\"dropdown-item d-flex align-items-center w-100\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleEmailUser(user);\n                            }}\n                            style={{ whiteSpace: 'nowrap', textAlign: 'left' }}\n                          >\n                            <span style={{ display: 'inline-flex', alignItems: 'center', width: '100%' }}>\n                              <Mail size={14} className=\"me-2 flex-shrink-0\" /><span>Send Email</span>\n                            </span>\n                          </button>\n                        </li>\n                        <li><hr className=\"dropdown-divider\" /></li>\n                        <li>\n                          <button \n                            className=\"dropdown-item text-danger d-flex align-items-center w-100\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              confirmDeleteUser(user);\n                            }}\n                            style={{ whiteSpace: 'nowrap', textAlign: 'left' }}\n                          >\n                            <span style={{ display: 'inline-flex', alignItems: 'center', width: '100%' }}>\n                              <Trash2 size={14} className=\"me-2 flex-shrink-0\" /><span>Delete User</span>\n                            </span>\n                          </button>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n\n                  <div className=\"mb-2\">\n                    <span className={`badge bg-${getRoleBadgeColor(user.role)} bg-opacity-10 text-${getRoleBadgeColor(user.role)} fw-semibold small`}>\n                      {user.role}\n                    </span>\n                    {user.isActive ? (\n                      <span className=\"badge bg-success bg-opacity-10 text-success fw-semibold ms-1 small\">\n                        <CheckCircle2 size={10} className=\"me-1\" />\n                        Active\n                      </span>\n                    ) : (\n                      <span className=\"badge bg-secondary bg-opacity-10 text-secondary fw-semibold ms-1 small\">\n                        <XCircle size={10} className=\"me-1\" />\n                        Inactive\n                      </span>\n                    )}\n                    {user.isTemporary ? (\n                      <span className=\"badge bg-warning bg-opacity-10 text-warning fw-semibold ms-1 small\">\n                        <AlertTriangle size={10} className=\"me-1\" />\n                        Unverified\n                      </span>\n                    ) : (\n                      <span className=\"badge bg-info bg-opacity-10 text-info fw-semibold ms-1 small\">\n                        <CheckCircle2 size={10} className=\"me-1\" />\n                        Verified\n                      </span>\n                    )}\n                  </div>\n\n                  <div className=\"mb-2\">\n                    <div className=\"d-flex align-items-center mb-1\">\n                      <Mail className=\"text-muted me-2\" size={12} />\n                      <span className=\"small text-dark text-truncate\" style={{maxWidth: '150px'}} title={user.email}>{user.email}</span>\n                    </div>\n                    {user.phoneNumber && (\n                      <div className=\"d-flex align-items-center mb-1\">\n                        <Phone className=\"text-muted me-2\" size={12} />\n                        <span className=\"small text-dark\">{user.phoneNumber}</span>\n                      </div>\n                    )}\n                    <div className=\"d-flex align-items-center\">\n                      <Calendar className=\"text-muted me-2\" size={12} />\n                      <span className=\"small text-muted\">Joined {formatDate(user.createdAt)}</span>\n                    </div>\n                  </div>\n\n                  <div className=\"bg-light rounded-3 p-2\">\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                      <span className=\"small fw-semibold text-muted\">Last Login</span>\n                      <span className=\"small text-dark\">{formatLastLogin(user.lastLogin)}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n\n          {filteredUsers.length === 0 && !loading && (\n            <div className=\"col-12\">\n              <div className=\"card border-0 rounded-4 shadow-sm\">\n                <div className=\"card-body p-5 text-center\">\n                  <Users size={64} className=\"text-muted mb-3 opacity-50\" />\n                  <h3 className=\"fw-bold text-muted mb-2\">No Users Found</h3>\n                  <p className=\"text-muted mb-4\">\n                    {searchTerm || filterRole !== 'all' \n                      ? 'Try adjusting your search or filter criteria.' \n                      : 'Get started by adding your first user.'}\n                  </p>\n                  {(!searchTerm && filterRole === 'all') && (\n                    <button \n                      className=\"btn btn-primary rounded-3\"\n                      onClick={() => setShowAddUser(true)}\n                    >\n                      <UserPlus className=\"me-2\" size={18} />\n                      Add First User\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Pagination */}\n        {(displayTotalCount > pageSize || sortBy === 'oldest' || sortBy === 'lastLoginNewest' || sortBy === 'lastLoginOldest') && (\n          <div className=\"d-flex justify-content-between align-items-center mt-4\">\n            <div className=\"d-flex align-items-center gap-3\">\n              <span className=\"text-muted\">\n                {hasFilters ? (\n                  `Showing ${currentUsers.length} of ${displayTotalCount} users (filtered)`\n                ) : (\n                  `Showing ${((currentPage - 1) * pageSize) + 1} to ${Math.min(currentPage * pageSize, displayTotalCount)} of ${displayTotalCount} users`\n                )}\n              </span>\n              <div className=\"d-flex align-items-center gap-2\">\n                <span className=\"text-muted small\">Users per page:</span>\n                <select \n                  className=\"form-select form-select-sm\" \n                  style={{width: 'auto'}}\n                  value={pageSize}\n                  onChange={(e) => {\n                    const newPageSize = Number(e.target.value);\n                    setPageSize(newPageSize);\n                    setCurrentPage(1);\n                    if (!hasFilters) {\n                      loadData(1, newPageSize);\n                    }\n                  }}\n                >\n                  <option value={20}>20</option>\n                  <option value={50}>50</option>\n                  <option value={100}>100</option>\n                </select>\n              </div>\n            </div>\n            \n            <nav>\n              <ul className=\"pagination pagination-sm mb-0\">\n                <li className={`page-item ${currentPage === 1 ? 'disabled' : ''}`}>\n                  <button \n                    className=\"page-link\" \n                    onClick={() => {\n                      setCurrentPage(1);\n                      if (!hasFilters) {\n                        loadData(1, pageSize);\n                      }\n                    }}\n                    disabled={currentPage === 1}\n                  >\n                    <ChevronsLeft size={16} />\n                  </button>\n                </li>\n                <li className={`page-item ${currentPage === 1 ? 'disabled' : ''}`}>\n                  <button \n                    className=\"page-link\" \n                    onClick={() => {\n                      const newPage = currentPage - 1;\n                      setCurrentPage(newPage);\n                      if (!hasFilters) {\n                        loadData(newPage, pageSize);\n                      }\n                    }}\n                    disabled={currentPage === 1}\n                  >\n                    <ChevronLeft size={16} />\n                  </button>\n                </li>\n                \n                {/* Page numbers */}\n                {Array.from({ length: Math.min(5, displayTotalPages) }, (_, i) => {\n                  let pageNum: number;\n                  if (displayTotalPages <= 5) {\n                    pageNum = i + 1;\n                  } else if (currentPage <= 3) {\n                    pageNum = i + 1;\n                  } else if (currentPage >= displayTotalPages - 2) {\n                    pageNum = displayTotalPages - 4 + i;\n                  } else {\n                    pageNum = currentPage - 2 + i;\n                  }\n                  \n                  return (\n                    <li key={pageNum} className={`page-item ${currentPage === pageNum ? 'active' : ''}`}>\n                      <button \n                        className=\"page-link\" \n                        onClick={() => {\n                          setCurrentPage(pageNum);\n                          if (!hasFilters) {\n                            loadData(pageNum, pageSize);\n                          }\n                        }}\n                      >\n                        {pageNum}\n                      </button>\n                    </li>\n                  );\n                })}\n                \n                <li className={`page-item ${currentPage === displayTotalPages ? 'disabled' : ''}`}>\n                  <button \n                    className=\"page-link\" \n                    onClick={() => {\n                      const newPage = currentPage + 1;\n                      setCurrentPage(newPage);\n                      if (!hasFilters) {\n                        loadData(newPage, pageSize);\n                      }\n                    }}\n                    disabled={currentPage === displayTotalPages}\n                  >\n                    <ChevronRight size={16} />\n                  </button>\n                </li>\n                <li className={`page-item ${currentPage === displayTotalPages ? 'disabled' : ''}`}>\n                  <button \n                    className=\"page-link\" \n                    onClick={() => {\n                      setCurrentPage(displayTotalPages);\n                      if (!hasFilters) {\n                        loadData(displayTotalPages, pageSize);\n                      }\n                    }}\n                    disabled={currentPage === displayTotalPages}\n                  >\n                    <ChevronsRight size={16} />\n                  </button>\n                </li>\n              </ul>\n            </nav>\n          </div>\n        )}\n\n        {/* User Detail Modal */}\n        {userDetailModal && (\n          <div className=\"modal d-block\" style={{backgroundColor: 'rgba(0,0,0,0.5)'}}>\n            <div className=\"modal-dialog modal-dialog-centered modal-lg\">\n              <div className=\"modal-content border-0 rounded-4\">\n                <div className=\"modal-header border-0 pb-0\">\n                  <div className=\"d-flex align-items-center\">\n                    <div className=\"rounded-circle bg-primary bg-opacity-10 p-2 me-3\">\n                      <Users className=\"text-primary\" size={20} />\n                    </div>\n                    <div>\n                      <h5 className=\"modal-title fw-bold mb-0\">\n                        {userDetailModal.firstName} {userDetailModal.lastName}\n                      </h5>\n                      <p className=\"text-muted small mb-0\">@{userDetailModal.username}</p>\n                    </div>\n                  </div>\n                  <button\n                    type=\"button\"\n                    className=\"btn-close\"\n                    onClick={() => setUserDetailModal(null)}\n                  ></button>\n                </div>\n                <div className=\"modal-body\">\n                  <div className=\"row g-4\">\n                    {/* Status and Role */}\n                    <div className=\"col-12\">\n                      <div className=\"d-flex gap-2 mb-3\">\n                        <span className={`badge bg-${getRoleBadgeColor(userDetailModal.role)} bg-opacity-10 text-${getRoleBadgeColor(userDetailModal.role)} fw-semibold px-3 py-2`}>\n                          <Shield size={14} className=\"me-1\" />\n                          {userDetailModal.role}\n                        </span>\n                        {userDetailModal.isActive ? (\n                          <span className=\"badge bg-success bg-opacity-10 text-success fw-semibold px-3 py-2\">\n                            <CheckCircle2 size={14} className=\"me-1\" />\n                            Active\n                          </span>\n                        ) : (\n                          <span className=\"badge bg-secondary bg-opacity-10 text-secondary fw-semibold px-3 py-2\">\n                            <XCircle size={14} className=\"me-1\" />\n                            Inactive\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                    \n                    {/* Basic Information */}\n                    <div className=\"col-md-6\">\n                      <div className=\"bg-primary bg-opacity-10 rounded-4 p-4\">\n                        <h6 className=\"fw-bold text-primary mb-3\">\n                          <Users size={16} className=\"me-2\" />\n                          Basic Information\n                        </h6>\n                        <div className=\"row g-3\">\n                          <div className=\"col-12\">\n                            <div className=\"small text-muted\">User ID</div>\n                            <div className=\"fw-semibold text-dark\">{userDetailModal.userId}</div>\n                          </div>\n                          <div className=\"col-6\">\n                            <div className=\"small text-muted\">First Name</div>\n                            <div className=\"fw-semibold text-dark\">{userDetailModal.firstName}</div>\n                          </div>\n                          <div className=\"col-6\">\n                            <div className=\"small text-muted\">Last Name</div>\n                            <div className=\"fw-semibold text-dark\">{userDetailModal.lastName}</div>\n                          </div>\n                          <div className=\"col-12\">\n                            <div className=\"small text-muted\">Username</div>\n                            <div className=\"fw-semibold text-dark\">@{userDetailModal.username}</div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    {/* Contact Information */}\n                    <div className=\"col-md-6\">\n                      <div className=\"bg-info bg-opacity-10 rounded-4 p-4\">\n                        <h6 className=\"fw-bold text-info mb-3\">\n                          <Mail size={16} className=\"me-2\" />\n                          Contact Information\n                        </h6>\n                        <div className=\"row g-3\">\n                          <div className=\"col-12\">\n                            <div className=\"d-flex align-items-center mb-3\">\n                              <Mail className=\"text-info me-3\" size={16} />\n                              <div>\n                                <div className=\"small text-muted\">Email Address</div>\n                                <div className=\"fw-semibold text-dark\">{userDetailModal.email}</div>\n                              </div>\n                            </div>\n                            {userDetailModal.phoneNumber && (\n                              <div className=\"d-flex align-items-center\">\n                                <Phone className=\"text-info me-3\" size={16} />\n                                <div>\n                                  <div className=\"small text-muted\">Phone Number</div>\n                                  <div className=\"fw-semibold text-dark\">{userDetailModal.phoneNumber}</div>\n                                </div>\n                              </div>\n                            )}\n                            {!userDetailModal.phoneNumber && (\n                              <div className=\"d-flex align-items-center\">\n                                <Phone className=\"text-muted me-3\" size={16} />\n                                <div>\n                                  <div className=\"small text-muted\">Phone Number</div>\n                                  <div className=\"text-muted\">Not provided</div>\n                                </div>\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    {/* Activity Information */}\n                    <div className=\"col-12\">\n                      <div className=\"bg-success bg-opacity-10 rounded-4 p-4\">\n                        <h6 className=\"fw-bold text-success mb-3\">\n                          <Calendar size={16} className=\"me-2\" />\n                          Activity Information\n                        </h6>\n                        <div className=\"row g-3\">\n                          <div className=\"col-md-4\">\n                            <div className=\"text-center\">\n                              <div className=\"small text-muted\">Last Login</div>\n                              <div className=\"fw-bold text-dark h5 mb-0\">{formatLastLogin(userDetailModal.lastLogin)}</div>\n                            </div>\n                          </div>\n                          <div className=\"col-md-4\">\n                            <div className=\"text-center\">\n                              <div className=\"small text-muted\">Member Since</div>\n                              <div className=\"fw-bold text-dark h5 mb-0\">{formatDate(userDetailModal.createdAt)}</div>\n                            </div>\n                          </div>\n                          <div className=\"col-md-4\">\n                            <div className=\"text-center\">\n                              <div className=\"small text-muted\">Account Status</div>\n                              <div className=\"fw-bold text-dark h5 mb-0\">\n                                {userDetailModal.isActive ? 'Active' : 'Inactive'}\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"modal-footer border-0\">\n                  <div className=\"d-flex gap-2 w-100\">\n                    <button \n                      className=\"btn btn-outline-primary rounded-3 flex-fill\"\n                      onClick={() => {\n                        setEditUserForm({\n                          userId: userDetailModal.userId,\n                          firstName: userDetailModal.firstName,\n                          lastName: userDetailModal.lastName,\n                          username: userDetailModal.username,\n                          email: userDetailModal.email,\n                          phoneNumber: userDetailModal.phoneNumber || '',\n                          role: userDetailModal.role,\n                          isActive: true\n                        });\n                        setUserDetailModal(null);\n                        setShowEditUser(true);\n                      }}\n                    >\n                      <Edit3 size={16} className=\"me-2\" />\n                      Edit User\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n        \n        {/* Edit User Modal */}\n        {showEditUser && (\n          <div className=\"modal d-block\" style={{backgroundColor: 'rgba(0,0,0,0.5)'}}>\n            <div className=\"modal-dialog modal-dialog-centered modal-lg\">\n              <div className=\"modal-content border-0 rounded-4\">\n                <div className=\"modal-header border-0 pb-0\">\n                  <h5 className=\"modal-title fw-bold\">Edit User</h5>\n                  <button\n                    type=\"button\"\n                    className=\"btn-close\"\n                    onClick={resetEditUserModal}\n                  ></button>\n                </div>\n                <div className=\"modal-body\">\n                  {editSubmitSuccess ? (\n                    <div className=\"text-center py-4\">\n                      <CheckCircle2 size={64} className=\"text-success mb-3\" />\n                      <h4 className=\"text-success fw-bold\">User Updated Successfully!</h4>\n                      <p className=\"text-muted\">The user information has been updated.</p>\n                    </div>\n                  ) : (\n                    <form onSubmit={handleEditUserSubmit}>\n                      <div className=\"row g-3\">\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">First Name</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${editFormErrors.firstName ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter first name\" \n                            value={editUserForm.firstName}\n                            onChange={(e) => handleEditInputChange('firstName', e.target.value)}\n                          />\n                          {editFormErrors.firstName && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.firstName}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Last Name</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${editFormErrors.lastName ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter last name\" \n                            value={editUserForm.lastName}\n                            onChange={(e) => handleEditInputChange('lastName', e.target.value)}\n                          />\n                          {editFormErrors.lastName && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.lastName}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-12\">\n                          <label className=\"form-label fw-semibold\">Username</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${editFormErrors.username ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter username\" \n                            value={editUserForm.username}\n                            onChange={(e) => handleEditInputChange('username', e.target.value)}\n                          />\n                          {editFormErrors.username && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.username}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-12\">\n                          <label className=\"form-label fw-semibold\">Email</label>\n                          <input \n                            type=\"email\" \n                            className={`form-control rounded-3 ${editFormErrors.email ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter email address\" \n                            value={editUserForm.email}\n                            onChange={(e) => handleEditInputChange('email', e.target.value)}\n                          />\n                          {editFormErrors.email && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.email}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Phone Number</label>\n                          <input \n                            type=\"tel\" \n                            className={`form-control rounded-3 ${editFormErrors.phoneNumber ? 'is-invalid' : ''}`}\n                            placeholder=\"e.g., +1 (555) 123-4567 or 555-123-4567\" \n                            value={editUserForm.phoneNumber}\n                            onChange={(e) => handleEditInputChange('phoneNumber', e.target.value)}\n                          />\n                          {editFormErrors.phoneNumber && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.phoneNumber}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Role</label>\n                          <select \n                            className={`form-select rounded-3 ${editFormErrors.role ? 'is-invalid' : ''}`}\n                            value={editUserForm.role}\n                            onChange={(e) => handleEditInputChange('role', e.target.value)}\n                          >\n                            <option value=\"\">Select a role</option>\n                            {roles.map((role) => (\n                              <option key={role.userRoleId} value={role.role}>\n                                {role.role}\n                              </option>\n                            ))}\n                          </select>\n                          {editFormErrors.role && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.role}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </form>\n                  )}\n                </div>\n                {!editSubmitSuccess && (\n                  <div className=\"modal-footer border-0 pt-0\">\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-secondary rounded-3\"\n                      onClick={resetEditUserModal}\n                      disabled={isEditSubmitting}\n                    >\n                      Cancel\n                    </button>\n                    <button \n                      type=\"submit\" \n                      className=\"btn btn-primary rounded-3\"\n                      onClick={handleEditUserSubmit}\n                      disabled={isEditSubmitting}\n                    >\n                      {isEditSubmitting ? (\n                        <>\n                          <div className=\"spinner-border spinner-border-sm me-2\" role=\"status\">\n                            <span className=\"visually-hidden\">Loading...</span>\n                          </div>\n                          Updating User...\n                        </>\n                      ) : (\n                        'Update User'\n                      )}\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n        \n        {/* Add User Modal */}\n        {showAddUser && (\n          <div className=\"modal d-block\" style={{backgroundColor: 'rgba(0,0,0,0.5)'}}>\n            <div className=\"modal-dialog modal-dialog-centered modal-lg\">\n              <div className=\"modal-content border-0 rounded-4\">\n                <div className=\"modal-header border-0 pb-0\">\n                  <h5 className=\"modal-title fw-bold\">Add New User</h5>\n                  <button\n                    type=\"button\"\n                    className=\"btn-close\"\n                    onClick={resetAddUserModal}\n                  ></button>\n                </div>\n                <div className=\"modal-body\">\n                  {submitSuccess ? (\n                    <div className=\"text-center py-4\">\n                      <CheckCircle2 size={64} className=\"text-success mb-3\" />\n                      <h4 className=\"text-success fw-bold\">User Created Successfully!</h4>\n                      <p className=\"text-muted\">The new user has been registered and can now login to the system.</p>\n                    </div>\n                  ) : (\n                    <form onSubmit={handleSubmitNewUser}>\n                      <div className=\"row g-3\">\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">First Name</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${formErrors.firstName ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter first name\" \n                            value={newUserForm.firstName}\n                            onChange={(e) => handleInputChange('firstName', e.target.value)}\n                          />\n                          {formErrors.firstName && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.firstName}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Last Name</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${formErrors.lastName ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter last name\" \n                            value={newUserForm.lastName}\n                            onChange={(e) => handleInputChange('lastName', e.target.value)}\n                          />\n                          {formErrors.lastName && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.lastName}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-12\">\n                          <label className=\"form-label fw-semibold\">Username</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${formErrors.username ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter username\" \n                            value={newUserForm.username}\n                            onChange={(e) => handleInputChange('username', e.target.value)}\n                          />\n                          {formErrors.username && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.username}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-12\">\n                          <label className=\"form-label fw-semibold\">Email</label>\n                          <input \n                            type=\"email\" \n                            className={`form-control rounded-3 ${formErrors.email ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter email address\" \n                            value={newUserForm.email}\n                            onChange={(e) => handleInputChange('email', e.target.value)}\n                          />\n                          {formErrors.email && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.email}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Phone Number</label>\n                          <input \n                            type=\"tel\" \n                            className={`form-control rounded-3 ${formErrors.phoneNumber ? 'is-invalid' : ''}`}\n                            placeholder=\"e.g., +1 (555) 123-4567 or 555-123-4567\" \n                            value={newUserForm.phoneNumber}\n                            onChange={(e) => handleInputChange('phoneNumber', e.target.value)}\n                          />\n                          {formErrors.phoneNumber && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.phoneNumber}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Role</label>\n                          <select \n                            className={`form-select rounded-3 ${formErrors.role ? 'is-invalid' : ''}`}\n                            value={newUserForm.role}\n                            onChange={(e) => handleInputChange('role', e.target.value)}\n                          >\n                            <option value=\"\">Select a role</option>\n                            {roles.map((role) => (\n                              <option key={role.userRoleId} value={role.role}>\n                                {role.role}\n                              </option>\n                            ))}\n                          </select>\n                          {formErrors.role && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.role}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Password</label>\n                          <div className=\"position-relative\">\n                            <input \n                              type={showPassword ? 'text' : 'password'}\n                              className={`form-control rounded-3 pe-5 ${formErrors.password ? 'is-invalid' : ''}`}\n                              placeholder=\"Min 8 chars, 1 uppercase, 1 lowercase, 1 digit, 1 special (@$!%*?&)\" \n                              value={newUserForm.password}\n                              onChange={(e) => handleInputChange('password', e.target.value)}\n                            />\n                            <button\n                              type=\"button\"\n                              onClick={() => setShowPassword(!showPassword)}\n                              className=\"btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2 border-0 p-1\"\n                              style={{ zIndex: 10 }}\n                            >\n                              {showPassword ? <EyeOff size={18} /> : <Eye size={18} />}\n                            </button>\n                            {formErrors.password && (\n                              <div className=\"invalid-feedback d-flex align-items-center\">\n                                <AlertCircle size={16} className=\"me-1\" />\n                                {formErrors.password}\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Confirm Password</label>\n                          <div className=\"position-relative\">\n                            <input \n                              type={showReEnterPassword ? 'text' : 'password'}\n                              className={`form-control rounded-3 pe-5 ${formErrors.reEnterPassword ? 'is-invalid' : ''}`}\n                              placeholder=\"Re-enter password\" \n                              value={newUserForm.reEnterPassword}\n                              onChange={(e) => handleInputChange('reEnterPassword', e.target.value)}\n                            />\n                            <button\n                              type=\"button\"\n                              onClick={() => setShowReEnterPassword(!showReEnterPassword)}\n                              className=\"btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2 border-0 p-1\"\n                              style={{ zIndex: 10 }}\n                            >\n                              {showReEnterPassword ? <EyeOff size={18} /> : <Eye size={18} />}\n                            </button>\n                            {formErrors.reEnterPassword && (\n                              <div className=\"invalid-feedback d-flex align-items-center\">\n                                <AlertCircle size={16} className=\"me-1\" />\n                                {formErrors.reEnterPassword}\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    </form>\n                  )}\n                </div>\n                {!submitSuccess && (\n                  <div className=\"modal-footer border-0 pt-0\">\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-secondary rounded-3\"\n                      onClick={resetAddUserModal}\n                      disabled={isSubmitting}\n                    >\n                      Cancel\n                    </button>\n                    <button \n                      type=\"submit\" \n                      className=\"btn btn-primary rounded-3\"\n                      onClick={handleSubmitNewUser}\n                      disabled={isSubmitting}\n                    >\n                      {isSubmitting ? (\n                        <>\n                          <div className=\"spinner-border spinner-border-sm me-2\" role=\"status\">\n                            <span className=\"visually-hidden\">Loading...</span>\n                          </div>\n                          Creating User...\n                        </>\n                      ) : (\n                        'Create User'\n                      )}\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Delete Confirmation Modal */}\n        {showDeleteConfirm && deletingUser && (\n          <div className=\"modal d-block\" style={{backgroundColor: 'rgba(0,0,0,0.5)', position: 'fixed', top: 0, left: 0, width: '100%', height: '100%', zIndex: 1050}}>\n            <div className=\"modal-dialog modal-dialog-centered\">\n              <div className=\"modal-content border-0 rounded-4\">\n                <div className=\"modal-header border-0 pb-0\">\n                  <h3 className=\"modal-title fw-bold text-danger\">\n                    {deleteSuccess ? 'User Deleted' : 'Confirm Deletion'}\n                  </h3>\n                  <button\n                    type=\"button\"\n                    className=\"btn-close\"\n                    onClick={() => {\n                      setShowDeleteConfirm(false);\n                      setDeletingUser(null);\n                      setDeleteSuccess(false);\n                    }}\n                  ></button>\n                </div>\n                <div className=\"modal-body\">\n                  {deleteSuccess ? (\n                    <div className=\"text-center py-4\">\n                      <CheckCircle2 size={64} className=\"text-success mb-3\" />\n                      <h4 className=\"text-success fw-bold\">User Deleted Successfully!</h4>\n                      <p className=\"text-muted\">\n                        <strong>{deletingUser.firstName} {deletingUser.lastName}</strong> has been permanently removed.\n                      </p>\n                    </div>\n                  ) : (\n                    <div className=\"text-center py-4\">\n                      <AlertTriangle size={64} className=\"text-warning mb-3\" />\n                      <h4 className=\"fw-bold\">Are you sure you want to delete this user?</h4>\n                      <div className=\"bg-light rounded-3 p-3 my-3\">\n                        <h5 className=\"fw-bold text-dark mb-1\">{deletingUser.firstName} {deletingUser.lastName}</h5>\n                        <p className=\"text-muted small mb-1\">\n                          <Mail className=\"me-1\" size={14} />\n                          {deletingUser.email}\n                        </p>\n                        <p className=\"text-muted small mb-0\">\n                          <Shield className=\"me-1\" size={14} />\n                          Role: {deletingUser.role}\n                        </p>\n                      </div>\n                      <p className=\"text-danger small fw-semibold\">\n                        ⚠️ This action cannot be undone. All user data and permissions will be permanently removed.\n                      </p>\n                    </div>\n                  )}\n                </div>\n                {!deleteSuccess && (\n                  <div className=\"modal-footer border-0 pt-0\">\n                    <button\n                      onClick={() => {\n                        setShowDeleteConfirm(false);\n                        setDeletingUser(null);\n                      }}\n                      className=\"btn btn-secondary rounded-3 fw-semibold\"\n                    >\n                      Cancel\n                    </button>\n                    <button\n                      onClick={handleDeleteUser}\n                      className=\"btn btn-danger rounded-3 fw-semibold d-flex align-items-center\"\n                    >\n                      <Trash2 className=\"me-2\" size={16} />\n                      Delete User\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}