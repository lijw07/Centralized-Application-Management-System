{"ast":null,"code":"import _objectSpread from\"/Users/jaili/csharpProject/Prototype/Prototype/ClientApp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Shield,Plus,Edit,Trash2,Key,CheckCircle2}from'lucide-react';import{roleApi}from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Roles=()=>{const[roles,setRoles]=useState([]);const[loading,setLoading]=useState(false);const[showRoleForm,setShowRoleForm]=useState(false);const[editingRole,setEditingRole]=useState(null);const[roleForm,setRoleForm]=useState({roleName:''});const fetchRoles=async()=>{setLoading(true);try{const response=await roleApi.getAllRoles();if(response.success&&response.roles){setRoles(response.roles);}}catch(error){console.error('Failed to fetch roles:',error);}finally{setLoading(false);}};useEffect(()=>{fetchRoles();},[]);// Add escape key listener to close modals\nuseEffect(()=>{const handleEscapeKey=event=>{if(event.key==='Escape'){if(showRoleForm){setShowRoleForm(false);setEditingRole(null);setRoleForm({roleName:''});}}};document.addEventListener('keydown',handleEscapeKey);return()=>{document.removeEventListener('keydown',handleEscapeKey);};},[showRoleForm]);const handleRoleSubmit=async()=>{try{if(editingRole){// Update existing role\nconst response=await roleApi.updateRole(editingRole.userRoleId,{roleName:roleForm.roleName});if(response.success){alert('Role updated successfully!');fetchRoles();}else{alert(response.message||'Failed to update role');}}else{// Create new role\nconst response=await roleApi.createRole({roleName:roleForm.roleName});if(response.success){alert('Role created successfully!');fetchRoles();}else{alert(response.message||'Failed to create role');}}setShowRoleForm(false);setEditingRole(null);setRoleForm({roleName:''});}catch(error){console.error('Failed to save role:',error);alert(error.message||'Failed to save role');}};const deleteRole=async roleId=>{if(!window.confirm('Are you sure you want to delete this role?'))return;try{const response=await roleApi.deleteRole(roleId);if(response.success){alert('Role deleted successfully!');fetchRoles();}else{alert(response.message||'Failed to delete role');}}catch(error){console.error('Failed to delete role:',error);alert(error.message||'Failed to delete role');}};const openEditRole=role=>{setEditingRole(role);setRoleForm({roleName:role.role});setShowRoleForm(true);};return/*#__PURE__*/_jsx(\"div\",{className:\"min-vh-100 bg-light\",style:{overflowX:'hidden'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid py-4\",style:{maxWidth:'100%'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-2\",children:[/*#__PURE__*/_jsx(Shield,{className:\"text-primary me-3\",size:32}),/*#__PURE__*/_jsx(\"h1\",{className:\"display-5 fw-bold text-dark mb-0\",children:\"Roles\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted fs-6\",children:\"Manage user roles and their permissions\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card shadow-sm border-0 rounded-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"card-title fw-bold text-dark mb-0 d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Key,{className:\"text-primary me-2\",size:24}),\"System Roles\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowRoleForm(true),className:\"btn btn-primary rounded-3 fw-semibold d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Plus,{className:\"me-2\",size:18}),/*#__PURE__*/_jsx(\"span\",{children:\"Create Role\"})]})]}),loading?/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center text-muted\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),\"Loading roles...\"]}):/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[roles.map(role=>/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border border-light rounded-3 h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-start mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow-1\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title fw-bold text-dark mb-1 d-flex align-items-center\",style:{wordWrap:'break-word',overflowWrap:'break-word'},children:[role.role,/*#__PURE__*/_jsx(CheckCircle2,{className:\"text-success ms-2\",size:16})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text text-muted small mb-2\",children:[\"Created by \",role.createdBy,\" on \",new Date(role.createdAt).toLocaleDateString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column gap-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>openEditRole(role),className:\"btn btn-outline-primary btn-sm rounded-3\",title:\"Edit Role\",children:/*#__PURE__*/_jsx(Edit,{size:14})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteRole(role.userRoleId),className:\"btn btn-outline-danger btn-sm rounded-3\",title:\"Delete Role\",children:/*#__PURE__*/_jsx(Trash2,{size:14})})]})]})})})},role.userRoleId)),roles.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5 text-muted\",children:[/*#__PURE__*/_jsx(Shield,{size:48,className:\"mb-3 opacity-50\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No roles configured yet\"})]})})]})]})}),showRoleForm&&/*#__PURE__*/_jsx(\"div\",{className:\"modal d-block\",style:{backgroundColor:'rgba(0,0,0,0.5)',position:'fixed',top:0,left:0,width:'100%',height:'100%',zIndex:1050},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered\",style:{maxWidth:'90%',margin:'1.75rem auto'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content border-0 rounded-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header border-0 pb-0\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"modal-title fw-bold\",children:editingRole?'Edit Role':'Create New Role'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:()=>{setShowRoleForm(false);setEditingRole(null);setRoleForm({roleName:''});}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row g-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"fw-bold mb-3\",children:\"Role Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Role Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:roleForm.roleName,onChange:e=>setRoleForm(_objectSpread(_objectSpread({},roleForm),{},{roleName:e.target.value})),className:\"form-control rounded-3\",placeholder:\"Enter role name\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer border-0 pt-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleRoleSubmit,className:\"btn btn-primary rounded-3 fw-semibold\",disabled:!roleForm.roleName.trim(),children:editingRole?'Update Role':'Create Role'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowRoleForm(false);setEditingRole(null);setRoleForm({roleName:''});},className:\"btn btn-secondary rounded-3 fw-semibold\",children:\"Cancel\"})]})})]})})})]})});};export default Roles;","map":{"version":3,"names":["React","useState","useEffect","Shield","Plus","Edit","Trash2","Key","CheckCircle2","roleApi","jsx","_jsx","jsxs","_jsxs","Roles","roles","setRoles","loading","setLoading","showRoleForm","setShowRoleForm","editingRole","setEditingRole","roleForm","setRoleForm","roleName","fetchRoles","response","getAllRoles","success","error","console","handleEscapeKey","event","key","document","addEventListener","removeEventListener","handleRoleSubmit","updateRole","userRoleId","alert","message","createRole","deleteRole","roleId","window","confirm","openEditRole","role","className","style","overflowX","children","maxWidth","size","onClick","map","wordWrap","overflowWrap","createdBy","Date","createdAt","toLocaleDateString","title","length","backgroundColor","position","top","left","width","height","zIndex","margin","type","value","onChange","e","_objectSpread","target","placeholder","disabled","trim"],"sources":["/Users/jaili/csharpProject/Prototype/Prototype/ClientApp/src/components/roles/Roles.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Shield, Plus, Edit, Trash2, Users, Key, CheckCircle2, AlertCircle } from 'lucide-react';\nimport { roleApi } from '../../services/api';\n\ninterface Role {\n    userRoleId: string;\n    role: string;\n    createdAt: string;\n    createdBy: string;\n}\n\nconst Roles: React.FC = () => {\n    const [roles, setRoles] = useState<Role[]>([]);\n    const [loading, setLoading] = useState(false);\n    const [showRoleForm, setShowRoleForm] = useState(false);\n    const [editingRole, setEditingRole] = useState<Role | null>(null);\n\n    const [roleForm, setRoleForm] = useState({\n        roleName: ''\n    });\n\n    const fetchRoles = async () => {\n        setLoading(true);\n        try {\n            const response = await roleApi.getAllRoles();\n            if (response.success && response.roles) {\n                setRoles(response.roles);\n            }\n        } catch (error) {\n            console.error('Failed to fetch roles:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        fetchRoles();\n    }, []);\n\n    // Add escape key listener to close modals\n    useEffect(() => {\n        const handleEscapeKey = (event: KeyboardEvent) => {\n            if (event.key === 'Escape') {\n                if (showRoleForm) {\n                    setShowRoleForm(false);\n                    setEditingRole(null);\n                    setRoleForm({ roleName: '' });\n                }\n            }\n        };\n\n        document.addEventListener('keydown', handleEscapeKey);\n        return () => {\n            document.removeEventListener('keydown', handleEscapeKey);\n        };\n    }, [showRoleForm]);\n\n    const handleRoleSubmit = async () => {\n        try {\n            if (editingRole) {\n                // Update existing role\n                const response = await roleApi.updateRole(editingRole.userRoleId, { roleName: roleForm.roleName });\n                if (response.success) {\n                    alert('Role updated successfully!');\n                    fetchRoles();\n                } else {\n                    alert(response.message || 'Failed to update role');\n                }\n            } else {\n                // Create new role\n                const response = await roleApi.createRole({ roleName: roleForm.roleName });\n                if (response.success) {\n                    alert('Role created successfully!');\n                    fetchRoles();\n                } else {\n                    alert(response.message || 'Failed to create role');\n                }\n            }\n\n            setShowRoleForm(false);\n            setEditingRole(null);\n            setRoleForm({\n                roleName: ''\n            });\n        } catch (error: any) {\n            console.error('Failed to save role:', error);\n            alert(error.message || 'Failed to save role');\n        }\n    };\n\n    const deleteRole = async (roleId: string) => {\n        if (!window.confirm('Are you sure you want to delete this role?')) return;\n\n        try {\n            const response = await roleApi.deleteRole(roleId);\n            if (response.success) {\n                alert('Role deleted successfully!');\n                fetchRoles();\n            } else {\n                alert(response.message || 'Failed to delete role');\n            }\n        } catch (error: any) {\n            console.error('Failed to delete role:', error);\n            alert(error.message || 'Failed to delete role');\n        }\n    };\n\n\n    const openEditRole = (role: Role) => {\n        setEditingRole(role);\n        setRoleForm({\n            roleName: role.role\n        });\n        setShowRoleForm(true);\n    };\n\n    return (\n        <div className=\"min-vh-100 bg-light\" style={{overflowX: 'hidden'}}>\n            <div className=\"container-fluid py-4\" style={{maxWidth: '100%'}}>\n                {/* Header */}\n                <div className=\"mb-4\">\n                    <div className=\"d-flex align-items-center mb-2\">\n                        <Shield className=\"text-primary me-3\" size={32} />\n                        <h1 className=\"display-5 fw-bold text-dark mb-0\">Roles</h1>\n                    </div>\n                    <p className=\"text-muted fs-6\">Manage user roles and their permissions</p>\n                </div>\n\n                {/* Roles */}\n                <div className=\"card shadow-sm border-0 rounded-4\">\n                    <div className=\"card-body p-4\">\n                        <div className=\"d-flex justify-content-between align-items-center mb-4\">\n                            <h2 className=\"card-title fw-bold text-dark mb-0 d-flex align-items-center\">\n                                <Key className=\"text-primary me-2\" size={24} />\n                                System Roles\n                            </h2>\n                            <button\n                                onClick={() => setShowRoleForm(true)}\n                                className=\"btn btn-primary rounded-3 fw-semibold d-flex align-items-center\"\n                            >\n                                <Plus className=\"me-2\" size={18} />\n                                <span>Create Role</span>\n                            </button>\n                        </div>\n\n                        {loading ? (\n                            <div className=\"d-flex align-items-center text-muted\">\n                                <div className=\"spinner-border spinner-border-sm me-2\" role=\"status\">\n                                    <span className=\"visually-hidden\">Loading...</span>\n                                </div>\n                                Loading roles...\n                            </div>\n                        ) : (\n                            <div className=\"row g-3\">\n                                {roles.map((role) => (\n                                    <div key={role.userRoleId} className=\"col-12\">\n                                        <div className=\"card border border-light rounded-3 h-100\">\n                                            <div className=\"card-body p-4\">\n                                                <div className=\"d-flex justify-content-between align-items-start mb-3\">\n                                                    <div className=\"flex-grow-1\">\n                                                        <h5 className=\"card-title fw-bold text-dark mb-1 d-flex align-items-center\" style={{wordWrap: 'break-word', overflowWrap: 'break-word'}}>\n                                                            {role.role}\n                                                            <CheckCircle2 className=\"text-success ms-2\" size={16} />\n                                                        </h5>\n                                                        <p className=\"card-text text-muted small mb-2\">\n                                                            Created by {role.createdBy} on {new Date(role.createdAt).toLocaleDateString()}\n                                                        </p>\n                                                    </div>\n                                                    <div className=\"d-flex flex-column gap-1\">\n                                                        <button\n                                                            onClick={() => openEditRole(role)}\n                                                            className=\"btn btn-outline-primary btn-sm rounded-3\"\n                                                            title=\"Edit Role\"\n                                                        >\n                                                            <Edit size={14} />\n                                                        </button>\n                                                        <button\n                                                            onClick={() => deleteRole(role.userRoleId)}\n                                                            className=\"btn btn-outline-danger btn-sm rounded-3\"\n                                                            title=\"Delete Role\"\n                                                        >\n                                                            <Trash2 size={14} />\n                                                        </button>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                ))}\n                                {roles.length === 0 && (\n                                    <div className=\"col-12\">\n                                        <div className=\"text-center py-5 text-muted\">\n                                            <Shield size={48} className=\"mb-3 opacity-50\" />\n                                            <p>No roles configured yet</p>\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n                        )}\n                    </div>\n                </div>\n\n                {/* Role Form Modal */}\n                {showRoleForm && (\n                    <div className=\"modal d-block\" style={{backgroundColor: 'rgba(0,0,0,0.5)', position: 'fixed', top: 0, left: 0, width: '100%', height: '100%', zIndex: 1050}}>\n                        <div className=\"modal-dialog modal-dialog-centered\" style={{maxWidth: '90%', margin: '1.75rem auto'}}>\n                            <div className=\"modal-content border-0 rounded-4\">\n                                <div className=\"modal-header border-0 pb-0\">\n                                    <h3 className=\"modal-title fw-bold\">\n                                        {editingRole ? 'Edit Role' : 'Create New Role'}\n                                    </h3>\n                                    <button\n                                        type=\"button\"\n                                        className=\"btn-close\"\n                                        onClick={() => {\n                                            setShowRoleForm(false);\n                                            setEditingRole(null);\n                                            setRoleForm({\n                                                roleName: ''\n                                            });\n                                        }}\n                                    ></button>\n                                </div>\n                                <div className=\"modal-body\">\n                                    <div className=\"row g-4\">\n                                        <div className=\"col-12\">\n                                            <h5 className=\"fw-bold mb-3\">Role Information</h5>\n                                            <div className=\"mb-3\">\n                                                <label className=\"form-label fw-semibold\">Role Name</label>\n                                                <input\n                                                    type=\"text\"\n                                                    value={roleForm.roleName}\n                                                    onChange={(e) => setRoleForm({...roleForm, roleName: e.target.value})}\n                                                    className=\"form-control rounded-3\"\n                                                    placeholder=\"Enter role name\"\n                                                />\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"modal-footer border-0 pt-0\">\n                                    <div className=\"d-flex gap-2\">\n                                        <button\n                                            onClick={handleRoleSubmit}\n                                            className=\"btn btn-primary rounded-3 fw-semibold\"\n                                            disabled={!roleForm.roleName.trim()}\n                                        >\n                                            {editingRole ? 'Update Role' : 'Create Role'}\n                                        </button>\n                                        <button\n                                            onClick={() => {\n                                                setShowRoleForm(false);\n                                                setEditingRole(null);\n                                                setRoleForm({\n                                                    roleName: ''\n                                                });\n                                            }}\n                                            className=\"btn btn-secondary rounded-3 fw-semibold\"\n                                        >\n                                            Cancel\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default Roles;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}