{"ast":null,"code":"import _objectSpread from\"/Users/jaili/csharpProject/Prototype/Prototype/ClientApp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Users,Search,Edit3,Trash2,Mail,Phone,Calendar,Shield,CheckCircle2,XCircle,MoreVertical,UserPlus,AlertCircle,Eye,EyeOff,Lock,Unlock,ChevronLeft,ChevronRight,ChevronsLeft,ChevronsRight}from'lucide-react';import{userApi,roleApi}from'../../services/api';import{authApi}from'../../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Accounts(){const[users,setUsers]=useState([]);const[roles,setRoles]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[filterRole,setFilterRole]=useState('all');const[showAddUser,setShowAddUser]=useState(false);const[userDetailModal,setUserDetailModal]=useState(null);const[showEditUser,setShowEditUser]=useState(false);const[editUserForm,setEditUserForm]=useState({userId:'',firstName:'',lastName:'',username:'',email:'',phoneNumber:'',role:'',isActive:true});const[editFormErrors,setEditFormErrors]=useState({});const[isEditSubmitting,setIsEditSubmitting]=useState(false);const[editSubmitSuccess,setEditSubmitSuccess]=useState(false);const[loading,setLoading]=useState(true);// Pagination state\nconst[currentPage,setCurrentPage]=useState(1);const[usersPerPage,setUsersPerPage]=useState(20);// New User Form State\nconst[newUserForm,setNewUserForm]=useState({firstName:'',lastName:'',username:'',email:'',phoneNumber:'',password:'',reEnterPassword:''});const[formErrors,setFormErrors]=useState({});const[isSubmitting,setIsSubmitting]=useState(false);const[showPassword,setShowPassword]=useState(false);const[showReEnterPassword,setShowReEnterPassword]=useState(false);const[submitSuccess,setSubmitSuccess]=useState(false);// ESC key handler for modal\nuseEffect(()=>{const handleEscKey=event=>{if(event.key==='Escape'&&showAddUser){resetAddUserModal();}};if(showAddUser){document.addEventListener('keydown',handleEscKey);}return()=>{document.removeEventListener('keydown',handleEscKey);};},[showAddUser]);// Load users and roles from database\nuseEffect(()=>{const loadData=async()=>{setLoading(true);// Load users - this should always work regardless of roles\ntry{const usersResponse=await userApi.getAllUsers();if(usersResponse.success&&usersResponse.users){const transformedUsers=usersResponse.users.map(user=>({userId:user.userId,firstName:user.firstName,lastName:user.lastName,username:user.username,email:user.email,phoneNumber:user.phoneNumber,isActive:user.isActive,role:user.role,lastLogin:user.lastLogin,createdAt:user.createdAt}));setUsers(transformedUsers);}else{console.error('Failed to load users:',usersResponse.message);setUsers([]);}}catch(error){console.error('Error loading users:',error);setUsers([]);}// Load roles - independent of users\ntry{const rolesResponse=await roleApi.getAllRoles();if(rolesResponse.success&&rolesResponse.roles){setRoles(rolesResponse.roles);}else{console.error('Failed to load roles:',rolesResponse.message);setRoles([]);}}catch(error){console.error('Error loading roles:',error);setRoles([]);}setLoading(false);};loadData();},[]);const filteredUsers=users.filter(user=>{const matchesSearch=user.firstName.toLowerCase().includes(searchTerm.toLowerCase())||user.lastName.toLowerCase().includes(searchTerm.toLowerCase())||user.username.toLowerCase().includes(searchTerm.toLowerCase())||user.email.toLowerCase().includes(searchTerm.toLowerCase());const matchesRole=filterRole==='all'||user.role.toLowerCase()===filterRole.toLowerCase();return matchesSearch&&matchesRole;});// Pagination calculations\nconst totalPages=Math.ceil(filteredUsers.length/usersPerPage);const startIndex=(currentPage-1)*usersPerPage;const endIndex=startIndex+usersPerPage;const currentUsers=filteredUsers.slice(startIndex,endIndex);// Reset to first page when filters change\nuseEffect(()=>{setCurrentPage(1);},[searchTerm,filterRole]);// Add escape key listener for edit user modal\nuseEffect(()=>{const handleEscapeKey=event=>{if(event.key==='Escape'){if(showEditUser){setShowEditUser(false);setEditUserForm({firstName:'',lastName:'',email:'',phoneNumber:'',role:'',isActive:true});setEditFormErrors({});}if(userDetailModal){setUserDetailModal(null);}}};document.addEventListener('keydown',handleEscapeKey);return()=>{document.removeEventListener('keydown',handleEscapeKey);};},[showEditUser,userDetailModal]);const getRoleBadgeColor=role=>{// Create a consistent color mapping based on role name\nconst colors=['primary','danger','warning','info','success','secondary'];const hash=role.toLowerCase().split('').reduce((acc,char)=>acc+char.charCodeAt(0),0);return colors[hash%colors.length];};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric'});};const formatLastLogin=dateString=>{if(!dateString)return'Never';const now=new Date();const lastLogin=new Date(dateString);const diffInHours=Math.floor((now.getTime()-lastLogin.getTime())/(1000*60*60));if(diffInHours<1)return'Just now';if(diffInHours<24)return\"\".concat(diffInHours,\"h ago\");const diffInDays=Math.floor(diffInHours/24);if(diffInDays<7)return\"\".concat(diffInDays,\"d ago\");return formatDate(dateString);};// Form handling functions\nconst handleInputChange=(field,value)=>{setNewUserForm(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));// Clear error when user starts typing\nif(formErrors[field]){setFormErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:undefined}));}};const validateForm=()=>{const errors={};// First name validation\nif(!newUserForm.firstName.trim()){errors.firstName='First name is required';}else if(newUserForm.firstName.length>50){errors.firstName='First name must be between 1 and 50 characters';}// Last name validation\nif(!newUserForm.lastName.trim()){errors.lastName='Last name is required';}else if(newUserForm.lastName.length>50){errors.lastName='Last name must be between 1 and 50 characters';}// Username validation\nif(!newUserForm.username.trim()){errors.username='Username is required';}else if(newUserForm.username.length<3||newUserForm.username.length>100){errors.username='Username must be between 3 and 100 characters';}else if(!/^[a-zA-Z0-9_.-]+$/.test(newUserForm.username)){errors.username='Username can only contain letters, numbers, underscores, dots, and hyphens';}// Email validation\nif(!newUserForm.email.trim()){errors.email='Email is required';}else if(!/\\S+@\\S+\\.\\S+/.test(newUserForm.email)){errors.email='Invalid email format';}else if(newUserForm.email.length>255){errors.email='Email cannot exceed 255 characters';}// Phone number validation (basic format)\nif(!newUserForm.phoneNumber.trim()){errors.phoneNumber='Phone number is required';}else if(newUserForm.phoneNumber.length>20){errors.phoneNumber='Phone number cannot exceed 20 characters';}// Password validation to match backend requirements\nif(!newUserForm.password.trim()){errors.password='Password is required';}else if(newUserForm.password.length<8||newUserForm.password.length>128){errors.password='Password must be between 8 and 128 characters';}else if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/.test(newUserForm.password)){errors.password='Password must contain at least one uppercase letter, one lowercase letter, one digit, and one special character (@$!%*?&)';}// Confirm password validation\nif(!newUserForm.reEnterPassword.trim()){errors.reEnterPassword='Please confirm password';}else if(newUserForm.password!==newUserForm.reEnterPassword){errors.reEnterPassword='Passwords do not match';}setFormErrors(errors);return Object.keys(errors).length===0;};const handleSubmitNewUser=async e=>{e.preventDefault();if(!validateForm())return;setIsSubmitting(true);setFormErrors({});// Clear any previous errors\ntry{console.log('Submitting user registration:',newUserForm);const response=await authApi.register(newUserForm);console.log('Registration response:',response);if(response&&response.success){setSubmitSuccess(true);// Reset form\nsetNewUserForm({firstName:'',lastName:'',username:'',email:'',phoneNumber:'',password:'',reEnterPassword:''});setFormErrors({});// Close modal after 2 seconds\nsetTimeout(()=>{setShowAddUser(false);setSubmitSuccess(false);},2000);}else{// Handle server errors\nconsole.error('Registration failed:',response);if(response!==null&&response!==void 0&&response.errors){// Handle field-specific validation errors from server\nconst serverErrors={};const errors=response.errors;Object.keys(errors).forEach(key=>{const fieldName=key.toLowerCase();const errorValue=errors[key];const errorMessage=Array.isArray(errorValue)?errorValue[0]:errorValue;if(fieldName.includes('firstname'))serverErrors.firstName=errorMessage;else if(fieldName.includes('lastname'))serverErrors.lastName=errorMessage;else if(fieldName.includes('username'))serverErrors.username=errorMessage;else if(fieldName.includes('email'))serverErrors.email=errorMessage;else if(fieldName.includes('phone'))serverErrors.phoneNumber=errorMessage;else if(fieldName.includes('password'))serverErrors.password=errorMessage;else serverErrors.email=errorMessage;});setFormErrors(serverErrors);}else{setFormErrors({email:(response===null||response===void 0?void 0:response.message)||'Registration failed'});}}}catch(error){console.error('Registration error:',error);// Handle network or parsing errors\nif(error.status===400&&error.errors){const serverErrors={};const errors=error.errors;Object.keys(errors).forEach(key=>{const fieldName=key.toLowerCase();const errorValue=errors[key];const errorMessage=Array.isArray(errorValue)?errorValue[0]:errorValue;if(fieldName.includes('firstname'))serverErrors.firstName=errorMessage;else if(fieldName.includes('lastname'))serverErrors.lastName=errorMessage;else if(fieldName.includes('username'))serverErrors.username=errorMessage;else if(fieldName.includes('email'))serverErrors.email=errorMessage;else if(fieldName.includes('phone'))serverErrors.phoneNumber=errorMessage;else if(fieldName.includes('password'))serverErrors.password=errorMessage;else serverErrors.email=errorMessage;});setFormErrors(serverErrors);}else{setFormErrors({email:error.message||'Network error occurred'});}}finally{setIsSubmitting(false);}};const resetAddUserModal=()=>{setNewUserForm({firstName:'',lastName:'',username:'',email:'',phoneNumber:'',password:'',reEnterPassword:''});setFormErrors({});setIsSubmitting(false);setSubmitSuccess(false);setShowPassword(false);setShowReEnterPassword(false);setShowAddUser(false);};// Edit User Form handling\nconst handleEditInputChange=(field,value)=>{setEditUserForm(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));if(editFormErrors[field]){setEditFormErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:undefined}));}};const validateEditForm=()=>{const errors={};if(!editUserForm.firstName.trim()){errors.firstName='First name is required';}else if(editUserForm.firstName.length>50){errors.firstName='First name must be between 1 and 50 characters';}if(!editUserForm.lastName.trim()){errors.lastName='Last name is required';}else if(editUserForm.lastName.length>50){errors.lastName='Last name must be between 1 and 50 characters';}if(!editUserForm.username.trim()){errors.username='Username is required';}else if(editUserForm.username.length<3||editUserForm.username.length>100){errors.username='Username must be between 3 and 100 characters';}else if(!/^[a-zA-Z0-9_.-]+$/.test(editUserForm.username)){errors.username='Username can only contain letters, numbers, underscores, dots, and hyphens';}if(!editUserForm.email.trim()){errors.email='Email is required';}else if(!/\\S+@\\S+\\.\\S+/.test(editUserForm.email)){errors.email='Invalid email format';}else if(editUserForm.email.length>255){errors.email='Email cannot exceed 255 characters';}if(editUserForm.phoneNumber&&editUserForm.phoneNumber.length>20){errors.phoneNumber='Phone number cannot exceed 20 characters';}if(!editUserForm.role.trim()){errors.role='Role is required';}setEditFormErrors(errors);return Object.keys(errors).length===0;};const handleEditUserSubmit=async e=>{e.preventDefault();if(!validateEditForm())return;setIsEditSubmitting(true);setEditFormErrors({});try{const response=await userApi.updateUser(editUserForm);if(response&&response.success){setEditSubmitSuccess(true);// Update the user in the local state\nsetUsers(prevUsers=>prevUsers.map(user=>user.userId===editUserForm.userId?_objectSpread(_objectSpread({},user),editUserForm):user));setTimeout(()=>{setShowEditUser(false);setEditSubmitSuccess(false);resetEditUserModal();},2000);}else{setEditFormErrors({email:(response===null||response===void 0?void 0:response.message)||'Update failed'});}}catch(error){console.error('Update user error:',error);if(error.status===400&&error.errors){const serverErrors={};const errors=error.errors;Object.keys(errors).forEach(key=>{const fieldName=key.toLowerCase();const errorValue=errors[key];const errorMessage=Array.isArray(errorValue)?errorValue[0]:errorValue;if(fieldName.includes('firstname'))serverErrors.firstName=errorMessage;else if(fieldName.includes('lastname'))serverErrors.lastName=errorMessage;else if(fieldName.includes('username'))serverErrors.username=errorMessage;else if(fieldName.includes('email'))serverErrors.email=errorMessage;else if(fieldName.includes('phone'))serverErrors.phoneNumber=errorMessage;else serverErrors.email=errorMessage;});setEditFormErrors(serverErrors);}else{setEditFormErrors({email:error.message||'Network error occurred'});}}finally{setIsEditSubmitting(false);}};const resetEditUserModal=()=>{setEditUserForm({userId:'',firstName:'',lastName:'',username:'',email:'',phoneNumber:'',role:'',isActive:true});setEditFormErrors({});setIsEditSubmitting(false);setEditSubmitSuccess(false);setShowEditUser(false);};// Dropdown action handlers\nconst handleFreezeUser=async user=>{try{const updatedUser=_objectSpread(_objectSpread({},user),{},{isActive:!user.isActive});const response=await userApi.updateUser(updatedUser);if(response&&response.success){// Update the user in the local state\nsetUsers(prevUsers=>prevUsers.map(u=>u.userId===user.userId?_objectSpread(_objectSpread({},u),{},{isActive:!u.isActive}):u));// Show success message (you could add a toast notification here)\nconsole.log(\"User \".concat(user.isActive?'frozen':'unfrozen',\" successfully\"));}}catch(error){console.error('Error updating user status:',error);}};const handleEmailUser=user=>{// Open email client with pre-filled recipient\nwindow.location.href=\"mailto:\".concat(user.email);};const handleDeleteUser=async user=>{if(window.confirm(\"Are you sure you want to delete user \".concat(user.firstName,\" \").concat(user.lastName,\"? This action cannot be undone.\"))){try{console.log('Attempting to delete user:',user.userId);const response=await userApi.deleteUser(user.userId);console.log('Delete user response:',response);if(response&&response.success){// Remove from local state only after successful deletion from database\nsetUsers(prevUsers=>prevUsers.filter(u=>u.userId!==user.userId));console.log(\"User \".concat(user.firstName,\" \").concat(user.lastName,\" deleted successfully\"));}else{console.error('Failed to delete user:',response===null||response===void 0?void 0:response.message);alert(\"Failed to delete user: \".concat((response===null||response===void 0?void 0:response.message)||'Unknown error'));}}catch(error){console.error('Error deleting user - Full error object:',error);console.error('Error message:',error.message);console.error('Error status:',error.status);console.error('Error response:',error.response);alert(\"Error deleting user: \".concat(error.message||error.status||'Network error occurred'));}}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-vh-100 bg-light\",style:{overflowX:'hidden'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid py-4\",style:{maxWidth:'100%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Users,{className:\"text-primary me-3\",size:32}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-5 fw-bold text-dark mb-0\",children:\"User Accounts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted fs-6 mb-0\",children:\"Manage user accounts and permissions\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex gap-2\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary rounded-3 d-flex align-items-center\",disabled:true,children:[/*#__PURE__*/_jsx(UserPlus,{className:\"me-2\",size:18}),\"Add User\"]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card shadow-sm border-0 rounded-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary mb-3\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Loading accounts...\"})]})})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-vh-100 bg-light\",style:{overflowX:'hidden'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid py-4\",style:{maxWidth:'100%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Users,{className:\"text-primary me-3\",size:32}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-5 fw-bold text-dark mb-0\",children:\"User Accounts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted fs-6 mb-0\",children:\"Manage user accounts and permissions\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex gap-2\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary rounded-3 d-flex align-items-center\",onClick:()=>setShowAddUser(true),children:[/*#__PURE__*/_jsx(UserPlus,{className:\"me-2\",size:18}),\"Add User\"]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 rounded-4 shadow-sm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"position-absolute top-50 start-0 translate-middle-y ms-3 text-muted\",size:18}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control form-control-lg rounded-3 ps-5\",placeholder:\"Search users by name, username, or email...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-lg rounded-3\",value:filterRole,onChange:e=>setFilterRole(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Roles\"}),roles.map(role=>/*#__PURE__*/_jsx(\"option\",{value:role.role.toLowerCase(),children:role.role},role.userRoleId))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-light rounded-3 p-2 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-primary\",children:filteredUsers.length}),/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Total Users\"})]})})]})})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row g-4\",children:[currentUsers.map(user=>/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-lg-4 col-md-6 col-sm-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 rounded-4 shadow-sm h-100 dashboard-card\",style:{cursor:'pointer',transition:'transform 0.2s, box-shadow 0.2s'},onClick:e=>{// Don't open modal if clicking on dropdown\nif(!e.target.closest('.dropdown')){setUserDetailModal(user);}},onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-2px)';e.currentTarget.style.boxShadow='0 8px 25px rgba(0,0,0,0.15)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='';},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-start justify-content-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rounded-circle bg-primary bg-opacity-10 p-2 me-2\",children:/*#__PURE__*/_jsx(Users,{className:\"text-primary\",size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"fw-bold text-dark mb-0\",children:[user.firstName,\" \",user.lastName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted mb-0 small\",children:[\"@\",user.username]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-secondary rounded-3\",type:\"button\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsx(MoreVertical,{size:16})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu dropdown-menu-end\",style:{width:'190px'},children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item d-flex align-items-center w-100\",onClick:e=>{e.stopPropagation();handleFreezeUser(user);},style:{whiteSpace:'nowrap',textAlign:'left'},children:/*#__PURE__*/_jsx(\"span\",{style:{display:'inline-flex',alignItems:'center',width:'100%'},children:user.isActive?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Lock,{size:14,className:\"me-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Freeze Account\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Unlock,{size:14,className:\"me-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Unfreeze Account\"})]})})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item d-flex align-items-center w-100\",onClick:e=>{e.stopPropagation();handleEmailUser(user);},style:{whiteSpace:'nowrap',textAlign:'left'},children:/*#__PURE__*/_jsxs(\"span\",{style:{display:'inline-flex',alignItems:'center',width:'100%'},children:[/*#__PURE__*/_jsx(Mail,{size:14,className:\"me-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Send Email\"})]})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"hr\",{className:\"dropdown-divider\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item text-danger d-flex align-items-center w-100\",onClick:e=>{e.stopPropagation();handleDeleteUser(user);},style:{whiteSpace:'nowrap',textAlign:'left'},children:/*#__PURE__*/_jsxs(\"span\",{style:{display:'inline-flex',alignItems:'center',width:'100%'},children:[/*#__PURE__*/_jsx(Trash2,{size:14,className:\"me-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Delete User\"})]})})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-\".concat(getRoleBadgeColor(user.role),\" bg-opacity-10 text-\").concat(getRoleBadgeColor(user.role),\" fw-semibold small\"),children:user.role}),user.isActive?/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-success bg-opacity-10 text-success fw-semibold ms-1 small\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:10,className:\"me-1\"}),\"Active\"]}):/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-secondary bg-opacity-10 text-secondary fw-semibold ms-1 small\",children:[/*#__PURE__*/_jsx(XCircle,{size:10,className:\"me-1\"}),\"Inactive\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-1\",children:[/*#__PURE__*/_jsx(Mail,{className:\"text-muted me-2\",size:12}),/*#__PURE__*/_jsx(\"span\",{className:\"small text-dark text-truncate\",style:{maxWidth:'150px'},title:user.email,children:user.email})]}),user.phoneNumber&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-1\",children:[/*#__PURE__*/_jsx(Phone,{className:\"text-muted me-2\",size:12}),/*#__PURE__*/_jsx(\"span\",{className:\"small text-dark\",children:user.phoneNumber})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"text-muted me-2\",size:12}),/*#__PURE__*/_jsxs(\"span\",{className:\"small text-muted\",children:[\"Joined \",formatDate(user.createdAt)]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-light rounded-3 p-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"small fw-semibold text-muted\",children:\"Last Login\"}),/*#__PURE__*/_jsx(\"span\",{className:\"small text-dark\",children:formatLastLogin(user.lastLogin)})]})})]})})},user.userId)),filteredUsers.length===0&&!loading&&/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 rounded-4 shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-5 text-center\",children:[/*#__PURE__*/_jsx(Users,{size:64,className:\"text-muted mb-3 opacity-50\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"fw-bold text-muted mb-2\",children:\"No Users Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-4\",children:searchTerm||filterRole!=='all'?'Try adjusting your search or filter criteria.':'Get started by adding your first user.'}),!searchTerm&&filterRole==='all'&&/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary rounded-3\",onClick:()=>setShowAddUser(true),children:[/*#__PURE__*/_jsx(UserPlus,{className:\"me-2\",size:18}),\"Add First User\"]})]})})})]}),filteredUsers.length>0&&totalPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted\",children:[\"Showing \",startIndex+1,\" to \",Math.min(endIndex,filteredUsers.length),\" of \",filteredUsers.length,\" users\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted small\",children:\"Users per page:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-sm\",style:{width:'auto'},value:usersPerPage,onChange:e=>{setUsersPerPage(Number(e.target.value));setCurrentPage(1);},children:[/*#__PURE__*/_jsx(\"option\",{value:20,children:\"20\"}),/*#__PURE__*/_jsx(\"option\",{value:50,children:\"50\"}),/*#__PURE__*/_jsx(\"option\",{value:100,children:\"100\"})]})]})]}),/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"ul\",{className:\"pagination pagination-sm mb-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===1?'disabled':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>setCurrentPage(1),disabled:currentPage===1,children:/*#__PURE__*/_jsx(ChevronsLeft,{size:16})})}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===1?'disabled':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>setCurrentPage(currentPage-1),disabled:currentPage===1,children:/*#__PURE__*/_jsx(ChevronLeft,{size:16})})}),Array.from({length:Math.min(5,totalPages)},(_,i)=>{let pageNum;if(totalPages<=5){pageNum=i+1;}else if(currentPage<=3){pageNum=i+1;}else if(currentPage>=totalPages-2){pageNum=totalPages-4+i;}else{pageNum=currentPage-2+i;}return/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===pageNum?'active':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>setCurrentPage(pageNum),children:pageNum})},pageNum);}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===totalPages?'disabled':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>setCurrentPage(currentPage+1),disabled:currentPage===totalPages,children:/*#__PURE__*/_jsx(ChevronRight,{size:16})})}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===totalPages?'disabled':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>setCurrentPage(totalPages),disabled:currentPage===totalPages,children:/*#__PURE__*/_jsx(ChevronsRight,{size:16})})})]})})]}),userDetailModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal d-block\",style:{backgroundColor:'rgba(0,0,0,0.5)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered modal-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content border-0 rounded-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header border-0 pb-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rounded-circle bg-primary bg-opacity-10 p-2 me-3\",children:/*#__PURE__*/_jsx(Users,{className:\"text-primary\",size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"modal-title fw-bold mb-0\",children:[userDetailModal.firstName,\" \",userDetailModal.lastName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted small mb-0\",children:[\"@\",userDetailModal.username]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:()=>setUserDetailModal(null)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2 mb-3\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-\".concat(getRoleBadgeColor(userDetailModal.role),\" bg-opacity-10 text-\").concat(getRoleBadgeColor(userDetailModal.role),\" fw-semibold px-3 py-2\"),children:[/*#__PURE__*/_jsx(Shield,{size:14,className:\"me-1\"}),userDetailModal.role]}),userDetailModal.isActive?/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-success bg-opacity-10 text-success fw-semibold px-3 py-2\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:14,className:\"me-1\"}),\"Active\"]}):/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-secondary bg-opacity-10 text-secondary fw-semibold px-3 py-2\",children:[/*#__PURE__*/_jsx(XCircle,{size:14,className:\"me-1\"}),\"Inactive\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-primary bg-opacity-10 rounded-4 p-4\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"fw-bold text-primary mb-3\",children:[/*#__PURE__*/_jsx(Users,{size:16,className:\"me-2\"}),\"Basic Information\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"User ID\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-semibold text-dark\",children:userDetailModal.userId})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-semibold text-dark\",children:userDetailModal.firstName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-semibold text-dark\",children:userDetailModal.lastName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Username\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fw-semibold text-dark\",children:[\"@\",userDetailModal.username]})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-info bg-opacity-10 rounded-4 p-4\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"fw-bold text-info mb-3\",children:[/*#__PURE__*/_jsx(Mail,{size:16,className:\"me-2\"}),\"Contact Information\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"row g-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-3\",children:[/*#__PURE__*/_jsx(Mail,{className:\"text-info me-3\",size:16}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-semibold text-dark\",children:userDetailModal.email})]})]}),userDetailModal.phoneNumber&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Phone,{className:\"text-info me-3\",size:16}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-semibold text-dark\",children:userDetailModal.phoneNumber})]})]}),!userDetailModal.phoneNumber&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Phone,{className:\"text-muted me-3\",size:16}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted\",children:\"Not provided\"})]})]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-success bg-opacity-10 rounded-4 p-4\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"fw-bold text-success mb-3\",children:[/*#__PURE__*/_jsx(Calendar,{size:16,className:\"me-2\"}),\"Activity Information\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Last Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-dark h5 mb-0\",children:formatLastLogin(userDetailModal.lastLogin)})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Member Since\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-dark h5 mb-0\",children:formatDate(userDetailModal.createdAt)})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Account Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-dark h5 mb-0\",children:userDetailModal.isActive?'Active':'Inactive'})]})})]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer border-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex gap-2 w-100\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-primary rounded-3 flex-fill\",onClick:()=>{setEditUserForm({userId:userDetailModal.userId,firstName:userDetailModal.firstName,lastName:userDetailModal.lastName,username:userDetailModal.username,email:userDetailModal.email,phoneNumber:userDetailModal.phoneNumber||'',role:userDetailModal.role,isActive:userDetailModal.isActive});setUserDetailModal(null);setShowEditUser(true);},children:[/*#__PURE__*/_jsx(Edit3,{size:16,className:\"me-2\"}),\"Edit User\"]})})})]})})}),showEditUser&&/*#__PURE__*/_jsx(\"div\",{className:\"modal d-block\",style:{backgroundColor:'rgba(0,0,0,0.5)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered modal-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content border-0 rounded-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header border-0 pb-0\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title fw-bold\",children:\"Edit User\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:resetEditUserModal})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:editSubmitSuccess?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:64,className:\"text-success mb-3\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-success fw-bold\",children:\"User Updated Successfully!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"The user information has been updated.\"})]}):/*#__PURE__*/_jsx(\"form\",{onSubmit:handleEditUserSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(editFormErrors.firstName?'is-invalid':''),placeholder:\"Enter first name\",value:editUserForm.firstName,onChange:e=>handleEditInputChange('firstName',e.target.value)}),editFormErrors.firstName&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.firstName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(editFormErrors.lastName?'is-invalid':''),placeholder:\"Enter last name\",value:editUserForm.lastName,onChange:e=>handleEditInputChange('lastName',e.target.value)}),editFormErrors.lastName&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.lastName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(editFormErrors.username?'is-invalid':''),placeholder:\"Enter username\",value:editUserForm.username,onChange:e=>handleEditInputChange('username',e.target.value)}),editFormErrors.username&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.username]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control rounded-3 \".concat(editFormErrors.email?'is-invalid':''),placeholder:\"Enter email address\",value:editUserForm.email,onChange:e=>handleEditInputChange('email',e.target.value)}),editFormErrors.email&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.email]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",className:\"form-control rounded-3 \".concat(editFormErrors.phoneNumber?'is-invalid':''),placeholder:\"e.g., +1 (555) 123-4567 or 555-123-4567\",value:editUserForm.phoneNumber,onChange:e=>handleEditInputChange('phoneNumber',e.target.value)}),editFormErrors.phoneNumber&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.phoneNumber]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select rounded-3 \".concat(editFormErrors.role?'is-invalid':''),value:editUserForm.role,onChange:e=>handleEditInputChange('role',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a role\"}),roles.map(role=>/*#__PURE__*/_jsx(\"option\",{value:role.role,children:role.role},role.userRoleId))]}),editFormErrors.role&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.role]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"isActive\",checked:editUserForm.isActive,onChange:e=>handleEditInputChange('isActive',e.target.checked)}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label fw-semibold\",htmlFor:\"isActive\",children:\"Active User\"})]})})]})})}),!editSubmitSuccess&&/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer border-0 pt-0\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary rounded-3\",onClick:resetEditUserModal,disabled:isEditSubmitting,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary rounded-3\",onClick:handleEditUserSubmit,disabled:isEditSubmitting,children:isEditSubmitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),\"Updating User...\"]}):'Update User'})]})]})})}),showAddUser&&/*#__PURE__*/_jsx(\"div\",{className:\"modal d-block\",style:{backgroundColor:'rgba(0,0,0,0.5)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered modal-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content border-0 rounded-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header border-0 pb-0\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title fw-bold\",children:\"Add New User\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:resetAddUserModal})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:submitSuccess?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:64,className:\"text-success mb-3\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-success fw-bold\",children:\"User Created Successfully!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"The new user has been registered and can now login to the system.\"})]}):/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmitNewUser,children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(formErrors.firstName?'is-invalid':''),placeholder:\"Enter first name\",value:newUserForm.firstName,onChange:e=>handleInputChange('firstName',e.target.value)}),formErrors.firstName&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.firstName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(formErrors.lastName?'is-invalid':''),placeholder:\"Enter last name\",value:newUserForm.lastName,onChange:e=>handleInputChange('lastName',e.target.value)}),formErrors.lastName&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.lastName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(formErrors.username?'is-invalid':''),placeholder:\"Enter username\",value:newUserForm.username,onChange:e=>handleInputChange('username',e.target.value)}),formErrors.username&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.username]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control rounded-3 \".concat(formErrors.email?'is-invalid':''),placeholder:\"Enter email address\",value:newUserForm.email,onChange:e=>handleInputChange('email',e.target.value)}),formErrors.email&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.email]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",className:\"form-control rounded-3 \".concat(formErrors.phoneNumber?'is-invalid':''),placeholder:\"e.g., +1 (555) 123-4567 or 555-123-4567\",value:newUserForm.phoneNumber,onChange:e=>handleInputChange('phoneNumber',e.target.value)}),formErrors.phoneNumber&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.phoneNumber]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',className:\"form-control rounded-3 pe-5 \".concat(formErrors.password?'is-invalid':''),placeholder:\"Min 8 chars, 1 uppercase, 1 lowercase, 1 digit, 1 special (@$!%*?&)\",value:newUserForm.password,onChange:e=>handleInputChange('password',e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowPassword(!showPassword),className:\"btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2 border-0 p-1\",style:{zIndex:10},children:showPassword?/*#__PURE__*/_jsx(EyeOff,{size:18}):/*#__PURE__*/_jsx(Eye,{size:18})}),formErrors.password&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.password]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Confirm Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:showReEnterPassword?'text':'password',className:\"form-control rounded-3 pe-5 \".concat(formErrors.reEnterPassword?'is-invalid':''),placeholder:\"Re-enter password\",value:newUserForm.reEnterPassword,onChange:e=>handleInputChange('reEnterPassword',e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowReEnterPassword(!showReEnterPassword),className:\"btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2 border-0 p-1\",style:{zIndex:10},children:showReEnterPassword?/*#__PURE__*/_jsx(EyeOff,{size:18}):/*#__PURE__*/_jsx(Eye,{size:18})}),formErrors.reEnterPassword&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.reEnterPassword]})]})]})]})})}),!submitSuccess&&/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer border-0 pt-0\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary rounded-3\",onClick:resetAddUserModal,disabled:isSubmitting,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary rounded-3\",onClick:handleSubmitNewUser,disabled:isSubmitting,children:isSubmitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),\"Creating User...\"]}):'Create User'})]})]})})})]})});}","map":{"version":3,"names":["React","useState","useEffect","Users","Search","Edit3","Trash2","Mail","Phone","Calendar","Shield","CheckCircle2","XCircle","MoreVertical","UserPlus","AlertCircle","Eye","EyeOff","Lock","Unlock","ChevronLeft","ChevronRight","ChevronsLeft","ChevronsRight","userApi","roleApi","authApi","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Accounts","users","setUsers","roles","setRoles","searchTerm","setSearchTerm","filterRole","setFilterRole","showAddUser","setShowAddUser","userDetailModal","setUserDetailModal","showEditUser","setShowEditUser","editUserForm","setEditUserForm","userId","firstName","lastName","username","email","phoneNumber","role","isActive","editFormErrors","setEditFormErrors","isEditSubmitting","setIsEditSubmitting","editSubmitSuccess","setEditSubmitSuccess","loading","setLoading","currentPage","setCurrentPage","usersPerPage","setUsersPerPage","newUserForm","setNewUserForm","password","reEnterPassword","formErrors","setFormErrors","isSubmitting","setIsSubmitting","showPassword","setShowPassword","showReEnterPassword","setShowReEnterPassword","submitSuccess","setSubmitSuccess","handleEscKey","event","key","resetAddUserModal","document","addEventListener","removeEventListener","loadData","usersResponse","getAllUsers","success","transformedUsers","map","user","lastLogin","createdAt","console","error","message","rolesResponse","getAllRoles","filteredUsers","filter","matchesSearch","toLowerCase","includes","matchesRole","totalPages","Math","ceil","length","startIndex","endIndex","currentUsers","slice","handleEscapeKey","getRoleBadgeColor","colors","hash","split","reduce","acc","char","charCodeAt","formatDate","dateString","Date","toLocaleDateString","year","month","day","formatLastLogin","now","diffInHours","floor","getTime","concat","diffInDays","handleInputChange","field","value","prev","_objectSpread","undefined","validateForm","errors","trim","test","Object","keys","handleSubmitNewUser","e","preventDefault","log","response","register","setTimeout","serverErrors","forEach","fieldName","errorValue","errorMessage","Array","isArray","status","handleEditInputChange","validateEditForm","handleEditUserSubmit","updateUser","prevUsers","resetEditUserModal","handleFreezeUser","updatedUser","u","handleEmailUser","window","location","href","handleDeleteUser","confirm","deleteUser","alert","className","style","overflowX","children","maxWidth","size","disabled","onClick","type","placeholder","onChange","target","userRoleId","cursor","transition","closest","onMouseEnter","currentTarget","transform","boxShadow","onMouseLeave","stopPropagation","width","whiteSpace","textAlign","display","alignItems","title","min","Number","from","_","i","pageNum","backgroundColor","onSubmit","id","checked","htmlFor","zIndex"],"sources":["/Users/jaili/csharpProject/Prototype/Prototype/ClientApp/src/components/account/Accounts.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Users, \n  Search, \n  Edit3, \n  Trash2, \n  Mail, \n  Phone, \n  Calendar,\n  Shield,\n  CheckCircle2,\n  XCircle,\n  MoreVertical,\n  UserPlus,\n  AlertCircle,\n  Eye,\n  EyeOff,\n  Lock,\n  Unlock,\n  ChevronLeft,\n  ChevronRight,\n  ChevronsLeft,\n  ChevronsRight\n} from 'lucide-react';\nimport { userApi, roleApi } from '../../services/api';\nimport { authApi } from '../../services/api';\n\ninterface Role {\n  userRoleId: string;\n  role: string;\n  createdAt: string;\n  createdBy: string;\n}\n\ninterface User {\n  userId: string;\n  firstName: string;\n  lastName: string;\n  username: string;\n  email: string;\n  phoneNumber?: string;\n  isActive: boolean;\n  role: string;\n  lastLogin?: string;\n  createdAt: string;\n}\n\ninterface NewUserForm {\n  firstName: string;\n  lastName: string;\n  username: string;\n  email: string;\n  phoneNumber: string;\n  password: string;\n  reEnterPassword: string;\n}\n\ninterface EditUserForm {\n  userId: string;\n  firstName: string;\n  lastName: string;\n  username: string;\n  email: string;\n  phoneNumber: string;\n  role: string;\n  isActive: boolean;\n}\n\nexport default function Accounts() {\n  const [users, setUsers] = useState<User[]>([]);\n  const [roles, setRoles] = useState<Role[]>([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterRole, setFilterRole] = useState<string>('all');\n  const [showAddUser, setShowAddUser] = useState(false);\n  const [userDetailModal, setUserDetailModal] = useState<User | null>(null);\n  const [showEditUser, setShowEditUser] = useState(false);\n  const [editUserForm, setEditUserForm] = useState<EditUserForm>({\n    userId: '',\n    firstName: '',\n    lastName: '',\n    username: '',\n    email: '',\n    phoneNumber: '',\n    role: '',\n    isActive: true\n  });\n  const [editFormErrors, setEditFormErrors] = useState<Partial<EditUserForm>>({});\n  const [isEditSubmitting, setIsEditSubmitting] = useState(false);\n  const [editSubmitSuccess, setEditSubmitSuccess] = useState(false);\n  const [loading, setLoading] = useState(true);\n  \n  // Pagination state\n  const [currentPage, setCurrentPage] = useState(1);\n  const [usersPerPage, setUsersPerPage] = useState(20);\n  \n  // New User Form State\n  const [newUserForm, setNewUserForm] = useState<NewUserForm>({\n    firstName: '',\n    lastName: '',\n    username: '',\n    email: '',\n    phoneNumber: '',\n    password: '',\n    reEnterPassword: ''\n  });\n  const [formErrors, setFormErrors] = useState<Partial<NewUserForm>>({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [showReEnterPassword, setShowReEnterPassword] = useState(false);\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n\n  // ESC key handler for modal\n  useEffect(() => {\n    const handleEscKey = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && showAddUser) {\n        resetAddUserModal();\n      }\n    };\n\n    if (showAddUser) {\n      document.addEventListener('keydown', handleEscKey);\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleEscKey);\n    };\n  }, [showAddUser]);\n\n  // Load users and roles from database\n  useEffect(() => {\n    const loadData = async () => {\n      setLoading(true);\n      \n      // Load users - this should always work regardless of roles\n      try {\n        const usersResponse = await userApi.getAllUsers();\n        \n        if (usersResponse.success && usersResponse.users) {\n          const transformedUsers: User[] = usersResponse.users.map((user: any) => ({\n            userId: user.userId,\n            firstName: user.firstName,\n            lastName: user.lastName,\n            username: user.username,\n            email: user.email,\n            phoneNumber: user.phoneNumber,\n            isActive: user.isActive,\n            role: user.role,\n            lastLogin: user.lastLogin,\n            createdAt: user.createdAt\n          }));\n          \n          setUsers(transformedUsers);\n        } else {\n          console.error('Failed to load users:', usersResponse.message);\n          setUsers([]);\n        }\n      } catch (error) {\n        console.error('Error loading users:', error);\n        setUsers([]);\n      }\n      \n      // Load roles - independent of users\n      try {\n        const rolesResponse = await roleApi.getAllRoles();\n        \n        if (rolesResponse.success && rolesResponse.roles) {\n          setRoles(rolesResponse.roles);\n        } else {\n          console.error('Failed to load roles:', rolesResponse.message);\n          setRoles([]);\n        }\n      } catch (error) {\n        console.error('Error loading roles:', error);\n        setRoles([]);\n      }\n      \n      setLoading(false);\n    };\n\n    loadData();\n  }, []);\n\n  const filteredUsers = users.filter(user => {\n    const matchesSearch = user.firstName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         user.lastName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         user.username.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         user.email.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesRole = filterRole === 'all' || user.role.toLowerCase() === filterRole.toLowerCase();\n    \n    return matchesSearch && matchesRole;\n  });\n\n  // Pagination calculations\n  const totalPages = Math.ceil(filteredUsers.length / usersPerPage);\n  const startIndex = (currentPage - 1) * usersPerPage;\n  const endIndex = startIndex + usersPerPage;\n  const currentUsers = filteredUsers.slice(startIndex, endIndex);\n\n  // Reset to first page when filters change\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [searchTerm, filterRole]);\n\n  // Add escape key listener for edit user modal\n  useEffect(() => {\n    const handleEscapeKey = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        if (showEditUser) {\n          setShowEditUser(false);\n          setEditUserForm({\n            firstName: '',\n            lastName: '',\n            email: '',\n            phoneNumber: '',\n            role: '',\n            isActive: true\n          });\n          setEditFormErrors({});\n        }\n        if (userDetailModal) {\n          setUserDetailModal(null);\n        }\n      }\n    };\n\n    document.addEventListener('keydown', handleEscapeKey);\n    return () => {\n      document.removeEventListener('keydown', handleEscapeKey);\n    };\n  }, [showEditUser, userDetailModal]);\n\n  const getRoleBadgeColor = (role: string) => {\n    // Create a consistent color mapping based on role name\n    const colors = ['primary', 'danger', 'warning', 'info', 'success', 'secondary'];\n    const hash = role.toLowerCase().split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);\n    return colors[hash % colors.length];\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n\n  const formatLastLogin = (dateString?: string) => {\n    if (!dateString) return 'Never';\n    const now = new Date();\n    const lastLogin = new Date(dateString);\n    const diffInHours = Math.floor((now.getTime() - lastLogin.getTime()) / (1000 * 60 * 60));\n    \n    if (diffInHours < 1) return 'Just now';\n    if (diffInHours < 24) return `${diffInHours}h ago`;\n    const diffInDays = Math.floor(diffInHours / 24);\n    if (diffInDays < 7) return `${diffInDays}d ago`;\n    return formatDate(dateString);\n  };\n\n  // Form handling functions\n  const handleInputChange = (field: keyof NewUserForm, value: string) => {\n    setNewUserForm(prev => ({ ...prev, [field]: value }));\n    // Clear error when user starts typing\n    if (formErrors[field]) {\n      setFormErrors(prev => ({ ...prev, [field]: undefined }));\n    }\n  };\n\n  const validateForm = (): boolean => {\n    const errors: Partial<NewUserForm> = {};\n\n    // First name validation\n    if (!newUserForm.firstName.trim()) {\n      errors.firstName = 'First name is required';\n    } else if (newUserForm.firstName.length > 50) {\n      errors.firstName = 'First name must be between 1 and 50 characters';\n    }\n\n    // Last name validation\n    if (!newUserForm.lastName.trim()) {\n      errors.lastName = 'Last name is required';\n    } else if (newUserForm.lastName.length > 50) {\n      errors.lastName = 'Last name must be between 1 and 50 characters';\n    }\n\n    // Username validation\n    if (!newUserForm.username.trim()) {\n      errors.username = 'Username is required';\n    } else if (newUserForm.username.length < 3 || newUserForm.username.length > 100) {\n      errors.username = 'Username must be between 3 and 100 characters';\n    } else if (!/^[a-zA-Z0-9_.-]+$/.test(newUserForm.username)) {\n      errors.username = 'Username can only contain letters, numbers, underscores, dots, and hyphens';\n    }\n\n    // Email validation\n    if (!newUserForm.email.trim()) {\n      errors.email = 'Email is required';\n    } else if (!/\\S+@\\S+\\.\\S+/.test(newUserForm.email)) {\n      errors.email = 'Invalid email format';\n    } else if (newUserForm.email.length > 255) {\n      errors.email = 'Email cannot exceed 255 characters';\n    }\n\n    // Phone number validation (basic format)\n    if (!newUserForm.phoneNumber.trim()) {\n      errors.phoneNumber = 'Phone number is required';\n    } else if (newUserForm.phoneNumber.length > 20) {\n      errors.phoneNumber = 'Phone number cannot exceed 20 characters';\n    }\n\n    // Password validation to match backend requirements\n    if (!newUserForm.password.trim()) {\n      errors.password = 'Password is required';\n    } else if (newUserForm.password.length < 8 || newUserForm.password.length > 128) {\n      errors.password = 'Password must be between 8 and 128 characters';\n    } else if (!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/.test(newUserForm.password)) {\n      errors.password = 'Password must contain at least one uppercase letter, one lowercase letter, one digit, and one special character (@$!%*?&)';\n    }\n\n    // Confirm password validation\n    if (!newUserForm.reEnterPassword.trim()) {\n      errors.reEnterPassword = 'Please confirm password';\n    } else if (newUserForm.password !== newUserForm.reEnterPassword) {\n      errors.reEnterPassword = 'Passwords do not match';\n    }\n\n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleSubmitNewUser = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateForm()) return;\n\n    setIsSubmitting(true);\n    setFormErrors({}); // Clear any previous errors\n    \n    try {\n      console.log('Submitting user registration:', newUserForm);\n      const response = await authApi.register(newUserForm);\n      console.log('Registration response:', response);\n      \n      if (response && response.success) {\n        setSubmitSuccess(true);\n        // Reset form\n        setNewUserForm({\n          firstName: '',\n          lastName: '',\n          username: '',\n          email: '',\n          phoneNumber: '',\n          password: '',\n          reEnterPassword: ''\n        });\n        setFormErrors({});\n        \n        // Close modal after 2 seconds\n        setTimeout(() => {\n          setShowAddUser(false);\n          setSubmitSuccess(false);\n        }, 2000);\n      } else {\n        // Handle server errors\n        console.error('Registration failed:', response);\n        if (response?.errors) {\n          // Handle field-specific validation errors from server\n          const serverErrors: Partial<NewUserForm> = {};\n          const errors = response.errors as unknown as { [key: string]: string | string[] };\n          Object.keys(errors).forEach(key => {\n            const fieldName = key.toLowerCase();\n            const errorValue = errors[key];\n            const errorMessage = Array.isArray(errorValue) ? errorValue[0] : errorValue;\n            if (fieldName.includes('firstname')) serverErrors.firstName = errorMessage;\n            else if (fieldName.includes('lastname')) serverErrors.lastName = errorMessage;\n            else if (fieldName.includes('username')) serverErrors.username = errorMessage;\n            else if (fieldName.includes('email')) serverErrors.email = errorMessage;\n            else if (fieldName.includes('phone')) serverErrors.phoneNumber = errorMessage;\n            else if (fieldName.includes('password')) serverErrors.password = errorMessage;\n            else serverErrors.email = errorMessage;\n          });\n          setFormErrors(serverErrors);\n        } else {\n          setFormErrors({ email: response?.message || 'Registration failed' });\n        }\n      }\n    } catch (error: any) {\n      console.error('Registration error:', error);\n      // Handle network or parsing errors\n      if (error.status === 400 && error.errors) {\n        const serverErrors: Partial<NewUserForm> = {};\n        const errors = error.errors as unknown as { [key: string]: string | string[] };\n        Object.keys(errors).forEach(key => {\n          const fieldName = key.toLowerCase();\n          const errorValue = errors[key];\n          const errorMessage = Array.isArray(errorValue) ? errorValue[0] : errorValue;\n          if (fieldName.includes('firstname')) serverErrors.firstName = errorMessage;\n          else if (fieldName.includes('lastname')) serverErrors.lastName = errorMessage;\n          else if (fieldName.includes('username')) serverErrors.username = errorMessage;\n          else if (fieldName.includes('email')) serverErrors.email = errorMessage;\n          else if (fieldName.includes('phone')) serverErrors.phoneNumber = errorMessage;\n          else if (fieldName.includes('password')) serverErrors.password = errorMessage;\n          else serverErrors.email = errorMessage;\n        });\n        setFormErrors(serverErrors);\n      } else {\n        setFormErrors({ email: error.message || 'Network error occurred' });\n      }\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const resetAddUserModal = () => {\n    setNewUserForm({\n      firstName: '',\n      lastName: '',\n      username: '',\n      email: '',\n      phoneNumber: '',\n      password: '',\n      reEnterPassword: ''\n    });\n    setFormErrors({});\n    setIsSubmitting(false);\n    setSubmitSuccess(false);\n    setShowPassword(false);\n    setShowReEnterPassword(false);\n    setShowAddUser(false);\n  };\n\n  // Edit User Form handling\n  const handleEditInputChange = (field: keyof EditUserForm, value: string | boolean) => {\n    setEditUserForm(prev => ({ ...prev, [field]: value }));\n    if (editFormErrors[field]) {\n      setEditFormErrors(prev => ({ ...prev, [field]: undefined }));\n    }\n  };\n\n  const validateEditForm = (): boolean => {\n    const errors: Partial<EditUserForm> = {};\n\n    if (!editUserForm.firstName.trim()) {\n      errors.firstName = 'First name is required';\n    } else if (editUserForm.firstName.length > 50) {\n      errors.firstName = 'First name must be between 1 and 50 characters';\n    }\n\n    if (!editUserForm.lastName.trim()) {\n      errors.lastName = 'Last name is required';\n    } else if (editUserForm.lastName.length > 50) {\n      errors.lastName = 'Last name must be between 1 and 50 characters';\n    }\n\n    if (!editUserForm.username.trim()) {\n      errors.username = 'Username is required';\n    } else if (editUserForm.username.length < 3 || editUserForm.username.length > 100) {\n      errors.username = 'Username must be between 3 and 100 characters';\n    } else if (!/^[a-zA-Z0-9_.-]+$/.test(editUserForm.username)) {\n      errors.username = 'Username can only contain letters, numbers, underscores, dots, and hyphens';\n    }\n\n    if (!editUserForm.email.trim()) {\n      errors.email = 'Email is required';\n    } else if (!/\\S+@\\S+\\.\\S+/.test(editUserForm.email)) {\n      errors.email = 'Invalid email format';\n    } else if (editUserForm.email.length > 255) {\n      errors.email = 'Email cannot exceed 255 characters';\n    }\n\n    if (editUserForm.phoneNumber && editUserForm.phoneNumber.length > 20) {\n      errors.phoneNumber = 'Phone number cannot exceed 20 characters';\n    }\n\n    if (!editUserForm.role.trim()) {\n      errors.role = 'Role is required';\n    }\n\n    setEditFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleEditUserSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateEditForm()) return;\n\n    setIsEditSubmitting(true);\n    setEditFormErrors({});\n    \n    try {\n      const response = await userApi.updateUser(editUserForm);\n      \n      if (response && response.success) {\n        setEditSubmitSuccess(true);\n        // Update the user in the local state\n        setUsers(prevUsers => \n          prevUsers.map(user => \n            user.userId === editUserForm.userId \n              ? { ...user, ...editUserForm }\n              : user\n          )\n        );\n        \n        setTimeout(() => {\n          setShowEditUser(false);\n          setEditSubmitSuccess(false);\n          resetEditUserModal();\n        }, 2000);\n      } else {\n        setEditFormErrors({ email: response?.message || 'Update failed' });\n      }\n    } catch (error: any) {\n      console.error('Update user error:', error);\n      if (error.status === 400 && error.errors) {\n        const serverErrors: Partial<EditUserForm> = {};\n        const errors = error.errors as unknown as { [key: string]: string | string[] };\n        Object.keys(errors).forEach(key => {\n          const fieldName = key.toLowerCase();\n          const errorValue = errors[key];\n          const errorMessage = Array.isArray(errorValue) ? errorValue[0] : errorValue;\n          if (fieldName.includes('firstname')) serverErrors.firstName = errorMessage;\n          else if (fieldName.includes('lastname')) serverErrors.lastName = errorMessage;\n          else if (fieldName.includes('username')) serverErrors.username = errorMessage;\n          else if (fieldName.includes('email')) serverErrors.email = errorMessage;\n          else if (fieldName.includes('phone')) serverErrors.phoneNumber = errorMessage;\n          else serverErrors.email = errorMessage;\n        });\n        setEditFormErrors(serverErrors);\n      } else {\n        setEditFormErrors({ email: error.message || 'Network error occurred' });\n      }\n    } finally {\n      setIsEditSubmitting(false);\n    }\n  };\n\n  const resetEditUserModal = () => {\n    setEditUserForm({\n      userId: '',\n      firstName: '',\n      lastName: '',\n      username: '',\n      email: '',\n      phoneNumber: '',\n      role: '',\n      isActive: true\n    });\n    setEditFormErrors({});\n    setIsEditSubmitting(false);\n    setEditSubmitSuccess(false);\n    setShowEditUser(false);\n  };\n\n  // Dropdown action handlers\n  const handleFreezeUser = async (user: User) => {\n    try {\n      const updatedUser = {\n        ...user,\n        isActive: !user.isActive\n      };\n      \n      const response = await userApi.updateUser(updatedUser);\n      \n      if (response && response.success) {\n        // Update the user in the local state\n        setUsers(prevUsers => \n          prevUsers.map(u => \n            u.userId === user.userId \n              ? { ...u, isActive: !u.isActive }\n              : u\n          )\n        );\n        \n        // Show success message (you could add a toast notification here)\n        console.log(`User ${user.isActive ? 'frozen' : 'unfrozen'} successfully`);\n      }\n    } catch (error) {\n      console.error('Error updating user status:', error);\n    }\n  };\n\n  const handleEmailUser = (user: User) => {\n    // Open email client with pre-filled recipient\n    window.location.href = `mailto:${user.email}`;\n  };\n\n  const handleDeleteUser = async (user: User) => {\n    if (window.confirm(`Are you sure you want to delete user ${user.firstName} ${user.lastName}? This action cannot be undone.`)) {\n      try {\n        console.log('Attempting to delete user:', user.userId);\n        const response = await userApi.deleteUser(user.userId);\n        console.log('Delete user response:', response);\n        \n        if (response && response.success) {\n          // Remove from local state only after successful deletion from database\n          setUsers(prevUsers => prevUsers.filter(u => u.userId !== user.userId));\n          console.log(`User ${user.firstName} ${user.lastName} deleted successfully`);\n        } else {\n          console.error('Failed to delete user:', response?.message);\n          alert(`Failed to delete user: ${response?.message || 'Unknown error'}`);\n        }\n      } catch (error: any) {\n        console.error('Error deleting user - Full error object:', error);\n        console.error('Error message:', error.message);\n        console.error('Error status:', error.status);\n        console.error('Error response:', error.response);\n        alert(`Error deleting user: ${error.message || error.status || 'Network error occurred'}`);\n      }\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-vh-100 bg-light\" style={{overflowX: 'hidden'}}>\n        <div className=\"container-fluid py-4\" style={{maxWidth: '100%'}}>\n          {/* Header */}\n          <div className=\"mb-4\">\n            <div className=\"d-flex align-items-center justify-content-between mb-2\">\n              <div className=\"d-flex align-items-center\">\n                <Users className=\"text-primary me-3\" size={32} />\n                <div>\n                  <h1 className=\"display-5 fw-bold text-dark mb-0\">User Accounts</h1>\n                  <p className=\"text-muted fs-6 mb-0\">Manage user accounts and permissions</p>\n                </div>\n              </div>\n              <div className=\"d-flex gap-2\">\n                <button className=\"btn btn-primary rounded-3 d-flex align-items-center\" disabled>\n                  <UserPlus className=\"me-2\" size={18} />\n                  Add User\n                </button>\n              </div>\n            </div>\n          </div>\n          \n          {/* Loading Content */}\n          <div className=\"card shadow-sm border-0 rounded-4\">\n            <div className=\"card-body p-4 text-center\">\n              <div className=\"spinner-border text-primary mb-3\" role=\"status\">\n                <span className=\"visually-hidden\">Loading...</span>\n              </div>\n              <p className=\"text-muted\">Loading accounts...</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-vh-100 bg-light\" style={{overflowX: 'hidden'}}>\n      <div className=\"container-fluid py-4\" style={{maxWidth: '100%'}}>\n        {/* Header */}\n        <div className=\"mb-4\">\n          <div className=\"d-flex align-items-center justify-content-between mb-2\">\n            <div className=\"d-flex align-items-center\">\n              <Users className=\"text-primary me-3\" size={32} />\n              <div>\n                <h1 className=\"display-5 fw-bold text-dark mb-0\">User Accounts</h1>\n                <p className=\"text-muted fs-6 mb-0\">Manage user accounts and permissions</p>\n              </div>\n            </div>\n            <div className=\"d-flex gap-2\">\n              <button \n                className=\"btn btn-primary rounded-3 d-flex align-items-center\"\n                onClick={() => setShowAddUser(true)}\n              >\n                <UserPlus className=\"me-2\" size={18} />\n                Add User\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Filters and Search */}\n        <div className=\"row mb-4\">\n          <div className=\"col-12\">\n            <div className=\"card border-0 rounded-4 shadow-sm\">\n              <div className=\"card-body p-4\">\n                <div className=\"row g-3\">\n                  <div className=\"col-md-6\">\n                    <div className=\"position-relative\">\n                      <Search className=\"position-absolute top-50 start-0 translate-middle-y ms-3 text-muted\" size={18} />\n                      <input\n                        type=\"text\"\n                        className=\"form-control form-control-lg rounded-3 ps-5\"\n                        placeholder=\"Search users by name, username, or email...\"\n                        value={searchTerm}\n                        onChange={(e) => setSearchTerm(e.target.value)}\n                      />\n                    </div>\n                  </div>\n                  <div className=\"col-md-3\">\n                    <select\n                      className=\"form-select form-select-lg rounded-3\"\n                      value={filterRole}\n                      onChange={(e) => setFilterRole(e.target.value)}\n                    >\n                      <option value=\"all\">All Roles</option>\n                      {roles.map((role) => (\n                        <option key={role.userRoleId} value={role.role.toLowerCase()}>\n                          {role.role}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                  <div className=\"col-md-3\">\n                    <div className=\"bg-light rounded-3 p-2 text-center\">\n                      <div className=\"fw-bold text-primary\">{filteredUsers.length}</div>\n                      <div className=\"small text-muted\">Total Users</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Users Grid */}\n        <div className=\"row g-4\">\n          {currentUsers.map((user) => (\n            <div key={user.userId} className=\"col-xl-3 col-lg-4 col-md-6 col-sm-12\">\n              <div \n                className=\"card border-0 rounded-4 shadow-sm h-100 dashboard-card\" \n                style={{ cursor: 'pointer', transition: 'transform 0.2s, box-shadow 0.2s' }}\n                onClick={(e) => {\n                  // Don't open modal if clicking on dropdown\n                  if (!(e.target as HTMLElement).closest('.dropdown')) {\n                    setUserDetailModal(user);\n                  }\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.transform = 'translateY(-2px)';\n                  e.currentTarget.style.boxShadow = '0 8px 25px rgba(0,0,0,0.15)';\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.transform = 'translateY(0)';\n                  e.currentTarget.style.boxShadow = '';\n                }}\n              >\n                <div className=\"card-body p-3\">\n                  <div className=\"d-flex align-items-start justify-content-between mb-2\">\n                    <div className=\"d-flex align-items-center\">\n                      <div className=\"rounded-circle bg-primary bg-opacity-10 p-2 me-2\">\n                        <Users className=\"text-primary\" size={20} />\n                      </div>\n                      <div>\n                        <h6 className=\"fw-bold text-dark mb-0\">\n                          {user.firstName} {user.lastName}\n                        </h6>\n                        <p className=\"text-muted mb-0 small\">@{user.username}</p>\n                      </div>\n                    </div>\n                    <div className=\"dropdown\">\n                      <button\n                        className=\"btn btn-sm btn-outline-secondary rounded-3\"\n                        type=\"button\"\n                        data-bs-toggle=\"dropdown\"\n                        aria-expanded=\"false\"\n                        onClick={(e) => e.stopPropagation()}\n                      >\n                        <MoreVertical size={16} />\n                      </button>\n                      <ul className=\"dropdown-menu dropdown-menu-end\" style={{ width: '190px' }}>\n                        <li>\n                          <button \n                            className=\"dropdown-item d-flex align-items-center w-100\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleFreezeUser(user);\n                            }}\n                            style={{ whiteSpace: 'nowrap', textAlign: 'left' }}\n                          >\n                            <span style={{ display: 'inline-flex', alignItems: 'center', width: '100%' }}>\n                              {user.isActive ? (\n                                <><Lock size={14} className=\"me-2 flex-shrink-0\" /><span>Freeze Account</span></>\n                              ) : (\n                                <><Unlock size={14} className=\"me-2 flex-shrink-0\" /><span>Unfreeze Account</span></>\n                              )}\n                            </span>\n                          </button>\n                        </li>\n                        <li>\n                          <button \n                            className=\"dropdown-item d-flex align-items-center w-100\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleEmailUser(user);\n                            }}\n                            style={{ whiteSpace: 'nowrap', textAlign: 'left' }}\n                          >\n                            <span style={{ display: 'inline-flex', alignItems: 'center', width: '100%' }}>\n                              <Mail size={14} className=\"me-2 flex-shrink-0\" /><span>Send Email</span>\n                            </span>\n                          </button>\n                        </li>\n                        <li><hr className=\"dropdown-divider\" /></li>\n                        <li>\n                          <button \n                            className=\"dropdown-item text-danger d-flex align-items-center w-100\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleDeleteUser(user);\n                            }}\n                            style={{ whiteSpace: 'nowrap', textAlign: 'left' }}\n                          >\n                            <span style={{ display: 'inline-flex', alignItems: 'center', width: '100%' }}>\n                              <Trash2 size={14} className=\"me-2 flex-shrink-0\" /><span>Delete User</span>\n                            </span>\n                          </button>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n\n                  <div className=\"mb-2\">\n                    <span className={`badge bg-${getRoleBadgeColor(user.role)} bg-opacity-10 text-${getRoleBadgeColor(user.role)} fw-semibold small`}>\n                      {user.role}\n                    </span>\n                    {user.isActive ? (\n                      <span className=\"badge bg-success bg-opacity-10 text-success fw-semibold ms-1 small\">\n                        <CheckCircle2 size={10} className=\"me-1\" />\n                        Active\n                      </span>\n                    ) : (\n                      <span className=\"badge bg-secondary bg-opacity-10 text-secondary fw-semibold ms-1 small\">\n                        <XCircle size={10} className=\"me-1\" />\n                        Inactive\n                      </span>\n                    )}\n                  </div>\n\n                  <div className=\"mb-2\">\n                    <div className=\"d-flex align-items-center mb-1\">\n                      <Mail className=\"text-muted me-2\" size={12} />\n                      <span className=\"small text-dark text-truncate\" style={{maxWidth: '150px'}} title={user.email}>{user.email}</span>\n                    </div>\n                    {user.phoneNumber && (\n                      <div className=\"d-flex align-items-center mb-1\">\n                        <Phone className=\"text-muted me-2\" size={12} />\n                        <span className=\"small text-dark\">{user.phoneNumber}</span>\n                      </div>\n                    )}\n                    <div className=\"d-flex align-items-center\">\n                      <Calendar className=\"text-muted me-2\" size={12} />\n                      <span className=\"small text-muted\">Joined {formatDate(user.createdAt)}</span>\n                    </div>\n                  </div>\n\n                  <div className=\"bg-light rounded-3 p-2\">\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                      <span className=\"small fw-semibold text-muted\">Last Login</span>\n                      <span className=\"small text-dark\">{formatLastLogin(user.lastLogin)}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n\n          {filteredUsers.length === 0 && !loading && (\n            <div className=\"col-12\">\n              <div className=\"card border-0 rounded-4 shadow-sm\">\n                <div className=\"card-body p-5 text-center\">\n                  <Users size={64} className=\"text-muted mb-3 opacity-50\" />\n                  <h3 className=\"fw-bold text-muted mb-2\">No Users Found</h3>\n                  <p className=\"text-muted mb-4\">\n                    {searchTerm || filterRole !== 'all' \n                      ? 'Try adjusting your search or filter criteria.' \n                      : 'Get started by adding your first user.'}\n                  </p>\n                  {(!searchTerm && filterRole === 'all') && (\n                    <button \n                      className=\"btn btn-primary rounded-3\"\n                      onClick={() => setShowAddUser(true)}\n                    >\n                      <UserPlus className=\"me-2\" size={18} />\n                      Add First User\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Pagination */}\n        {filteredUsers.length > 0 && totalPages > 1 && (\n          <div className=\"d-flex justify-content-between align-items-center mt-4\">\n            <div className=\"d-flex align-items-center gap-3\">\n              <span className=\"text-muted\">\n                Showing {startIndex + 1} to {Math.min(endIndex, filteredUsers.length)} of {filteredUsers.length} users\n              </span>\n              <div className=\"d-flex align-items-center gap-2\">\n                <span className=\"text-muted small\">Users per page:</span>\n                <select \n                  className=\"form-select form-select-sm\" \n                  style={{width: 'auto'}}\n                  value={usersPerPage}\n                  onChange={(e) => {\n                    setUsersPerPage(Number(e.target.value));\n                    setCurrentPage(1);\n                  }}\n                >\n                  <option value={20}>20</option>\n                  <option value={50}>50</option>\n                  <option value={100}>100</option>\n                </select>\n              </div>\n            </div>\n            \n            <nav>\n              <ul className=\"pagination pagination-sm mb-0\">\n                <li className={`page-item ${currentPage === 1 ? 'disabled' : ''}`}>\n                  <button \n                    className=\"page-link\" \n                    onClick={() => setCurrentPage(1)}\n                    disabled={currentPage === 1}\n                  >\n                    <ChevronsLeft size={16} />\n                  </button>\n                </li>\n                <li className={`page-item ${currentPage === 1 ? 'disabled' : ''}`}>\n                  <button \n                    className=\"page-link\" \n                    onClick={() => setCurrentPage(currentPage - 1)}\n                    disabled={currentPage === 1}\n                  >\n                    <ChevronLeft size={16} />\n                  </button>\n                </li>\n                \n                {/* Page numbers */}\n                {Array.from({ length: Math.min(5, totalPages) }, (_, i) => {\n                  let pageNum: number;\n                  if (totalPages <= 5) {\n                    pageNum = i + 1;\n                  } else if (currentPage <= 3) {\n                    pageNum = i + 1;\n                  } else if (currentPage >= totalPages - 2) {\n                    pageNum = totalPages - 4 + i;\n                  } else {\n                    pageNum = currentPage - 2 + i;\n                  }\n                  \n                  return (\n                    <li key={pageNum} className={`page-item ${currentPage === pageNum ? 'active' : ''}`}>\n                      <button \n                        className=\"page-link\" \n                        onClick={() => setCurrentPage(pageNum)}\n                      >\n                        {pageNum}\n                      </button>\n                    </li>\n                  );\n                })}\n                \n                <li className={`page-item ${currentPage === totalPages ? 'disabled' : ''}`}>\n                  <button \n                    className=\"page-link\" \n                    onClick={() => setCurrentPage(currentPage + 1)}\n                    disabled={currentPage === totalPages}\n                  >\n                    <ChevronRight size={16} />\n                  </button>\n                </li>\n                <li className={`page-item ${currentPage === totalPages ? 'disabled' : ''}`}>\n                  <button \n                    className=\"page-link\" \n                    onClick={() => setCurrentPage(totalPages)}\n                    disabled={currentPage === totalPages}\n                  >\n                    <ChevronsRight size={16} />\n                  </button>\n                </li>\n              </ul>\n            </nav>\n          </div>\n        )}\n\n        {/* User Detail Modal */}\n        {userDetailModal && (\n          <div className=\"modal d-block\" style={{backgroundColor: 'rgba(0,0,0,0.5)'}}>\n            <div className=\"modal-dialog modal-dialog-centered modal-lg\">\n              <div className=\"modal-content border-0 rounded-4\">\n                <div className=\"modal-header border-0 pb-0\">\n                  <div className=\"d-flex align-items-center\">\n                    <div className=\"rounded-circle bg-primary bg-opacity-10 p-2 me-3\">\n                      <Users className=\"text-primary\" size={20} />\n                    </div>\n                    <div>\n                      <h5 className=\"modal-title fw-bold mb-0\">\n                        {userDetailModal.firstName} {userDetailModal.lastName}\n                      </h5>\n                      <p className=\"text-muted small mb-0\">@{userDetailModal.username}</p>\n                    </div>\n                  </div>\n                  <button\n                    type=\"button\"\n                    className=\"btn-close\"\n                    onClick={() => setUserDetailModal(null)}\n                  ></button>\n                </div>\n                <div className=\"modal-body\">\n                  <div className=\"row g-4\">\n                    {/* Status and Role */}\n                    <div className=\"col-12\">\n                      <div className=\"d-flex gap-2 mb-3\">\n                        <span className={`badge bg-${getRoleBadgeColor(userDetailModal.role)} bg-opacity-10 text-${getRoleBadgeColor(userDetailModal.role)} fw-semibold px-3 py-2`}>\n                          <Shield size={14} className=\"me-1\" />\n                          {userDetailModal.role}\n                        </span>\n                        {userDetailModal.isActive ? (\n                          <span className=\"badge bg-success bg-opacity-10 text-success fw-semibold px-3 py-2\">\n                            <CheckCircle2 size={14} className=\"me-1\" />\n                            Active\n                          </span>\n                        ) : (\n                          <span className=\"badge bg-secondary bg-opacity-10 text-secondary fw-semibold px-3 py-2\">\n                            <XCircle size={14} className=\"me-1\" />\n                            Inactive\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                    \n                    {/* Basic Information */}\n                    <div className=\"col-md-6\">\n                      <div className=\"bg-primary bg-opacity-10 rounded-4 p-4\">\n                        <h6 className=\"fw-bold text-primary mb-3\">\n                          <Users size={16} className=\"me-2\" />\n                          Basic Information\n                        </h6>\n                        <div className=\"row g-3\">\n                          <div className=\"col-12\">\n                            <div className=\"small text-muted\">User ID</div>\n                            <div className=\"fw-semibold text-dark\">{userDetailModal.userId}</div>\n                          </div>\n                          <div className=\"col-6\">\n                            <div className=\"small text-muted\">First Name</div>\n                            <div className=\"fw-semibold text-dark\">{userDetailModal.firstName}</div>\n                          </div>\n                          <div className=\"col-6\">\n                            <div className=\"small text-muted\">Last Name</div>\n                            <div className=\"fw-semibold text-dark\">{userDetailModal.lastName}</div>\n                          </div>\n                          <div className=\"col-12\">\n                            <div className=\"small text-muted\">Username</div>\n                            <div className=\"fw-semibold text-dark\">@{userDetailModal.username}</div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    {/* Contact Information */}\n                    <div className=\"col-md-6\">\n                      <div className=\"bg-info bg-opacity-10 rounded-4 p-4\">\n                        <h6 className=\"fw-bold text-info mb-3\">\n                          <Mail size={16} className=\"me-2\" />\n                          Contact Information\n                        </h6>\n                        <div className=\"row g-3\">\n                          <div className=\"col-12\">\n                            <div className=\"d-flex align-items-center mb-3\">\n                              <Mail className=\"text-info me-3\" size={16} />\n                              <div>\n                                <div className=\"small text-muted\">Email Address</div>\n                                <div className=\"fw-semibold text-dark\">{userDetailModal.email}</div>\n                              </div>\n                            </div>\n                            {userDetailModal.phoneNumber && (\n                              <div className=\"d-flex align-items-center\">\n                                <Phone className=\"text-info me-3\" size={16} />\n                                <div>\n                                  <div className=\"small text-muted\">Phone Number</div>\n                                  <div className=\"fw-semibold text-dark\">{userDetailModal.phoneNumber}</div>\n                                </div>\n                              </div>\n                            )}\n                            {!userDetailModal.phoneNumber && (\n                              <div className=\"d-flex align-items-center\">\n                                <Phone className=\"text-muted me-3\" size={16} />\n                                <div>\n                                  <div className=\"small text-muted\">Phone Number</div>\n                                  <div className=\"text-muted\">Not provided</div>\n                                </div>\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    {/* Activity Information */}\n                    <div className=\"col-12\">\n                      <div className=\"bg-success bg-opacity-10 rounded-4 p-4\">\n                        <h6 className=\"fw-bold text-success mb-3\">\n                          <Calendar size={16} className=\"me-2\" />\n                          Activity Information\n                        </h6>\n                        <div className=\"row g-3\">\n                          <div className=\"col-md-4\">\n                            <div className=\"text-center\">\n                              <div className=\"small text-muted\">Last Login</div>\n                              <div className=\"fw-bold text-dark h5 mb-0\">{formatLastLogin(userDetailModal.lastLogin)}</div>\n                            </div>\n                          </div>\n                          <div className=\"col-md-4\">\n                            <div className=\"text-center\">\n                              <div className=\"small text-muted\">Member Since</div>\n                              <div className=\"fw-bold text-dark h5 mb-0\">{formatDate(userDetailModal.createdAt)}</div>\n                            </div>\n                          </div>\n                          <div className=\"col-md-4\">\n                            <div className=\"text-center\">\n                              <div className=\"small text-muted\">Account Status</div>\n                              <div className=\"fw-bold text-dark h5 mb-0\">\n                                {userDetailModal.isActive ? 'Active' : 'Inactive'}\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"modal-footer border-0\">\n                  <div className=\"d-flex gap-2 w-100\">\n                    <button \n                      className=\"btn btn-outline-primary rounded-3 flex-fill\"\n                      onClick={() => {\n                        setEditUserForm({\n                          userId: userDetailModal.userId,\n                          firstName: userDetailModal.firstName,\n                          lastName: userDetailModal.lastName,\n                          username: userDetailModal.username,\n                          email: userDetailModal.email,\n                          phoneNumber: userDetailModal.phoneNumber || '',\n                          role: userDetailModal.role,\n                          isActive: userDetailModal.isActive\n                        });\n                        setUserDetailModal(null);\n                        setShowEditUser(true);\n                      }}\n                    >\n                      <Edit3 size={16} className=\"me-2\" />\n                      Edit User\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n        \n        {/* Edit User Modal */}\n        {showEditUser && (\n          <div className=\"modal d-block\" style={{backgroundColor: 'rgba(0,0,0,0.5)'}}>\n            <div className=\"modal-dialog modal-dialog-centered modal-lg\">\n              <div className=\"modal-content border-0 rounded-4\">\n                <div className=\"modal-header border-0 pb-0\">\n                  <h5 className=\"modal-title fw-bold\">Edit User</h5>\n                  <button\n                    type=\"button\"\n                    className=\"btn-close\"\n                    onClick={resetEditUserModal}\n                  ></button>\n                </div>\n                <div className=\"modal-body\">\n                  {editSubmitSuccess ? (\n                    <div className=\"text-center py-4\">\n                      <CheckCircle2 size={64} className=\"text-success mb-3\" />\n                      <h4 className=\"text-success fw-bold\">User Updated Successfully!</h4>\n                      <p className=\"text-muted\">The user information has been updated.</p>\n                    </div>\n                  ) : (\n                    <form onSubmit={handleEditUserSubmit}>\n                      <div className=\"row g-3\">\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">First Name</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${editFormErrors.firstName ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter first name\" \n                            value={editUserForm.firstName}\n                            onChange={(e) => handleEditInputChange('firstName', e.target.value)}\n                          />\n                          {editFormErrors.firstName && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.firstName}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Last Name</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${editFormErrors.lastName ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter last name\" \n                            value={editUserForm.lastName}\n                            onChange={(e) => handleEditInputChange('lastName', e.target.value)}\n                          />\n                          {editFormErrors.lastName && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.lastName}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-12\">\n                          <label className=\"form-label fw-semibold\">Username</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${editFormErrors.username ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter username\" \n                            value={editUserForm.username}\n                            onChange={(e) => handleEditInputChange('username', e.target.value)}\n                          />\n                          {editFormErrors.username && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.username}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-12\">\n                          <label className=\"form-label fw-semibold\">Email</label>\n                          <input \n                            type=\"email\" \n                            className={`form-control rounded-3 ${editFormErrors.email ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter email address\" \n                            value={editUserForm.email}\n                            onChange={(e) => handleEditInputChange('email', e.target.value)}\n                          />\n                          {editFormErrors.email && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.email}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Phone Number</label>\n                          <input \n                            type=\"tel\" \n                            className={`form-control rounded-3 ${editFormErrors.phoneNumber ? 'is-invalid' : ''}`}\n                            placeholder=\"e.g., +1 (555) 123-4567 or 555-123-4567\" \n                            value={editUserForm.phoneNumber}\n                            onChange={(e) => handleEditInputChange('phoneNumber', e.target.value)}\n                          />\n                          {editFormErrors.phoneNumber && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.phoneNumber}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Role</label>\n                          <select \n                            className={`form-select rounded-3 ${editFormErrors.role ? 'is-invalid' : ''}`}\n                            value={editUserForm.role}\n                            onChange={(e) => handleEditInputChange('role', e.target.value)}\n                          >\n                            <option value=\"\">Select a role</option>\n                            {roles.map((role) => (\n                              <option key={role.userRoleId} value={role.role}>\n                                {role.role}\n                              </option>\n                            ))}\n                          </select>\n                          {editFormErrors.role && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.role}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-12\">\n                          <div className=\"form-check\">\n                            <input \n                              className=\"form-check-input\" \n                              type=\"checkbox\" \n                              id=\"isActive\"\n                              checked={editUserForm.isActive}\n                              onChange={(e) => handleEditInputChange('isActive', e.target.checked)}\n                            />\n                            <label className=\"form-check-label fw-semibold\" htmlFor=\"isActive\">\n                              Active User\n                            </label>\n                          </div>\n                        </div>\n                      </div>\n                    </form>\n                  )}\n                </div>\n                {!editSubmitSuccess && (\n                  <div className=\"modal-footer border-0 pt-0\">\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-secondary rounded-3\"\n                      onClick={resetEditUserModal}\n                      disabled={isEditSubmitting}\n                    >\n                      Cancel\n                    </button>\n                    <button \n                      type=\"submit\" \n                      className=\"btn btn-primary rounded-3\"\n                      onClick={handleEditUserSubmit}\n                      disabled={isEditSubmitting}\n                    >\n                      {isEditSubmitting ? (\n                        <>\n                          <div className=\"spinner-border spinner-border-sm me-2\" role=\"status\">\n                            <span className=\"visually-hidden\">Loading...</span>\n                          </div>\n                          Updating User...\n                        </>\n                      ) : (\n                        'Update User'\n                      )}\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n        \n        {/* Add User Modal */}\n        {showAddUser && (\n          <div className=\"modal d-block\" style={{backgroundColor: 'rgba(0,0,0,0.5)'}}>\n            <div className=\"modal-dialog modal-dialog-centered modal-lg\">\n              <div className=\"modal-content border-0 rounded-4\">\n                <div className=\"modal-header border-0 pb-0\">\n                  <h5 className=\"modal-title fw-bold\">Add New User</h5>\n                  <button\n                    type=\"button\"\n                    className=\"btn-close\"\n                    onClick={resetAddUserModal}\n                  ></button>\n                </div>\n                <div className=\"modal-body\">\n                  {submitSuccess ? (\n                    <div className=\"text-center py-4\">\n                      <CheckCircle2 size={64} className=\"text-success mb-3\" />\n                      <h4 className=\"text-success fw-bold\">User Created Successfully!</h4>\n                      <p className=\"text-muted\">The new user has been registered and can now login to the system.</p>\n                    </div>\n                  ) : (\n                    <form onSubmit={handleSubmitNewUser}>\n                      <div className=\"row g-3\">\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">First Name</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${formErrors.firstName ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter first name\" \n                            value={newUserForm.firstName}\n                            onChange={(e) => handleInputChange('firstName', e.target.value)}\n                          />\n                          {formErrors.firstName && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.firstName}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Last Name</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${formErrors.lastName ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter last name\" \n                            value={newUserForm.lastName}\n                            onChange={(e) => handleInputChange('lastName', e.target.value)}\n                          />\n                          {formErrors.lastName && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.lastName}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-12\">\n                          <label className=\"form-label fw-semibold\">Username</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${formErrors.username ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter username\" \n                            value={newUserForm.username}\n                            onChange={(e) => handleInputChange('username', e.target.value)}\n                          />\n                          {formErrors.username && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.username}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-12\">\n                          <label className=\"form-label fw-semibold\">Email</label>\n                          <input \n                            type=\"email\" \n                            className={`form-control rounded-3 ${formErrors.email ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter email address\" \n                            value={newUserForm.email}\n                            onChange={(e) => handleInputChange('email', e.target.value)}\n                          />\n                          {formErrors.email && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.email}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-12\">\n                          <label className=\"form-label fw-semibold\">Phone Number</label>\n                          <input \n                            type=\"tel\" \n                            className={`form-control rounded-3 ${formErrors.phoneNumber ? 'is-invalid' : ''}`}\n                            placeholder=\"e.g., +1 (555) 123-4567 or 555-123-4567\" \n                            value={newUserForm.phoneNumber}\n                            onChange={(e) => handleInputChange('phoneNumber', e.target.value)}\n                          />\n                          {formErrors.phoneNumber && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.phoneNumber}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Password</label>\n                          <div className=\"position-relative\">\n                            <input \n                              type={showPassword ? 'text' : 'password'}\n                              className={`form-control rounded-3 pe-5 ${formErrors.password ? 'is-invalid' : ''}`}\n                              placeholder=\"Min 8 chars, 1 uppercase, 1 lowercase, 1 digit, 1 special (@$!%*?&)\" \n                              value={newUserForm.password}\n                              onChange={(e) => handleInputChange('password', e.target.value)}\n                            />\n                            <button\n                              type=\"button\"\n                              onClick={() => setShowPassword(!showPassword)}\n                              className=\"btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2 border-0 p-1\"\n                              style={{ zIndex: 10 }}\n                            >\n                              {showPassword ? <EyeOff size={18} /> : <Eye size={18} />}\n                            </button>\n                            {formErrors.password && (\n                              <div className=\"invalid-feedback d-flex align-items-center\">\n                                <AlertCircle size={16} className=\"me-1\" />\n                                {formErrors.password}\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Confirm Password</label>\n                          <div className=\"position-relative\">\n                            <input \n                              type={showReEnterPassword ? 'text' : 'password'}\n                              className={`form-control rounded-3 pe-5 ${formErrors.reEnterPassword ? 'is-invalid' : ''}`}\n                              placeholder=\"Re-enter password\" \n                              value={newUserForm.reEnterPassword}\n                              onChange={(e) => handleInputChange('reEnterPassword', e.target.value)}\n                            />\n                            <button\n                              type=\"button\"\n                              onClick={() => setShowReEnterPassword(!showReEnterPassword)}\n                              className=\"btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2 border-0 p-1\"\n                              style={{ zIndex: 10 }}\n                            >\n                              {showReEnterPassword ? <EyeOff size={18} /> : <Eye size={18} />}\n                            </button>\n                            {formErrors.reEnterPassword && (\n                              <div className=\"invalid-feedback d-flex align-items-center\">\n                                <AlertCircle size={16} className=\"me-1\" />\n                                {formErrors.reEnterPassword}\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    </form>\n                  )}\n                </div>\n                {!submitSuccess && (\n                  <div className=\"modal-footer border-0 pt-0\">\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-secondary rounded-3\"\n                      onClick={resetAddUserModal}\n                      disabled={isSubmitting}\n                    >\n                      Cancel\n                    </button>\n                    <button \n                      type=\"submit\" \n                      className=\"btn btn-primary rounded-3\"\n                      onClick={handleSubmitNewUser}\n                      disabled={isSubmitting}\n                    >\n                      {isSubmitting ? (\n                        <>\n                          <div className=\"spinner-border spinner-border-sm me-2\" role=\"status\">\n                            <span className=\"visually-hidden\">Loading...</span>\n                          </div>\n                          Creating User...\n                        </>\n                      ) : (\n                        'Create User'\n                      )}\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}