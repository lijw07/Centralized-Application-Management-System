{"ast":null,"code":"import _objectSpread from\"/Users/jaili/csharpProject/Prototype/Prototype/ClientApp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// API Service Layer for centralized HTTP requests and error handling\nclass ApiService{constructor(){let baseUrl=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';this.baseUrl=void 0;this.baseUrl=baseUrl;}getAuthHeaders(){const token=localStorage.getItem('authToken');return _objectSpread({'Content-Type':'application/json'},token&&{'Authorization':\"Bearer \".concat(token)});}async handleResponse(response){let data;try{data=await response.json();}catch(_unused){data={message:'Invalid response format'};}if(!response.ok){const error={message:data.message||\"HTTP \".concat(response.status,\": \").concat(response.statusText),status:response.status,errors:data.errors};throw error;}return data;}async get(endpoint){const response=await fetch(\"\".concat(this.baseUrl).concat(endpoint),{method:'GET',headers:this.getAuthHeaders()});return this.handleResponse(response);}async post(endpoint,data){const response=await fetch(\"\".concat(this.baseUrl).concat(endpoint),{method:'POST',headers:this.getAuthHeaders(),body:data?JSON.stringify(data):undefined});return this.handleResponse(response);}async put(endpoint,data){const response=await fetch(\"\".concat(this.baseUrl).concat(endpoint),{method:'PUT',headers:this.getAuthHeaders(),body:data?JSON.stringify(data):undefined});return this.handleResponse(response);}async delete(endpoint){const response=await fetch(\"\".concat(this.baseUrl).concat(endpoint),{method:'DELETE',headers:this.getAuthHeaders()});return this.handleResponse(response);}}// Create singleton instance\nexport const api=new ApiService();// Authentication API\nexport const authApi={login:credentials=>api.post('/login',credentials),logout:()=>api.post('/logout'),register:userData=>api.post('/RegisterTemporaryUser',userData),forgotPassword:(email,userRecoveryType)=>api.post('/ForgotUser',{email,userRecoveryType}),resetPassword:(token,newPassword,reTypePassword)=>api.post('/PasswordReset',{token,newPassword,reTypePassword}),verifyUser:token=>api.post(\"/VerifyUser?token=\".concat(token))};// User Settings API\nexport const userApi={getProfile:()=>api.get('/settings/user/profile'),updateProfile:userData=>api.put('/settings/user/update-profile',userData),changePassword:passwordData=>api.post('/settings/user/change-password',passwordData)};// Application Settings API\nexport const applicationApi={getApplications:function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;let pageSize=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;return api.get(\"/ApplicationSettings/get-applications?page=\".concat(page,\"&pageSize=\").concat(pageSize));},createApplication:applicationData=>api.post('/ApplicationSettings/new-application-connection',applicationData),updateApplication:(applicationId,applicationData)=>api.put(\"/ApplicationSettings/update-application/\".concat(applicationId),applicationData),deleteApplication:applicationId=>api.delete(\"/ApplicationSettings/delete-application/\".concat(applicationId)),testConnection:connectionData=>api.post('/ApplicationSettings/test-application-connection',connectionData)};export default api;","map":{"version":3,"names":["ApiService","constructor","baseUrl","arguments","length","undefined","getAuthHeaders","token","localStorage","getItem","_objectSpread","concat","handleResponse","response","data","json","_unused","message","ok","error","status","statusText","errors","get","endpoint","fetch","method","headers","post","body","JSON","stringify","put","delete","api","authApi","login","credentials","logout","register","userData","forgotPassword","email","userRecoveryType","resetPassword","newPassword","reTypePassword","verifyUser","userApi","getProfile","updateProfile","changePassword","passwordData","applicationApi","getApplications","page","pageSize","createApplication","applicationData","updateApplication","applicationId","deleteApplication","testConnection","connectionData"],"sources":["/Users/jaili/csharpProject/Prototype/Prototype/ClientApp/src/services/api.ts"],"sourcesContent":["// API Service Layer for centralized HTTP requests and error handling\n\ninterface ApiResponse<T = any> {\n  success: boolean;\n  message: string;\n  data?: T;\n  errors?: string[];\n}\n\ninterface ApiError {\n  message: string;\n  status: number;\n  errors?: string[];\n}\n\nclass ApiService {\n  private baseUrl: string;\n\n  constructor(baseUrl: string = '') {\n    this.baseUrl = baseUrl;\n  }\n\n  private getAuthHeaders(): HeadersInit {\n    const token = localStorage.getItem('authToken');\n    return {\n      'Content-Type': 'application/json',\n      ...(token && { 'Authorization': `Bearer ${token}` }),\n    };\n  }\n\n  private async handleResponse<T>(response: Response): Promise<T> {\n    let data: any;\n    \n    try {\n      data = await response.json();\n    } catch {\n      data = { message: 'Invalid response format' };\n    }\n\n    if (!response.ok) {\n      const error: ApiError = {\n        message: data.message || `HTTP ${response.status}: ${response.statusText}`,\n        status: response.status,\n        errors: data.errors,\n      };\n      throw error;\n    }\n\n    return data;\n  }\n\n  async get<T>(endpoint: string): Promise<T> {\n    const response = await fetch(`${this.baseUrl}${endpoint}`, {\n      method: 'GET',\n      headers: this.getAuthHeaders(),\n    });\n    return this.handleResponse<T>(response);\n  }\n\n  async post<T>(endpoint: string, data?: any): Promise<T> {\n    const response = await fetch(`${this.baseUrl}${endpoint}`, {\n      method: 'POST',\n      headers: this.getAuthHeaders(),\n      body: data ? JSON.stringify(data) : undefined,\n    });\n    return this.handleResponse<T>(response);\n  }\n\n  async put<T>(endpoint: string, data?: any): Promise<T> {\n    const response = await fetch(`${this.baseUrl}${endpoint}`, {\n      method: 'PUT',\n      headers: this.getAuthHeaders(),\n      body: data ? JSON.stringify(data) : undefined,\n    });\n    return this.handleResponse<T>(response);\n  }\n\n  async delete<T>(endpoint: string): Promise<T> {\n    const response = await fetch(`${this.baseUrl}${endpoint}`, {\n      method: 'DELETE',\n      headers: this.getAuthHeaders(),\n    });\n    return this.handleResponse<T>(response);\n  }\n}\n\n// Create singleton instance\nexport const api = new ApiService();\n\n// Authentication API\nexport const authApi = {\n  login: (credentials: { username: string; password: string }) =>\n    api.post<ApiResponse>('/login', credentials),\n  \n  logout: () =>\n    api.post<ApiResponse>('/logout'),\n  \n  register: (userData: {\n    firstName: string;\n    lastName: string;\n    username: string;\n    email: string;\n    phoneNumber: string;\n    password: string;\n    reEnterPassword: string;\n  }) =>\n    api.post<ApiResponse>('/RegisterTemporaryUser', userData),\n  \n  forgotPassword: (email: string, userRecoveryType: string) =>\n    api.post<ApiResponse>('/ForgotUser', { email, userRecoveryType }),\n  \n  resetPassword: (token: string, newPassword: string, reTypePassword: string) =>\n    api.post<ApiResponse>('/PasswordReset', { token, newPassword, reTypePassword }),\n  \n  verifyUser: (token: string) =>\n    api.post<ApiResponse>(`/VerifyUser?token=${token}`),\n};\n\n// User Settings API\nexport const userApi = {\n  getProfile: () =>\n    api.get<ApiResponse<{ user: any }>>('/settings/user/profile'),\n  \n  updateProfile: (userData: {\n    firstName: string;\n    lastName: string;\n    email: string;\n  }) =>\n    api.put<ApiResponse>('/settings/user/update-profile', userData),\n  \n  changePassword: (passwordData: {\n    currentPassword: string;\n    newPassword: string;\n    reTypeNewPassword: string;\n  }) =>\n    api.post<ApiResponse>('/settings/user/change-password', passwordData),\n};\n\n// Application Settings API\nexport const applicationApi = {\n  getApplications: (page: number = 1, pageSize: number = 10) =>\n    api.get<ApiResponse<any>>(`/ApplicationSettings/get-applications?page=${page}&pageSize=${pageSize}`),\n  \n  createApplication: (applicationData: any) =>\n    api.post<ApiResponse>('/ApplicationSettings/new-application-connection', applicationData),\n  \n  updateApplication: (applicationId: string, applicationData: any) =>\n    api.put<ApiResponse>(`/ApplicationSettings/update-application/${applicationId}`, applicationData),\n  \n  deleteApplication: (applicationId: string) =>\n    api.delete<ApiResponse>(`/ApplicationSettings/delete-application/${applicationId}`),\n  \n  testConnection: (connectionData: any) =>\n    api.post<ApiResponse>('/ApplicationSettings/test-application-connection', connectionData),\n};\n\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}