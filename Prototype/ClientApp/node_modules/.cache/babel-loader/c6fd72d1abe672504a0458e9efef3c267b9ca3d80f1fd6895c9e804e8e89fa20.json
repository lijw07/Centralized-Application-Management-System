{"ast":null,"code":"import _objectSpread from\"/Users/jaili/csharpProject/Prototype/Prototype/ClientApp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Users,Search,Edit3,Trash2,Mail,Phone,Calendar,Shield,CheckCircle2,XCircle,MoreVertical,UserPlus,AlertCircle,Eye,EyeOff,Lock,Unlock,ChevronLeft,ChevronRight,ChevronsLeft,ChevronsRight,AlertTriangle}from'lucide-react';import{userApi,roleApi}from'../../services/api';import{authApi}from'../../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Accounts(){const[users,setUsers]=useState([]);const[roles,setRoles]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[filterRole,setFilterRole]=useState('all');const[showAddUser,setShowAddUser]=useState(false);const[userDetailModal,setUserDetailModal]=useState(null);const[showEditUser,setShowEditUser]=useState(false);const[editUserForm,setEditUserForm]=useState({userId:'',firstName:'',lastName:'',username:'',email:'',phoneNumber:'',role:'',isActive:true});const[editFormErrors,setEditFormErrors]=useState({});const[isEditSubmitting,setIsEditSubmitting]=useState(false);const[editSubmitSuccess,setEditSubmitSuccess]=useState(false);const[loading,setLoading]=useState(true);// Pagination state\nconst[currentPage,setCurrentPage]=useState(1);const[usersPerPage,setUsersPerPage]=useState(4);// New User Form State\nconst[newUserForm,setNewUserForm]=useState({firstName:'',lastName:'',username:'',email:'',phoneNumber:'',password:'',reEnterPassword:'',role:''});const[formErrors,setFormErrors]=useState({});const[isSubmitting,setIsSubmitting]=useState(false);const[showPassword,setShowPassword]=useState(false);const[showReEnterPassword,setShowReEnterPassword]=useState(false);const[submitSuccess,setSubmitSuccess]=useState(false);const[showDeleteConfirm,setShowDeleteConfirm]=useState(false);const[deletingUser,setDeletingUser]=useState(null);const[deleteSuccess,setDeleteSuccess]=useState(false);// ESC key handler for modal\nuseEffect(()=>{const handleEscKey=event=>{if(event.key==='Escape'&&showAddUser){resetAddUserModal();}};if(showAddUser){document.addEventListener('keydown',handleEscKey);}return()=>{document.removeEventListener('keydown',handleEscKey);};},[showAddUser]);// Load users and roles from database\nconst loadData=async()=>{setLoading(true);// Load users - this should always work regardless of roles\ntry{const usersResponse=await userApi.getAllUsers();if(usersResponse.success&&usersResponse.users){const transformedUsers=usersResponse.users.map(user=>({userId:user.userId,firstName:user.firstName,lastName:user.lastName,username:user.username,email:user.email,phoneNumber:user.phoneNumber,isActive:user.isActive,role:user.role,lastLogin:user.lastLogin,createdAt:user.createdAt}));// Backend now handles sorting by creation date (newest first)\nsetUsers(transformedUsers);}else{console.error('Failed to load users:',usersResponse.message);setUsers([]);}}catch(error){console.error('Error loading users:',error);setUsers([]);}// Load roles - independent of users\ntry{const rolesResponse=await roleApi.getAllRoles();if(rolesResponse.success&&rolesResponse.roles){setRoles(rolesResponse.roles);}else{console.error('Failed to load roles:',rolesResponse.message);setRoles([]);}}catch(error){console.error('Error loading roles:',error);setRoles([]);}setLoading(false);};// Smart refetch that handles empty pages after deletion  \nconst refetchUsers=async()=>{await loadData();// We need to wait a bit for state to update, or recalculate filtered users\nsetTimeout(()=>{const filtered=users.filter(user=>{const matchesSearch=user.firstName.toLowerCase().includes(searchTerm.toLowerCase())||user.lastName.toLowerCase().includes(searchTerm.toLowerCase())||user.username.toLowerCase().includes(searchTerm.toLowerCase())||user.email.toLowerCase().includes(searchTerm.toLowerCase());const matchesRole=filterRole==='all'||user.role.toLowerCase()===filterRole.toLowerCase();return matchesSearch&&matchesRole;});// Check if current page is beyond available pages after deletion\nconst newTotalPages=Math.ceil(filtered.length/usersPerPage);if(currentPage>newTotalPages&&filtered.length>0){// Go to last available page\nsetCurrentPage(newTotalPages);}else if(filtered.length===0){// If no users at all, go to page 1\nsetCurrentPage(1);}},100);};// Refetch and navigate to first page (where new items should appear)\nconst refetchAndGoToFirstPage=async()=>{await loadData();// Navigate to the first page where the new item should be\nsetCurrentPage(1);};useEffect(()=>{loadData();},[]);const filteredUsers=users.filter(user=>{const matchesSearch=user.firstName.toLowerCase().includes(searchTerm.toLowerCase())||user.lastName.toLowerCase().includes(searchTerm.toLowerCase())||user.username.toLowerCase().includes(searchTerm.toLowerCase())||user.email.toLowerCase().includes(searchTerm.toLowerCase());const matchesRole=filterRole==='all'||user.role.toLowerCase()===filterRole.toLowerCase();return matchesSearch&&matchesRole;});// Pagination calculations\nconst totalPages=Math.ceil(filteredUsers.length/usersPerPage);const startIndex=(currentPage-1)*usersPerPage;const endIndex=startIndex+usersPerPage;const currentUsers=filteredUsers.slice(startIndex,endIndex);// Reset to first page when filters change\nuseEffect(()=>{setCurrentPage(1);},[searchTerm,filterRole]);// Add escape key listener for edit user modal\nuseEffect(()=>{const handleEscapeKey=event=>{if(event.key==='Escape'){if(showEditUser){resetEditUserModal();}if(userDetailModal){setUserDetailModal(null);}}};document.addEventListener('keydown',handleEscapeKey);return()=>{document.removeEventListener('keydown',handleEscapeKey);};},[showEditUser,userDetailModal]);const getRoleBadgeColor=role=>{// Create a consistent color mapping based on role name\nconst colors=['primary','danger','warning','info','success','secondary'];const hash=role.toLowerCase().split('').reduce((acc,char)=>acc+char.charCodeAt(0),0);return colors[hash%colors.length];};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric'});};const formatLastLogin=dateString=>{if(!dateString)return'Never';const now=new Date();const lastLogin=new Date(dateString);const diffInHours=Math.floor((now.getTime()-lastLogin.getTime())/(1000*60*60));if(diffInHours<1)return'Just now';if(diffInHours<24)return\"\".concat(diffInHours,\"h ago\");const diffInDays=Math.floor(diffInHours/24);if(diffInDays<7)return\"\".concat(diffInDays,\"d ago\");return formatDate(dateString);};// Form handling functions\nconst handleInputChange=(field,value)=>{setNewUserForm(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));// Clear error when user starts typing\nif(formErrors[field]){setFormErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:undefined}));}};const validateForm=()=>{const errors={};// First name validation\nif(!newUserForm.firstName.trim()){errors.firstName='First name is required';}else if(newUserForm.firstName.length>50){errors.firstName='First name must be between 1 and 50 characters';}// Last name validation\nif(!newUserForm.lastName.trim()){errors.lastName='Last name is required';}else if(newUserForm.lastName.length>50){errors.lastName='Last name must be between 1 and 50 characters';}// Username validation\nif(!newUserForm.username.trim()){errors.username='Username is required';}else if(newUserForm.username.length<3||newUserForm.username.length>100){errors.username='Username must be between 3 and 100 characters';}else if(!/^[a-zA-Z0-9_.-]+$/.test(newUserForm.username)){errors.username='Username can only contain letters, numbers, underscores, dots, and hyphens';}// Email validation\nif(!newUserForm.email.trim()){errors.email='Email is required';}else if(!/\\S+@\\S+\\.\\S+/.test(newUserForm.email)){errors.email='Invalid email format';}else if(newUserForm.email.length>255){errors.email='Email cannot exceed 255 characters';}// Phone number validation (basic format)\nif(!newUserForm.phoneNumber.trim()){errors.phoneNumber='Phone number is required';}else if(newUserForm.phoneNumber.length>20){errors.phoneNumber='Phone number cannot exceed 20 characters';}// Role validation\nif(!newUserForm.role.trim()){errors.role='Role is required';}// Password validation to match backend requirements\nif(!newUserForm.password.trim()){errors.password='Password is required';}else if(newUserForm.password.length<8||newUserForm.password.length>128){errors.password='Password must be between 8 and 128 characters';}else if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/.test(newUserForm.password)){errors.password='Password must contain at least one uppercase letter, one lowercase letter, one digit, and one special character (@$!%*?&)';}// Confirm password validation\nif(!newUserForm.reEnterPassword.trim()){errors.reEnterPassword='Please confirm password';}else if(newUserForm.password!==newUserForm.reEnterPassword){errors.reEnterPassword='Passwords do not match';}setFormErrors(errors);return Object.keys(errors).length===0;};const handleSubmitNewUser=async e=>{e.preventDefault();if(!validateForm())return;setIsSubmitting(true);setFormErrors({});// Clear any previous errors\ntry{console.log('Submitting user registration:',newUserForm);const response=await authApi.register(newUserForm);console.log('Registration response:',response);if(response&&response.success){setSubmitSuccess(true);// Reset form\nsetNewUserForm({firstName:'',lastName:'',username:'',email:'',phoneNumber:'',password:'',reEnterPassword:'',role:''});setFormErrors({});// Refresh the user list and go to first page to show the newly created user\nrefetchAndGoToFirstPage();// User form will be closed manually by user clicking X\n}else{// Handle server errors\nconsole.error('Registration failed:',response);if(response!==null&&response!==void 0&&response.errors){// Handle field-specific validation errors from server\nconst serverErrors={};const errors=response.errors;Object.keys(errors).forEach(key=>{const fieldName=key.toLowerCase();const errorValue=errors[key];const errorMessage=Array.isArray(errorValue)?errorValue[0]:errorValue;if(fieldName.includes('firstname'))serverErrors.firstName=errorMessage;else if(fieldName.includes('lastname'))serverErrors.lastName=errorMessage;else if(fieldName.includes('username'))serverErrors.username=errorMessage;else if(fieldName.includes('email'))serverErrors.email=errorMessage;else if(fieldName.includes('phone'))serverErrors.phoneNumber=errorMessage;else if(fieldName.includes('password'))serverErrors.password=errorMessage;else serverErrors.email=errorMessage;});setFormErrors(serverErrors);}else{setFormErrors({email:(response===null||response===void 0?void 0:response.message)||'Registration failed'});}}}catch(error){console.error('Registration error:',error);// Handle network or parsing errors\nif(error.status===400&&error.errors){const serverErrors={};const errors=error.errors;Object.keys(errors).forEach(key=>{const fieldName=key.toLowerCase();const errorValue=errors[key];const errorMessage=Array.isArray(errorValue)?errorValue[0]:errorValue;if(fieldName.includes('firstname'))serverErrors.firstName=errorMessage;else if(fieldName.includes('lastname'))serverErrors.lastName=errorMessage;else if(fieldName.includes('username'))serverErrors.username=errorMessage;else if(fieldName.includes('email'))serverErrors.email=errorMessage;else if(fieldName.includes('phone'))serverErrors.phoneNumber=errorMessage;else if(fieldName.includes('password'))serverErrors.password=errorMessage;else serverErrors.email=errorMessage;});setFormErrors(serverErrors);}else{setFormErrors({email:error.message||'Network error occurred'});}}finally{setIsSubmitting(false);}};const resetAddUserModal=()=>{setNewUserForm({firstName:'',lastName:'',username:'',email:'',phoneNumber:'',password:'',reEnterPassword:'',role:''});setShowAddUser(false);setSubmitSuccess(false);setFormErrors({});setIsSubmitting(false);setSubmitSuccess(false);setShowPassword(false);setShowReEnterPassword(false);setShowAddUser(false);};// Edit User Form handling\nconst handleEditInputChange=(field,value)=>{setEditUserForm(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));if(editFormErrors[field]){setEditFormErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:undefined}));}};const validateEditForm=()=>{const errors={};if(!editUserForm.firstName.trim()){errors.firstName='First name is required';}else if(editUserForm.firstName.length>50){errors.firstName='First name must be between 1 and 50 characters';}if(!editUserForm.lastName.trim()){errors.lastName='Last name is required';}else if(editUserForm.lastName.length>50){errors.lastName='Last name must be between 1 and 50 characters';}if(!editUserForm.username.trim()){errors.username='Username is required';}else if(editUserForm.username.length<3||editUserForm.username.length>100){errors.username='Username must be between 3 and 100 characters';}else if(!/^[a-zA-Z0-9_.-]+$/.test(editUserForm.username)){errors.username='Username can only contain letters, numbers, underscores, dots, and hyphens';}if(!editUserForm.email.trim()){errors.email='Email is required';}else if(!/\\S+@\\S+\\.\\S+/.test(editUserForm.email)){errors.email='Invalid email format';}else if(editUserForm.email.length>255){errors.email='Email cannot exceed 255 characters';}if(editUserForm.phoneNumber&&editUserForm.phoneNumber.length>20){errors.phoneNumber='Phone number cannot exceed 20 characters';}if(!editUserForm.role.trim()){errors.role='Role is required';}setEditFormErrors(errors);return Object.keys(errors).length===0;};const handleEditUserSubmit=async e=>{e.preventDefault();if(!validateEditForm())return;setIsEditSubmitting(true);setEditFormErrors({});try{const response=await userApi.updateUser(editUserForm);if(response&&response.success){setEditSubmitSuccess(true);// Update the user in the local state\nsetUsers(prevUsers=>prevUsers.map(user=>user.userId===editUserForm.userId?_objectSpread(_objectSpread({},user),editUserForm):user));// Edit form will be closed manually by user clicking X\n}else{setEditFormErrors({email:(response===null||response===void 0?void 0:response.message)||'Update failed'});}}catch(error){console.error('Update user error:',error);if(error.status===400&&error.errors){const serverErrors={};const errors=error.errors;Object.keys(errors).forEach(key=>{const fieldName=key.toLowerCase();const errorValue=errors[key];const errorMessage=Array.isArray(errorValue)?errorValue[0]:errorValue;if(fieldName.includes('firstname'))serverErrors.firstName=errorMessage;else if(fieldName.includes('lastname'))serverErrors.lastName=errorMessage;else if(fieldName.includes('username'))serverErrors.username=errorMessage;else if(fieldName.includes('email'))serverErrors.email=errorMessage;else if(fieldName.includes('phone'))serverErrors.phoneNumber=errorMessage;else serverErrors.email=errorMessage;});setEditFormErrors(serverErrors);}else{setEditFormErrors({email:error.message||'Network error occurred'});}}finally{setIsEditSubmitting(false);}};const resetEditUserModal=()=>{setEditUserForm({userId:'',firstName:'',lastName:'',username:'',email:'',phoneNumber:'',role:'',isActive:true});setShowEditUser(false);setEditSubmitSuccess(false);setEditFormErrors({});setIsEditSubmitting(false);setEditSubmitSuccess(false);setShowEditUser(false);};// Dropdown action handlers\nconst handleFreezeUser=async user=>{try{const updatedUser=_objectSpread(_objectSpread({},user),{},{isActive:!user.isActive});const response=await userApi.updateUser(updatedUser);if(response&&response.success){// Update the user in the local state\nsetUsers(prevUsers=>prevUsers.map(u=>u.userId===user.userId?_objectSpread(_objectSpread({},u),{},{isActive:!u.isActive}):u));// Show success message (you could add a toast notification here)\nconsole.log(\"User \".concat(user.isActive?'frozen':'unfrozen',\" successfully\"));}}catch(error){console.error('Error updating user status:',error);}};const handleEmailUser=user=>{// Open email client with pre-filled recipient\nwindow.location.href=\"mailto:\".concat(user.email);};const handleDeleteUser=async()=>{if(!deletingUser)return;try{console.log('Attempting to delete user:',deletingUser.userId);const response=await userApi.deleteUser(deletingUser.userId);console.log('Delete user response:',response);if(response&&response.success){console.log(\"User \".concat(deletingUser.firstName,\" \").concat(deletingUser.lastName,\" deleted successfully\"));setDeleteSuccess(true);// Smart refetch to handle pagination after deletion\nrefetchUsers();// Delete success modal will be closed manually by user clicking X\n}else{console.error('Failed to delete user:',response===null||response===void 0?void 0:response.message);alert(\"Failed to delete user: \".concat((response===null||response===void 0?void 0:response.message)||'Unknown error'));}}catch(error){console.error('Error deleting user - Full error object:',error);console.error('Error message:',error.message);console.error('Error status:',error.status);console.error('Error response:',error.response);alert(\"Error deleting user: \".concat(error.message||error.status||'Network error occurred'));}};const confirmDeleteUser=user=>{setDeletingUser(user);setShowDeleteConfirm(true);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-vh-100 bg-light\",style:{overflowX:'hidden'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid py-4\",style:{maxWidth:'100%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Users,{className:\"text-primary me-3\",size:32}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-5 fw-bold text-dark mb-0\",children:\"User Accounts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted fs-6 mb-0\",children:\"Manage user accounts and permissions\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex gap-2\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary rounded-3 d-flex align-items-center\",disabled:true,children:[/*#__PURE__*/_jsx(UserPlus,{className:\"me-2\",size:18}),\"Add User\"]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card shadow-sm border-0 rounded-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary mb-3\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Loading accounts...\"})]})})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-vh-100 bg-light\",style:{overflowX:'hidden'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid py-4\",style:{maxWidth:'100%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Users,{className:\"text-primary me-3\",size:32}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-5 fw-bold text-dark mb-0\",children:\"User Accounts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted fs-6 mb-0\",children:\"Manage user accounts and permissions\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex gap-2\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary rounded-3 d-flex align-items-center\",onClick:()=>setShowAddUser(true),children:[/*#__PURE__*/_jsx(UserPlus,{className:\"me-2\",size:18}),\"Add User\"]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 rounded-4 shadow-sm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"position-absolute top-50 start-0 translate-middle-y ms-3 text-muted\",size:18}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control form-control-lg rounded-3 ps-5\",placeholder:\"Search users by name, username, or email...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-lg rounded-3\",value:filterRole,onChange:e=>setFilterRole(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Roles\"}),roles.map(role=>/*#__PURE__*/_jsx(\"option\",{value:role.role.toLowerCase(),children:role.role},role.userRoleId))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-light rounded-3 p-2 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-primary\",children:filteredUsers.length}),/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Total Users\"})]})})]})})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row g-4\",children:[currentUsers.map(user=>/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-lg-4 col-md-6 col-sm-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 rounded-4 shadow-sm h-100 dashboard-card\",style:{cursor:'pointer',transition:'transform 0.2s, box-shadow 0.2s'},onClick:e=>{// Don't open modal if clicking on dropdown\nif(!e.target.closest('.dropdown')){setUserDetailModal(user);}},onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-2px)';e.currentTarget.style.boxShadow='0 8px 25px rgba(0,0,0,0.15)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='';},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-start justify-content-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rounded-circle bg-primary bg-opacity-10 p-2 me-2\",children:/*#__PURE__*/_jsx(Users,{className:\"text-primary\",size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"fw-bold text-dark mb-0\",children:[user.firstName,\" \",user.lastName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted mb-0 small\",children:[\"@\",user.username]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-secondary rounded-3\",type:\"button\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsx(MoreVertical,{size:16})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu dropdown-menu-end\",style:{width:'190px'},children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item d-flex align-items-center w-100\",onClick:e=>{e.stopPropagation();handleFreezeUser(user);},style:{whiteSpace:'nowrap',textAlign:'left'},children:/*#__PURE__*/_jsx(\"span\",{style:{display:'inline-flex',alignItems:'center',width:'100%'},children:user.isActive?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Lock,{size:14,className:\"me-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Freeze Account\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Unlock,{size:14,className:\"me-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Unfreeze Account\"})]})})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item d-flex align-items-center w-100\",onClick:e=>{e.stopPropagation();handleEmailUser(user);},style:{whiteSpace:'nowrap',textAlign:'left'},children:/*#__PURE__*/_jsxs(\"span\",{style:{display:'inline-flex',alignItems:'center',width:'100%'},children:[/*#__PURE__*/_jsx(Mail,{size:14,className:\"me-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Send Email\"})]})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"hr\",{className:\"dropdown-divider\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item text-danger d-flex align-items-center w-100\",onClick:e=>{e.stopPropagation();confirmDeleteUser(user);},style:{whiteSpace:'nowrap',textAlign:'left'},children:/*#__PURE__*/_jsxs(\"span\",{style:{display:'inline-flex',alignItems:'center',width:'100%'},children:[/*#__PURE__*/_jsx(Trash2,{size:14,className:\"me-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Delete User\"})]})})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-\".concat(getRoleBadgeColor(user.role),\" bg-opacity-10 text-\").concat(getRoleBadgeColor(user.role),\" fw-semibold small\"),children:user.role}),user.isActive?/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-success bg-opacity-10 text-success fw-semibold ms-1 small\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:10,className:\"me-1\"}),\"Active\"]}):/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-secondary bg-opacity-10 text-secondary fw-semibold ms-1 small\",children:[/*#__PURE__*/_jsx(XCircle,{size:10,className:\"me-1\"}),\"Inactive\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-1\",children:[/*#__PURE__*/_jsx(Mail,{className:\"text-muted me-2\",size:12}),/*#__PURE__*/_jsx(\"span\",{className:\"small text-dark text-truncate\",style:{maxWidth:'150px'},title:user.email,children:user.email})]}),user.phoneNumber&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-1\",children:[/*#__PURE__*/_jsx(Phone,{className:\"text-muted me-2\",size:12}),/*#__PURE__*/_jsx(\"span\",{className:\"small text-dark\",children:user.phoneNumber})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"text-muted me-2\",size:12}),/*#__PURE__*/_jsxs(\"span\",{className:\"small text-muted\",children:[\"Joined \",formatDate(user.createdAt)]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-light rounded-3 p-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"small fw-semibold text-muted\",children:\"Last Login\"}),/*#__PURE__*/_jsx(\"span\",{className:\"small text-dark\",children:formatLastLogin(user.lastLogin)})]})})]})})},user.userId)),filteredUsers.length===0&&!loading&&/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 rounded-4 shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-5 text-center\",children:[/*#__PURE__*/_jsx(Users,{size:64,className:\"text-muted mb-3 opacity-50\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"fw-bold text-muted mb-2\",children:\"No Users Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-4\",children:searchTerm||filterRole!=='all'?'Try adjusting your search or filter criteria.':'Get started by adding your first user.'}),!searchTerm&&filterRole==='all'&&/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary rounded-3\",onClick:()=>setShowAddUser(true),children:[/*#__PURE__*/_jsx(UserPlus,{className:\"me-2\",size:18}),\"Add First User\"]})]})})})]}),filteredUsers.length>0&&totalPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted\",children:[\"Showing \",startIndex+1,\" to \",Math.min(endIndex,filteredUsers.length),\" of \",filteredUsers.length,\" users\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted small\",children:\"Users per page:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select form-select-sm\",style:{width:'auto'},value:usersPerPage,onChange:e=>{setUsersPerPage(Number(e.target.value));setCurrentPage(1);},children:[/*#__PURE__*/_jsx(\"option\",{value:4,children:\"4\"}),/*#__PURE__*/_jsx(\"option\",{value:20,children:\"20\"}),/*#__PURE__*/_jsx(\"option\",{value:50,children:\"50\"}),/*#__PURE__*/_jsx(\"option\",{value:100,children:\"100\"})]})]})]}),/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"ul\",{className:\"pagination pagination-sm mb-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===1?'disabled':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>setCurrentPage(1),disabled:currentPage===1,children:/*#__PURE__*/_jsx(ChevronsLeft,{size:16})})}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===1?'disabled':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>setCurrentPage(currentPage-1),disabled:currentPage===1,children:/*#__PURE__*/_jsx(ChevronLeft,{size:16})})}),Array.from({length:Math.min(5,totalPages)},(_,i)=>{let pageNum;if(totalPages<=5){pageNum=i+1;}else if(currentPage<=3){pageNum=i+1;}else if(currentPage>=totalPages-2){pageNum=totalPages-4+i;}else{pageNum=currentPage-2+i;}return/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===pageNum?'active':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>setCurrentPage(pageNum),children:pageNum})},pageNum);}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===totalPages?'disabled':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>setCurrentPage(currentPage+1),disabled:currentPage===totalPages,children:/*#__PURE__*/_jsx(ChevronRight,{size:16})})}),/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(currentPage===totalPages?'disabled':''),children:/*#__PURE__*/_jsx(\"button\",{className:\"page-link\",onClick:()=>setCurrentPage(totalPages),disabled:currentPage===totalPages,children:/*#__PURE__*/_jsx(ChevronsRight,{size:16})})})]})})]}),userDetailModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal d-block\",style:{backgroundColor:'rgba(0,0,0,0.5)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered modal-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content border-0 rounded-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header border-0 pb-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rounded-circle bg-primary bg-opacity-10 p-2 me-3\",children:/*#__PURE__*/_jsx(Users,{className:\"text-primary\",size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"modal-title fw-bold mb-0\",children:[userDetailModal.firstName,\" \",userDetailModal.lastName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted small mb-0\",children:[\"@\",userDetailModal.username]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:()=>setUserDetailModal(null)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2 mb-3\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-\".concat(getRoleBadgeColor(userDetailModal.role),\" bg-opacity-10 text-\").concat(getRoleBadgeColor(userDetailModal.role),\" fw-semibold px-3 py-2\"),children:[/*#__PURE__*/_jsx(Shield,{size:14,className:\"me-1\"}),userDetailModal.role]}),userDetailModal.isActive?/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-success bg-opacity-10 text-success fw-semibold px-3 py-2\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:14,className:\"me-1\"}),\"Active\"]}):/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-secondary bg-opacity-10 text-secondary fw-semibold px-3 py-2\",children:[/*#__PURE__*/_jsx(XCircle,{size:14,className:\"me-1\"}),\"Inactive\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-primary bg-opacity-10 rounded-4 p-4\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"fw-bold text-primary mb-3\",children:[/*#__PURE__*/_jsx(Users,{size:16,className:\"me-2\"}),\"Basic Information\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"User ID\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-semibold text-dark\",children:userDetailModal.userId})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-semibold text-dark\",children:userDetailModal.firstName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-semibold text-dark\",children:userDetailModal.lastName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Username\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fw-semibold text-dark\",children:[\"@\",userDetailModal.username]})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-info bg-opacity-10 rounded-4 p-4\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"fw-bold text-info mb-3\",children:[/*#__PURE__*/_jsx(Mail,{size:16,className:\"me-2\"}),\"Contact Information\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"row g-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-3\",children:[/*#__PURE__*/_jsx(Mail,{className:\"text-info me-3\",size:16}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-semibold text-dark\",children:userDetailModal.email})]})]}),userDetailModal.phoneNumber&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Phone,{className:\"text-info me-3\",size:16}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-semibold text-dark\",children:userDetailModal.phoneNumber})]})]}),!userDetailModal.phoneNumber&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Phone,{className:\"text-muted me-3\",size:16}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted\",children:\"Not provided\"})]})]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-success bg-opacity-10 rounded-4 p-4\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"fw-bold text-success mb-3\",children:[/*#__PURE__*/_jsx(Calendar,{size:16,className:\"me-2\"}),\"Activity Information\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Last Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-dark h5 mb-0\",children:formatLastLogin(userDetailModal.lastLogin)})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Member Since\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-dark h5 mb-0\",children:formatDate(userDetailModal.createdAt)})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"small text-muted\",children:\"Account Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-dark h5 mb-0\",children:userDetailModal.isActive?'Active':'Inactive'})]})})]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer border-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex gap-2 w-100\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-primary rounded-3 flex-fill\",onClick:()=>{setEditUserForm({userId:userDetailModal.userId,firstName:userDetailModal.firstName,lastName:userDetailModal.lastName,username:userDetailModal.username,email:userDetailModal.email,phoneNumber:userDetailModal.phoneNumber||'',role:userDetailModal.role,isActive:true});setUserDetailModal(null);setShowEditUser(true);},children:[/*#__PURE__*/_jsx(Edit3,{size:16,className:\"me-2\"}),\"Edit User\"]})})})]})})}),showEditUser&&/*#__PURE__*/_jsx(\"div\",{className:\"modal d-block\",style:{backgroundColor:'rgba(0,0,0,0.5)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered modal-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content border-0 rounded-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header border-0 pb-0\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title fw-bold\",children:\"Edit User\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:resetEditUserModal})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:editSubmitSuccess?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:64,className:\"text-success mb-3\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-success fw-bold\",children:\"User Updated Successfully!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"The user information has been updated.\"})]}):/*#__PURE__*/_jsx(\"form\",{onSubmit:handleEditUserSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(editFormErrors.firstName?'is-invalid':''),placeholder:\"Enter first name\",value:editUserForm.firstName,onChange:e=>handleEditInputChange('firstName',e.target.value)}),editFormErrors.firstName&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.firstName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(editFormErrors.lastName?'is-invalid':''),placeholder:\"Enter last name\",value:editUserForm.lastName,onChange:e=>handleEditInputChange('lastName',e.target.value)}),editFormErrors.lastName&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.lastName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(editFormErrors.username?'is-invalid':''),placeholder:\"Enter username\",value:editUserForm.username,onChange:e=>handleEditInputChange('username',e.target.value)}),editFormErrors.username&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.username]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control rounded-3 \".concat(editFormErrors.email?'is-invalid':''),placeholder:\"Enter email address\",value:editUserForm.email,onChange:e=>handleEditInputChange('email',e.target.value)}),editFormErrors.email&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.email]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",className:\"form-control rounded-3 \".concat(editFormErrors.phoneNumber?'is-invalid':''),placeholder:\"e.g., +1 (555) 123-4567 or 555-123-4567\",value:editUserForm.phoneNumber,onChange:e=>handleEditInputChange('phoneNumber',e.target.value)}),editFormErrors.phoneNumber&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.phoneNumber]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select rounded-3 \".concat(editFormErrors.role?'is-invalid':''),value:editUserForm.role,onChange:e=>handleEditInputChange('role',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a role\"}),roles.map(role=>/*#__PURE__*/_jsx(\"option\",{value:role.role,children:role.role},role.userRoleId))]}),editFormErrors.role&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),editFormErrors.role]})]})]})})}),!editSubmitSuccess&&/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer border-0 pt-0\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary rounded-3\",onClick:resetEditUserModal,disabled:isEditSubmitting,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary rounded-3\",onClick:handleEditUserSubmit,disabled:isEditSubmitting,children:isEditSubmitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),\"Updating User...\"]}):'Update User'})]})]})})}),showAddUser&&/*#__PURE__*/_jsx(\"div\",{className:\"modal d-block\",style:{backgroundColor:'rgba(0,0,0,0.5)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered modal-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content border-0 rounded-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header border-0 pb-0\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title fw-bold\",children:\"Add New User\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:resetAddUserModal})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:submitSuccess?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:64,className:\"text-success mb-3\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-success fw-bold\",children:\"User Created Successfully!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"The new user has been registered and can now login to the system.\"})]}):/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmitNewUser,children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(formErrors.firstName?'is-invalid':''),placeholder:\"Enter first name\",value:newUserForm.firstName,onChange:e=>handleInputChange('firstName',e.target.value)}),formErrors.firstName&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.firstName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(formErrors.lastName?'is-invalid':''),placeholder:\"Enter last name\",value:newUserForm.lastName,onChange:e=>handleInputChange('lastName',e.target.value)}),formErrors.lastName&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.lastName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-3 \".concat(formErrors.username?'is-invalid':''),placeholder:\"Enter username\",value:newUserForm.username,onChange:e=>handleInputChange('username',e.target.value)}),formErrors.username&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.username]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control rounded-3 \".concat(formErrors.email?'is-invalid':''),placeholder:\"Enter email address\",value:newUserForm.email,onChange:e=>handleInputChange('email',e.target.value)}),formErrors.email&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.email]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",className:\"form-control rounded-3 \".concat(formErrors.phoneNumber?'is-invalid':''),placeholder:\"e.g., +1 (555) 123-4567 or 555-123-4567\",value:newUserForm.phoneNumber,onChange:e=>handleInputChange('phoneNumber',e.target.value)}),formErrors.phoneNumber&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.phoneNumber]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select rounded-3 \".concat(formErrors.role?'is-invalid':''),value:newUserForm.role,onChange:e=>handleInputChange('role',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a role\"}),roles.map(role=>/*#__PURE__*/_jsx(\"option\",{value:role.role,children:role.role},role.userRoleId))]}),formErrors.role&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.role]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',className:\"form-control rounded-3 pe-5 \".concat(formErrors.password?'is-invalid':''),placeholder:\"Min 8 chars, 1 uppercase, 1 lowercase, 1 digit, 1 special (@$!%*?&)\",value:newUserForm.password,onChange:e=>handleInputChange('password',e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowPassword(!showPassword),className:\"btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2 border-0 p-1\",style:{zIndex:10},children:showPassword?/*#__PURE__*/_jsx(EyeOff,{size:18}):/*#__PURE__*/_jsx(Eye,{size:18})}),formErrors.password&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.password]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-semibold\",children:\"Confirm Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:showReEnterPassword?'text':'password',className:\"form-control rounded-3 pe-5 \".concat(formErrors.reEnterPassword?'is-invalid':''),placeholder:\"Re-enter password\",value:newUserForm.reEnterPassword,onChange:e=>handleInputChange('reEnterPassword',e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowReEnterPassword(!showReEnterPassword),className:\"btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2 border-0 p-1\",style:{zIndex:10},children:showReEnterPassword?/*#__PURE__*/_jsx(EyeOff,{size:18}):/*#__PURE__*/_jsx(Eye,{size:18})}),formErrors.reEnterPassword&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-flex align-items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"me-1\"}),formErrors.reEnterPassword]})]})]})]})})}),!submitSuccess&&/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer border-0 pt-0\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary rounded-3\",onClick:resetAddUserModal,disabled:isSubmitting,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary rounded-3\",onClick:handleSubmitNewUser,disabled:isSubmitting,children:isSubmitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),\"Creating User...\"]}):'Create User'})]})]})})}),showDeleteConfirm&&deletingUser&&/*#__PURE__*/_jsx(\"div\",{className:\"modal d-block\",style:{backgroundColor:'rgba(0,0,0,0.5)',position:'fixed',top:0,left:0,width:'100%',height:'100%',zIndex:1050},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content border-0 rounded-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header border-0 pb-0\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"modal-title fw-bold text-danger\",children:deleteSuccess?'User Deleted':'Confirm Deletion'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:()=>{setShowDeleteConfirm(false);setDeletingUser(null);setDeleteSuccess(false);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:deleteSuccess?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(CheckCircle2,{size:64,className:\"text-success mb-3\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-success fw-bold\",children:\"User Deleted Successfully!\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[deletingUser.firstName,\" \",deletingUser.lastName]}),\" has been permanently removed.\"]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(AlertTriangle,{size:64,className:\"text-warning mb-3\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"fw-bold\",children:\"Are you sure you want to delete this user?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-light rounded-3 p-3 my-3\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"fw-bold text-dark mb-1\",children:[deletingUser.firstName,\" \",deletingUser.lastName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted small mb-1\",children:[/*#__PURE__*/_jsx(Mail,{className:\"me-1\",size:14}),deletingUser.email]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted small mb-0\",children:[/*#__PURE__*/_jsx(Shield,{className:\"me-1\",size:14}),\"Role: \",deletingUser.role]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-danger small fw-semibold\",children:\"\\u26A0\\uFE0F This action cannot be undone. All user data and permissions will be permanently removed.\"})]})}),!deleteSuccess&&/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer border-0 pt-0\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowDeleteConfirm(false);setDeletingUser(null);},className:\"btn btn-secondary rounded-3 fw-semibold\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleDeleteUser,className:\"btn btn-danger rounded-3 fw-semibold d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Trash2,{className:\"me-2\",size:16}),\"Delete User\"]})]})]})})})]})});}","map":{"version":3,"names":["React","useState","useEffect","Users","Search","Edit3","Trash2","Mail","Phone","Calendar","Shield","CheckCircle2","XCircle","MoreVertical","UserPlus","AlertCircle","Eye","EyeOff","Lock","Unlock","ChevronLeft","ChevronRight","ChevronsLeft","ChevronsRight","AlertTriangle","userApi","roleApi","authApi","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Accounts","users","setUsers","roles","setRoles","searchTerm","setSearchTerm","filterRole","setFilterRole","showAddUser","setShowAddUser","userDetailModal","setUserDetailModal","showEditUser","setShowEditUser","editUserForm","setEditUserForm","userId","firstName","lastName","username","email","phoneNumber","role","isActive","editFormErrors","setEditFormErrors","isEditSubmitting","setIsEditSubmitting","editSubmitSuccess","setEditSubmitSuccess","loading","setLoading","currentPage","setCurrentPage","usersPerPage","setUsersPerPage","newUserForm","setNewUserForm","password","reEnterPassword","formErrors","setFormErrors","isSubmitting","setIsSubmitting","showPassword","setShowPassword","showReEnterPassword","setShowReEnterPassword","submitSuccess","setSubmitSuccess","showDeleteConfirm","setShowDeleteConfirm","deletingUser","setDeletingUser","deleteSuccess","setDeleteSuccess","handleEscKey","event","key","resetAddUserModal","document","addEventListener","removeEventListener","loadData","usersResponse","getAllUsers","success","transformedUsers","map","user","lastLogin","createdAt","console","error","message","rolesResponse","getAllRoles","refetchUsers","setTimeout","filtered","filter","matchesSearch","toLowerCase","includes","matchesRole","newTotalPages","Math","ceil","length","refetchAndGoToFirstPage","filteredUsers","totalPages","startIndex","endIndex","currentUsers","slice","handleEscapeKey","resetEditUserModal","getRoleBadgeColor","colors","hash","split","reduce","acc","char","charCodeAt","formatDate","dateString","Date","toLocaleDateString","year","month","day","formatLastLogin","now","diffInHours","floor","getTime","concat","diffInDays","handleInputChange","field","value","prev","_objectSpread","undefined","validateForm","errors","trim","test","Object","keys","handleSubmitNewUser","e","preventDefault","log","response","register","serverErrors","forEach","fieldName","errorValue","errorMessage","Array","isArray","status","handleEditInputChange","validateEditForm","handleEditUserSubmit","updateUser","prevUsers","handleFreezeUser","updatedUser","u","handleEmailUser","window","location","href","handleDeleteUser","deleteUser","alert","confirmDeleteUser","className","style","overflowX","children","maxWidth","size","disabled","onClick","type","placeholder","onChange","target","userRoleId","cursor","transition","closest","onMouseEnter","currentTarget","transform","boxShadow","onMouseLeave","stopPropagation","width","whiteSpace","textAlign","display","alignItems","title","min","Number","from","_","i","pageNum","backgroundColor","onSubmit","zIndex","position","top","left","height"],"sources":["/Users/jaili/csharpProject/Prototype/Prototype/ClientApp/src/components/account/Accounts.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Users, \n  Search, \n  Edit3, \n  Trash2, \n  Mail, \n  Phone, \n  Calendar,\n  Shield,\n  CheckCircle2,\n  XCircle,\n  MoreVertical,\n  UserPlus,\n  AlertCircle,\n  Eye,\n  EyeOff,\n  Lock,\n  Unlock,\n  ChevronLeft,\n  ChevronRight,\n  ChevronsLeft,\n  ChevronsRight,\n  AlertTriangle\n} from 'lucide-react';\nimport { userApi, roleApi } from '../../services/api';\nimport { authApi } from '../../services/api';\n\ninterface Role {\n  userRoleId: string;\n  role: string;\n  createdAt: string;\n  createdBy: string;\n}\n\ninterface User {\n  userId: string;\n  firstName: string;\n  lastName: string;\n  username: string;\n  email: string;\n  phoneNumber?: string;\n  isActive: boolean;\n  role: string;\n  lastLogin?: string;\n  createdAt: string;\n}\n\ninterface NewUserForm {\n  firstName: string;\n  lastName: string;\n  username: string;\n  email: string;\n  phoneNumber: string;\n  password: string;\n  reEnterPassword: string;\n  role: string;\n}\n\ninterface EditUserForm {\n  userId: string;\n  firstName: string;\n  lastName: string;\n  username: string;\n  email: string;\n  phoneNumber: string;\n  role: string;\n  isActive: boolean;\n}\n\nexport default function Accounts() {\n  const [users, setUsers] = useState<User[]>([]);\n  const [roles, setRoles] = useState<Role[]>([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterRole, setFilterRole] = useState<string>('all');\n  const [showAddUser, setShowAddUser] = useState(false);\n  const [userDetailModal, setUserDetailModal] = useState<User | null>(null);\n  const [showEditUser, setShowEditUser] = useState(false);\n  const [editUserForm, setEditUserForm] = useState<EditUserForm>({\n    userId: '',\n    firstName: '',\n    lastName: '',\n    username: '',\n    email: '',\n    phoneNumber: '',\n    role: '',\n    isActive: true\n  });\n  const [editFormErrors, setEditFormErrors] = useState<Partial<EditUserForm>>({});\n  const [isEditSubmitting, setIsEditSubmitting] = useState(false);\n  const [editSubmitSuccess, setEditSubmitSuccess] = useState(false);\n  const [loading, setLoading] = useState(true);\n  \n  // Pagination state\n  const [currentPage, setCurrentPage] = useState(1);\n  const [usersPerPage, setUsersPerPage] = useState(4);\n  \n  // New User Form State\n  const [newUserForm, setNewUserForm] = useState<NewUserForm>({\n    firstName: '',\n    lastName: '',\n    username: '',\n    email: '',\n    phoneNumber: '',\n    password: '',\n    reEnterPassword: '',\n    role: ''\n  });\n  const [formErrors, setFormErrors] = useState<Partial<NewUserForm>>({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [showReEnterPassword, setShowReEnterPassword] = useState(false);\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n  const [deletingUser, setDeletingUser] = useState<User | null>(null);\n  const [deleteSuccess, setDeleteSuccess] = useState(false);\n\n  // ESC key handler for modal\n  useEffect(() => {\n    const handleEscKey = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && showAddUser) {\n        resetAddUserModal();\n      }\n    };\n\n    if (showAddUser) {\n      document.addEventListener('keydown', handleEscKey);\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleEscKey);\n    };\n  }, [showAddUser]);\n\n  // Load users and roles from database\n  const loadData = async () => {\n    setLoading(true);\n    \n    // Load users - this should always work regardless of roles\n    try {\n      const usersResponse = await userApi.getAllUsers();\n      \n      if (usersResponse.success && usersResponse.users) {\n        const transformedUsers: User[] = usersResponse.users.map((user: any) => ({\n          userId: user.userId,\n          firstName: user.firstName,\n          lastName: user.lastName,\n          username: user.username,\n          email: user.email,\n          phoneNumber: user.phoneNumber,\n          isActive: user.isActive,\n          role: user.role,\n          lastLogin: user.lastLogin,\n          createdAt: user.createdAt\n        }));\n        \n        // Backend now handles sorting by creation date (newest first)\n        setUsers(transformedUsers);\n      } else {\n        console.error('Failed to load users:', usersResponse.message);\n        setUsers([]);\n      }\n    } catch (error) {\n      console.error('Error loading users:', error);\n      setUsers([]);\n    }\n    \n    // Load roles - independent of users\n    try {\n      const rolesResponse = await roleApi.getAllRoles();\n      \n      if (rolesResponse.success && rolesResponse.roles) {\n        setRoles(rolesResponse.roles);\n      } else {\n        console.error('Failed to load roles:', rolesResponse.message);\n        setRoles([]);\n      }\n    } catch (error) {\n      console.error('Error loading roles:', error);\n      setRoles([]);\n    }\n    \n    setLoading(false);\n  };\n\n  // Smart refetch that handles empty pages after deletion  \n  const refetchUsers = async () => {\n    await loadData();\n    \n    // We need to wait a bit for state to update, or recalculate filtered users\n    setTimeout(() => {\n      const filtered = users.filter(user => {\n        const matchesSearch = user.firstName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                             user.lastName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                             user.username.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                             user.email.toLowerCase().includes(searchTerm.toLowerCase());\n        \n        const matchesRole = filterRole === 'all' || user.role.toLowerCase() === filterRole.toLowerCase();\n        \n        return matchesSearch && matchesRole;\n      });\n      \n      // Check if current page is beyond available pages after deletion\n      const newTotalPages = Math.ceil(filtered.length / usersPerPage);\n      if (currentPage > newTotalPages && filtered.length > 0) {\n        // Go to last available page\n        setCurrentPage(newTotalPages);\n      } else if (filtered.length === 0) {\n        // If no users at all, go to page 1\n        setCurrentPage(1);\n      }\n    }, 100);\n  };\n\n  // Refetch and navigate to first page (where new items should appear)\n  const refetchAndGoToFirstPage = async () => {\n    await loadData();\n    \n    // Navigate to the first page where the new item should be\n    setCurrentPage(1);\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const filteredUsers = users.filter(user => {\n    const matchesSearch = user.firstName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         user.lastName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         user.username.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         user.email.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesRole = filterRole === 'all' || user.role.toLowerCase() === filterRole.toLowerCase();\n    \n    return matchesSearch && matchesRole;\n  });\n\n  // Pagination calculations\n  const totalPages = Math.ceil(filteredUsers.length / usersPerPage);\n  const startIndex = (currentPage - 1) * usersPerPage;\n  const endIndex = startIndex + usersPerPage;\n  const currentUsers = filteredUsers.slice(startIndex, endIndex);\n\n  // Reset to first page when filters change\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [searchTerm, filterRole]);\n\n  // Add escape key listener for edit user modal\n  useEffect(() => {\n    const handleEscapeKey = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        if (showEditUser) {\n          resetEditUserModal();\n        }\n        if (userDetailModal) {\n          setUserDetailModal(null);\n        }\n      }\n    };\n\n    document.addEventListener('keydown', handleEscapeKey);\n    return () => {\n      document.removeEventListener('keydown', handleEscapeKey);\n    };\n  }, [showEditUser, userDetailModal]);\n\n  const getRoleBadgeColor = (role: string) => {\n    // Create a consistent color mapping based on role name\n    const colors = ['primary', 'danger', 'warning', 'info', 'success', 'secondary'];\n    const hash = role.toLowerCase().split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);\n    return colors[hash % colors.length];\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n\n  const formatLastLogin = (dateString?: string) => {\n    if (!dateString) return 'Never';\n    const now = new Date();\n    const lastLogin = new Date(dateString);\n    const diffInHours = Math.floor((now.getTime() - lastLogin.getTime()) / (1000 * 60 * 60));\n    \n    if (diffInHours < 1) return 'Just now';\n    if (diffInHours < 24) return `${diffInHours}h ago`;\n    const diffInDays = Math.floor(diffInHours / 24);\n    if (diffInDays < 7) return `${diffInDays}d ago`;\n    return formatDate(dateString);\n  };\n\n  // Form handling functions\n  const handleInputChange = (field: keyof NewUserForm, value: string) => {\n    setNewUserForm(prev => ({ ...prev, [field]: value }));\n    // Clear error when user starts typing\n    if (formErrors[field]) {\n      setFormErrors(prev => ({ ...prev, [field]: undefined }));\n    }\n  };\n\n  const validateForm = (): boolean => {\n    const errors: Partial<NewUserForm> = {};\n\n    // First name validation\n    if (!newUserForm.firstName.trim()) {\n      errors.firstName = 'First name is required';\n    } else if (newUserForm.firstName.length > 50) {\n      errors.firstName = 'First name must be between 1 and 50 characters';\n    }\n\n    // Last name validation\n    if (!newUserForm.lastName.trim()) {\n      errors.lastName = 'Last name is required';\n    } else if (newUserForm.lastName.length > 50) {\n      errors.lastName = 'Last name must be between 1 and 50 characters';\n    }\n\n    // Username validation\n    if (!newUserForm.username.trim()) {\n      errors.username = 'Username is required';\n    } else if (newUserForm.username.length < 3 || newUserForm.username.length > 100) {\n      errors.username = 'Username must be between 3 and 100 characters';\n    } else if (!/^[a-zA-Z0-9_.-]+$/.test(newUserForm.username)) {\n      errors.username = 'Username can only contain letters, numbers, underscores, dots, and hyphens';\n    }\n\n    // Email validation\n    if (!newUserForm.email.trim()) {\n      errors.email = 'Email is required';\n    } else if (!/\\S+@\\S+\\.\\S+/.test(newUserForm.email)) {\n      errors.email = 'Invalid email format';\n    } else if (newUserForm.email.length > 255) {\n      errors.email = 'Email cannot exceed 255 characters';\n    }\n\n    // Phone number validation (basic format)\n    if (!newUserForm.phoneNumber.trim()) {\n      errors.phoneNumber = 'Phone number is required';\n    } else if (newUserForm.phoneNumber.length > 20) {\n      errors.phoneNumber = 'Phone number cannot exceed 20 characters';\n    }\n\n    // Role validation\n    if (!newUserForm.role.trim()) {\n      errors.role = 'Role is required';\n    }\n\n    // Password validation to match backend requirements\n    if (!newUserForm.password.trim()) {\n      errors.password = 'Password is required';\n    } else if (newUserForm.password.length < 8 || newUserForm.password.length > 128) {\n      errors.password = 'Password must be between 8 and 128 characters';\n    } else if (!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/.test(newUserForm.password)) {\n      errors.password = 'Password must contain at least one uppercase letter, one lowercase letter, one digit, and one special character (@$!%*?&)';\n    }\n\n    // Confirm password validation\n    if (!newUserForm.reEnterPassword.trim()) {\n      errors.reEnterPassword = 'Please confirm password';\n    } else if (newUserForm.password !== newUserForm.reEnterPassword) {\n      errors.reEnterPassword = 'Passwords do not match';\n    }\n\n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleSubmitNewUser = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateForm()) return;\n\n    setIsSubmitting(true);\n    setFormErrors({}); // Clear any previous errors\n    \n    try {\n      console.log('Submitting user registration:', newUserForm);\n      const response = await authApi.register(newUserForm);\n      console.log('Registration response:', response);\n      \n      if (response && response.success) {\n        setSubmitSuccess(true);\n        // Reset form\n        setNewUserForm({\n          firstName: '',\n          lastName: '',\n          username: '',\n          email: '',\n          phoneNumber: '',\n          password: '',\n          reEnterPassword: '',\n          role: ''\n        });\n        setFormErrors({});\n        \n        // Refresh the user list and go to first page to show the newly created user\n        refetchAndGoToFirstPage();\n        \n        // User form will be closed manually by user clicking X\n      } else {\n        // Handle server errors\n        console.error('Registration failed:', response);\n        if (response?.errors) {\n          // Handle field-specific validation errors from server\n          const serverErrors: Partial<NewUserForm> = {};\n          const errors = response.errors as unknown as { [key: string]: string | string[] };\n          Object.keys(errors).forEach(key => {\n            const fieldName = key.toLowerCase();\n            const errorValue = errors[key];\n            const errorMessage = Array.isArray(errorValue) ? errorValue[0] : errorValue;\n            if (fieldName.includes('firstname')) serverErrors.firstName = errorMessage;\n            else if (fieldName.includes('lastname')) serverErrors.lastName = errorMessage;\n            else if (fieldName.includes('username')) serverErrors.username = errorMessage;\n            else if (fieldName.includes('email')) serverErrors.email = errorMessage;\n            else if (fieldName.includes('phone')) serverErrors.phoneNumber = errorMessage;\n            else if (fieldName.includes('password')) serverErrors.password = errorMessage;\n            else serverErrors.email = errorMessage;\n          });\n          setFormErrors(serverErrors);\n        } else {\n          setFormErrors({ email: response?.message || 'Registration failed' });\n        }\n      }\n    } catch (error: any) {\n      console.error('Registration error:', error);\n      // Handle network or parsing errors\n      if (error.status === 400 && error.errors) {\n        const serverErrors: Partial<NewUserForm> = {};\n        const errors = error.errors as unknown as { [key: string]: string | string[] };\n        Object.keys(errors).forEach(key => {\n          const fieldName = key.toLowerCase();\n          const errorValue = errors[key];\n          const errorMessage = Array.isArray(errorValue) ? errorValue[0] : errorValue;\n          if (fieldName.includes('firstname')) serverErrors.firstName = errorMessage;\n          else if (fieldName.includes('lastname')) serverErrors.lastName = errorMessage;\n          else if (fieldName.includes('username')) serverErrors.username = errorMessage;\n          else if (fieldName.includes('email')) serverErrors.email = errorMessage;\n          else if (fieldName.includes('phone')) serverErrors.phoneNumber = errorMessage;\n          else if (fieldName.includes('password')) serverErrors.password = errorMessage;\n          else serverErrors.email = errorMessage;\n        });\n        setFormErrors(serverErrors);\n      } else {\n        setFormErrors({ email: error.message || 'Network error occurred' });\n      }\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const resetAddUserModal = () => {\n    setNewUserForm({\n      firstName: '',\n      lastName: '',\n      username: '',\n      email: '',\n      phoneNumber: '',\n      password: '',\n      reEnterPassword: '',\n      role: ''\n    });\n    setShowAddUser(false);\n    setSubmitSuccess(false);\n    setFormErrors({});\n    setIsSubmitting(false);\n    setSubmitSuccess(false);\n    setShowPassword(false);\n    setShowReEnterPassword(false);\n    setShowAddUser(false);\n  };\n\n  // Edit User Form handling\n  const handleEditInputChange = (field: keyof EditUserForm, value: string | boolean) => {\n    setEditUserForm(prev => ({ ...prev, [field]: value }));\n    if (editFormErrors[field]) {\n      setEditFormErrors(prev => ({ ...prev, [field]: undefined }));\n    }\n  };\n\n  const validateEditForm = (): boolean => {\n    const errors: Partial<EditUserForm> = {};\n\n    if (!editUserForm.firstName.trim()) {\n      errors.firstName = 'First name is required';\n    } else if (editUserForm.firstName.length > 50) {\n      errors.firstName = 'First name must be between 1 and 50 characters';\n    }\n\n    if (!editUserForm.lastName.trim()) {\n      errors.lastName = 'Last name is required';\n    } else if (editUserForm.lastName.length > 50) {\n      errors.lastName = 'Last name must be between 1 and 50 characters';\n    }\n\n    if (!editUserForm.username.trim()) {\n      errors.username = 'Username is required';\n    } else if (editUserForm.username.length < 3 || editUserForm.username.length > 100) {\n      errors.username = 'Username must be between 3 and 100 characters';\n    } else if (!/^[a-zA-Z0-9_.-]+$/.test(editUserForm.username)) {\n      errors.username = 'Username can only contain letters, numbers, underscores, dots, and hyphens';\n    }\n\n    if (!editUserForm.email.trim()) {\n      errors.email = 'Email is required';\n    } else if (!/\\S+@\\S+\\.\\S+/.test(editUserForm.email)) {\n      errors.email = 'Invalid email format';\n    } else if (editUserForm.email.length > 255) {\n      errors.email = 'Email cannot exceed 255 characters';\n    }\n\n    if (editUserForm.phoneNumber && editUserForm.phoneNumber.length > 20) {\n      errors.phoneNumber = 'Phone number cannot exceed 20 characters';\n    }\n\n    if (!editUserForm.role.trim()) {\n      errors.role = 'Role is required';\n    }\n\n    setEditFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleEditUserSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateEditForm()) return;\n\n    setIsEditSubmitting(true);\n    setEditFormErrors({});\n    \n    try {\n      const response = await userApi.updateUser(editUserForm);\n      \n      if (response && response.success) {\n        setEditSubmitSuccess(true);\n        // Update the user in the local state\n        setUsers(prevUsers => \n          prevUsers.map(user => \n            user.userId === editUserForm.userId \n              ? { ...user, ...editUserForm }\n              : user\n          )\n        );\n        \n        // Edit form will be closed manually by user clicking X\n      } else {\n        setEditFormErrors({ email: response?.message || 'Update failed' });\n      }\n    } catch (error: any) {\n      console.error('Update user error:', error);\n      if (error.status === 400 && error.errors) {\n        const serverErrors: Partial<EditUserForm> = {};\n        const errors = error.errors as unknown as { [key: string]: string | string[] };\n        Object.keys(errors).forEach(key => {\n          const fieldName = key.toLowerCase();\n          const errorValue = errors[key];\n          const errorMessage = Array.isArray(errorValue) ? errorValue[0] : errorValue;\n          if (fieldName.includes('firstname')) serverErrors.firstName = errorMessage;\n          else if (fieldName.includes('lastname')) serverErrors.lastName = errorMessage;\n          else if (fieldName.includes('username')) serverErrors.username = errorMessage;\n          else if (fieldName.includes('email')) serverErrors.email = errorMessage;\n          else if (fieldName.includes('phone')) serverErrors.phoneNumber = errorMessage;\n          else serverErrors.email = errorMessage;\n        });\n        setEditFormErrors(serverErrors);\n      } else {\n        setEditFormErrors({ email: error.message || 'Network error occurred' });\n      }\n    } finally {\n      setIsEditSubmitting(false);\n    }\n  };\n\n  const resetEditUserModal = () => {\n    setEditUserForm({\n      userId: '',\n      firstName: '',\n      lastName: '',\n      username: '',\n      email: '',\n      phoneNumber: '',\n      role: '',\n      isActive: true\n    });\n    setShowEditUser(false);\n    setEditSubmitSuccess(false);\n    setEditFormErrors({});\n    setIsEditSubmitting(false);\n    setEditSubmitSuccess(false);\n    setShowEditUser(false);\n  };\n\n  // Dropdown action handlers\n  const handleFreezeUser = async (user: User) => {\n    try {\n      const updatedUser = {\n        ...user,\n        isActive: !user.isActive\n      };\n      \n      const response = await userApi.updateUser(updatedUser);\n      \n      if (response && response.success) {\n        // Update the user in the local state\n        setUsers(prevUsers => \n          prevUsers.map(u => \n            u.userId === user.userId \n              ? { ...u, isActive: !u.isActive }\n              : u\n          )\n        );\n        \n        // Show success message (you could add a toast notification here)\n        console.log(`User ${user.isActive ? 'frozen' : 'unfrozen'} successfully`);\n      }\n    } catch (error) {\n      console.error('Error updating user status:', error);\n    }\n  };\n\n  const handleEmailUser = (user: User) => {\n    // Open email client with pre-filled recipient\n    window.location.href = `mailto:${user.email}`;\n  };\n\n  const handleDeleteUser = async () => {\n    if (!deletingUser) return;\n\n    try {\n      console.log('Attempting to delete user:', deletingUser.userId);\n      const response = await userApi.deleteUser(deletingUser.userId);\n      console.log('Delete user response:', response);\n      \n      if (response && response.success) {\n        console.log(`User ${deletingUser.firstName} ${deletingUser.lastName} deleted successfully`);\n        setDeleteSuccess(true);\n        \n        // Smart refetch to handle pagination after deletion\n        refetchUsers();\n        \n        // Delete success modal will be closed manually by user clicking X\n      } else {\n        console.error('Failed to delete user:', response?.message);\n        alert(`Failed to delete user: ${response?.message || 'Unknown error'}`);\n      }\n    } catch (error: any) {\n      console.error('Error deleting user - Full error object:', error);\n      console.error('Error message:', error.message);\n      console.error('Error status:', error.status);\n      console.error('Error response:', error.response);\n      alert(`Error deleting user: ${error.message || error.status || 'Network error occurred'}`);\n    }\n  };\n\n  const confirmDeleteUser = (user: User) => {\n    setDeletingUser(user);\n    setShowDeleteConfirm(true);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-vh-100 bg-light\" style={{overflowX: 'hidden'}}>\n        <div className=\"container-fluid py-4\" style={{maxWidth: '100%'}}>\n          {/* Header */}\n          <div className=\"mb-4\">\n            <div className=\"d-flex align-items-center justify-content-between mb-2\">\n              <div className=\"d-flex align-items-center\">\n                <Users className=\"text-primary me-3\" size={32} />\n                <div>\n                  <h1 className=\"display-5 fw-bold text-dark mb-0\">User Accounts</h1>\n                  <p className=\"text-muted fs-6 mb-0\">Manage user accounts and permissions</p>\n                </div>\n              </div>\n              <div className=\"d-flex gap-2\">\n                <button className=\"btn btn-primary rounded-3 d-flex align-items-center\" disabled>\n                  <UserPlus className=\"me-2\" size={18} />\n                  Add User\n                </button>\n              </div>\n            </div>\n          </div>\n          \n          {/* Loading Content */}\n          <div className=\"card shadow-sm border-0 rounded-4\">\n            <div className=\"card-body p-4 text-center\">\n              <div className=\"spinner-border text-primary mb-3\" role=\"status\">\n                <span className=\"visually-hidden\">Loading...</span>\n              </div>\n              <p className=\"text-muted\">Loading accounts...</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-vh-100 bg-light\" style={{overflowX: 'hidden'}}>\n      <div className=\"container-fluid py-4\" style={{maxWidth: '100%'}}>\n        {/* Header */}\n        <div className=\"mb-4\">\n          <div className=\"d-flex align-items-center justify-content-between mb-2\">\n            <div className=\"d-flex align-items-center\">\n              <Users className=\"text-primary me-3\" size={32} />\n              <div>\n                <h1 className=\"display-5 fw-bold text-dark mb-0\">User Accounts</h1>\n                <p className=\"text-muted fs-6 mb-0\">Manage user accounts and permissions</p>\n              </div>\n            </div>\n            <div className=\"d-flex gap-2\">\n              <button \n                className=\"btn btn-primary rounded-3 d-flex align-items-center\"\n                onClick={() => setShowAddUser(true)}\n              >\n                <UserPlus className=\"me-2\" size={18} />\n                Add User\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Filters and Search */}\n        <div className=\"row mb-4\">\n          <div className=\"col-12\">\n            <div className=\"card border-0 rounded-4 shadow-sm\">\n              <div className=\"card-body p-4\">\n                <div className=\"row g-3\">\n                  <div className=\"col-md-6\">\n                    <div className=\"position-relative\">\n                      <Search className=\"position-absolute top-50 start-0 translate-middle-y ms-3 text-muted\" size={18} />\n                      <input\n                        type=\"text\"\n                        className=\"form-control form-control-lg rounded-3 ps-5\"\n                        placeholder=\"Search users by name, username, or email...\"\n                        value={searchTerm}\n                        onChange={(e) => setSearchTerm(e.target.value)}\n                      />\n                    </div>\n                  </div>\n                  <div className=\"col-md-3\">\n                    <select\n                      className=\"form-select form-select-lg rounded-3\"\n                      value={filterRole}\n                      onChange={(e) => setFilterRole(e.target.value)}\n                    >\n                      <option value=\"all\">All Roles</option>\n                      {roles.map((role) => (\n                        <option key={role.userRoleId} value={role.role.toLowerCase()}>\n                          {role.role}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                  <div className=\"col-md-3\">\n                    <div className=\"bg-light rounded-3 p-2 text-center\">\n                      <div className=\"fw-bold text-primary\">{filteredUsers.length}</div>\n                      <div className=\"small text-muted\">Total Users</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Users Grid */}\n        <div className=\"row g-4\">\n          {currentUsers.map((user) => (\n            <div key={user.userId} className=\"col-xl-3 col-lg-4 col-md-6 col-sm-12\">\n              <div \n                className=\"card border-0 rounded-4 shadow-sm h-100 dashboard-card\" \n                style={{ cursor: 'pointer', transition: 'transform 0.2s, box-shadow 0.2s' }}\n                onClick={(e) => {\n                  // Don't open modal if clicking on dropdown\n                  if (!(e.target as HTMLElement).closest('.dropdown')) {\n                    setUserDetailModal(user);\n                  }\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.transform = 'translateY(-2px)';\n                  e.currentTarget.style.boxShadow = '0 8px 25px rgba(0,0,0,0.15)';\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.transform = 'translateY(0)';\n                  e.currentTarget.style.boxShadow = '';\n                }}\n              >\n                <div className=\"card-body p-3\">\n                  <div className=\"d-flex align-items-start justify-content-between mb-2\">\n                    <div className=\"d-flex align-items-center\">\n                      <div className=\"rounded-circle bg-primary bg-opacity-10 p-2 me-2\">\n                        <Users className=\"text-primary\" size={20} />\n                      </div>\n                      <div>\n                        <h6 className=\"fw-bold text-dark mb-0\">\n                          {user.firstName} {user.lastName}\n                        </h6>\n                        <p className=\"text-muted mb-0 small\">@{user.username}</p>\n                      </div>\n                    </div>\n                    <div className=\"dropdown\">\n                      <button\n                        className=\"btn btn-sm btn-outline-secondary rounded-3\"\n                        type=\"button\"\n                        data-bs-toggle=\"dropdown\"\n                        aria-expanded=\"false\"\n                        onClick={(e) => e.stopPropagation()}\n                      >\n                        <MoreVertical size={16} />\n                      </button>\n                      <ul className=\"dropdown-menu dropdown-menu-end\" style={{ width: '190px' }}>\n                        <li>\n                          <button \n                            className=\"dropdown-item d-flex align-items-center w-100\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleFreezeUser(user);\n                            }}\n                            style={{ whiteSpace: 'nowrap', textAlign: 'left' }}\n                          >\n                            <span style={{ display: 'inline-flex', alignItems: 'center', width: '100%' }}>\n                              {user.isActive ? (\n                                <><Lock size={14} className=\"me-2 flex-shrink-0\" /><span>Freeze Account</span></>\n                              ) : (\n                                <><Unlock size={14} className=\"me-2 flex-shrink-0\" /><span>Unfreeze Account</span></>\n                              )}\n                            </span>\n                          </button>\n                        </li>\n                        <li>\n                          <button \n                            className=\"dropdown-item d-flex align-items-center w-100\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleEmailUser(user);\n                            }}\n                            style={{ whiteSpace: 'nowrap', textAlign: 'left' }}\n                          >\n                            <span style={{ display: 'inline-flex', alignItems: 'center', width: '100%' }}>\n                              <Mail size={14} className=\"me-2 flex-shrink-0\" /><span>Send Email</span>\n                            </span>\n                          </button>\n                        </li>\n                        <li><hr className=\"dropdown-divider\" /></li>\n                        <li>\n                          <button \n                            className=\"dropdown-item text-danger d-flex align-items-center w-100\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              confirmDeleteUser(user);\n                            }}\n                            style={{ whiteSpace: 'nowrap', textAlign: 'left' }}\n                          >\n                            <span style={{ display: 'inline-flex', alignItems: 'center', width: '100%' }}>\n                              <Trash2 size={14} className=\"me-2 flex-shrink-0\" /><span>Delete User</span>\n                            </span>\n                          </button>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n\n                  <div className=\"mb-2\">\n                    <span className={`badge bg-${getRoleBadgeColor(user.role)} bg-opacity-10 text-${getRoleBadgeColor(user.role)} fw-semibold small`}>\n                      {user.role}\n                    </span>\n                    {user.isActive ? (\n                      <span className=\"badge bg-success bg-opacity-10 text-success fw-semibold ms-1 small\">\n                        <CheckCircle2 size={10} className=\"me-1\" />\n                        Active\n                      </span>\n                    ) : (\n                      <span className=\"badge bg-secondary bg-opacity-10 text-secondary fw-semibold ms-1 small\">\n                        <XCircle size={10} className=\"me-1\" />\n                        Inactive\n                      </span>\n                    )}\n                  </div>\n\n                  <div className=\"mb-2\">\n                    <div className=\"d-flex align-items-center mb-1\">\n                      <Mail className=\"text-muted me-2\" size={12} />\n                      <span className=\"small text-dark text-truncate\" style={{maxWidth: '150px'}} title={user.email}>{user.email}</span>\n                    </div>\n                    {user.phoneNumber && (\n                      <div className=\"d-flex align-items-center mb-1\">\n                        <Phone className=\"text-muted me-2\" size={12} />\n                        <span className=\"small text-dark\">{user.phoneNumber}</span>\n                      </div>\n                    )}\n                    <div className=\"d-flex align-items-center\">\n                      <Calendar className=\"text-muted me-2\" size={12} />\n                      <span className=\"small text-muted\">Joined {formatDate(user.createdAt)}</span>\n                    </div>\n                  </div>\n\n                  <div className=\"bg-light rounded-3 p-2\">\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                      <span className=\"small fw-semibold text-muted\">Last Login</span>\n                      <span className=\"small text-dark\">{formatLastLogin(user.lastLogin)}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n\n          {filteredUsers.length === 0 && !loading && (\n            <div className=\"col-12\">\n              <div className=\"card border-0 rounded-4 shadow-sm\">\n                <div className=\"card-body p-5 text-center\">\n                  <Users size={64} className=\"text-muted mb-3 opacity-50\" />\n                  <h3 className=\"fw-bold text-muted mb-2\">No Users Found</h3>\n                  <p className=\"text-muted mb-4\">\n                    {searchTerm || filterRole !== 'all' \n                      ? 'Try adjusting your search or filter criteria.' \n                      : 'Get started by adding your first user.'}\n                  </p>\n                  {(!searchTerm && filterRole === 'all') && (\n                    <button \n                      className=\"btn btn-primary rounded-3\"\n                      onClick={() => setShowAddUser(true)}\n                    >\n                      <UserPlus className=\"me-2\" size={18} />\n                      Add First User\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Pagination */}\n        {filteredUsers.length > 0 && totalPages > 1 && (\n          <div className=\"d-flex justify-content-between align-items-center mt-4\">\n            <div className=\"d-flex align-items-center gap-3\">\n              <span className=\"text-muted\">\n                Showing {startIndex + 1} to {Math.min(endIndex, filteredUsers.length)} of {filteredUsers.length} users\n              </span>\n              <div className=\"d-flex align-items-center gap-2\">\n                <span className=\"text-muted small\">Users per page:</span>\n                <select \n                  className=\"form-select form-select-sm\" \n                  style={{width: 'auto'}}\n                  value={usersPerPage}\n                  onChange={(e) => {\n                    setUsersPerPage(Number(e.target.value));\n                    setCurrentPage(1);\n                  }}\n                >\n                  <option value={4}>4</option>\n                  <option value={20}>20</option>\n                  <option value={50}>50</option>\n                  <option value={100}>100</option>\n                </select>\n              </div>\n            </div>\n            \n            <nav>\n              <ul className=\"pagination pagination-sm mb-0\">\n                <li className={`page-item ${currentPage === 1 ? 'disabled' : ''}`}>\n                  <button \n                    className=\"page-link\" \n                    onClick={() => setCurrentPage(1)}\n                    disabled={currentPage === 1}\n                  >\n                    <ChevronsLeft size={16} />\n                  </button>\n                </li>\n                <li className={`page-item ${currentPage === 1 ? 'disabled' : ''}`}>\n                  <button \n                    className=\"page-link\" \n                    onClick={() => setCurrentPage(currentPage - 1)}\n                    disabled={currentPage === 1}\n                  >\n                    <ChevronLeft size={16} />\n                  </button>\n                </li>\n                \n                {/* Page numbers */}\n                {Array.from({ length: Math.min(5, totalPages) }, (_, i) => {\n                  let pageNum: number;\n                  if (totalPages <= 5) {\n                    pageNum = i + 1;\n                  } else if (currentPage <= 3) {\n                    pageNum = i + 1;\n                  } else if (currentPage >= totalPages - 2) {\n                    pageNum = totalPages - 4 + i;\n                  } else {\n                    pageNum = currentPage - 2 + i;\n                  }\n                  \n                  return (\n                    <li key={pageNum} className={`page-item ${currentPage === pageNum ? 'active' : ''}`}>\n                      <button \n                        className=\"page-link\" \n                        onClick={() => setCurrentPage(pageNum)}\n                      >\n                        {pageNum}\n                      </button>\n                    </li>\n                  );\n                })}\n                \n                <li className={`page-item ${currentPage === totalPages ? 'disabled' : ''}`}>\n                  <button \n                    className=\"page-link\" \n                    onClick={() => setCurrentPage(currentPage + 1)}\n                    disabled={currentPage === totalPages}\n                  >\n                    <ChevronRight size={16} />\n                  </button>\n                </li>\n                <li className={`page-item ${currentPage === totalPages ? 'disabled' : ''}`}>\n                  <button \n                    className=\"page-link\" \n                    onClick={() => setCurrentPage(totalPages)}\n                    disabled={currentPage === totalPages}\n                  >\n                    <ChevronsRight size={16} />\n                  </button>\n                </li>\n              </ul>\n            </nav>\n          </div>\n        )}\n\n        {/* User Detail Modal */}\n        {userDetailModal && (\n          <div className=\"modal d-block\" style={{backgroundColor: 'rgba(0,0,0,0.5)'}}>\n            <div className=\"modal-dialog modal-dialog-centered modal-lg\">\n              <div className=\"modal-content border-0 rounded-4\">\n                <div className=\"modal-header border-0 pb-0\">\n                  <div className=\"d-flex align-items-center\">\n                    <div className=\"rounded-circle bg-primary bg-opacity-10 p-2 me-3\">\n                      <Users className=\"text-primary\" size={20} />\n                    </div>\n                    <div>\n                      <h5 className=\"modal-title fw-bold mb-0\">\n                        {userDetailModal.firstName} {userDetailModal.lastName}\n                      </h5>\n                      <p className=\"text-muted small mb-0\">@{userDetailModal.username}</p>\n                    </div>\n                  </div>\n                  <button\n                    type=\"button\"\n                    className=\"btn-close\"\n                    onClick={() => setUserDetailModal(null)}\n                  ></button>\n                </div>\n                <div className=\"modal-body\">\n                  <div className=\"row g-4\">\n                    {/* Status and Role */}\n                    <div className=\"col-12\">\n                      <div className=\"d-flex gap-2 mb-3\">\n                        <span className={`badge bg-${getRoleBadgeColor(userDetailModal.role)} bg-opacity-10 text-${getRoleBadgeColor(userDetailModal.role)} fw-semibold px-3 py-2`}>\n                          <Shield size={14} className=\"me-1\" />\n                          {userDetailModal.role}\n                        </span>\n                        {userDetailModal.isActive ? (\n                          <span className=\"badge bg-success bg-opacity-10 text-success fw-semibold px-3 py-2\">\n                            <CheckCircle2 size={14} className=\"me-1\" />\n                            Active\n                          </span>\n                        ) : (\n                          <span className=\"badge bg-secondary bg-opacity-10 text-secondary fw-semibold px-3 py-2\">\n                            <XCircle size={14} className=\"me-1\" />\n                            Inactive\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                    \n                    {/* Basic Information */}\n                    <div className=\"col-md-6\">\n                      <div className=\"bg-primary bg-opacity-10 rounded-4 p-4\">\n                        <h6 className=\"fw-bold text-primary mb-3\">\n                          <Users size={16} className=\"me-2\" />\n                          Basic Information\n                        </h6>\n                        <div className=\"row g-3\">\n                          <div className=\"col-12\">\n                            <div className=\"small text-muted\">User ID</div>\n                            <div className=\"fw-semibold text-dark\">{userDetailModal.userId}</div>\n                          </div>\n                          <div className=\"col-6\">\n                            <div className=\"small text-muted\">First Name</div>\n                            <div className=\"fw-semibold text-dark\">{userDetailModal.firstName}</div>\n                          </div>\n                          <div className=\"col-6\">\n                            <div className=\"small text-muted\">Last Name</div>\n                            <div className=\"fw-semibold text-dark\">{userDetailModal.lastName}</div>\n                          </div>\n                          <div className=\"col-12\">\n                            <div className=\"small text-muted\">Username</div>\n                            <div className=\"fw-semibold text-dark\">@{userDetailModal.username}</div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    {/* Contact Information */}\n                    <div className=\"col-md-6\">\n                      <div className=\"bg-info bg-opacity-10 rounded-4 p-4\">\n                        <h6 className=\"fw-bold text-info mb-3\">\n                          <Mail size={16} className=\"me-2\" />\n                          Contact Information\n                        </h6>\n                        <div className=\"row g-3\">\n                          <div className=\"col-12\">\n                            <div className=\"d-flex align-items-center mb-3\">\n                              <Mail className=\"text-info me-3\" size={16} />\n                              <div>\n                                <div className=\"small text-muted\">Email Address</div>\n                                <div className=\"fw-semibold text-dark\">{userDetailModal.email}</div>\n                              </div>\n                            </div>\n                            {userDetailModal.phoneNumber && (\n                              <div className=\"d-flex align-items-center\">\n                                <Phone className=\"text-info me-3\" size={16} />\n                                <div>\n                                  <div className=\"small text-muted\">Phone Number</div>\n                                  <div className=\"fw-semibold text-dark\">{userDetailModal.phoneNumber}</div>\n                                </div>\n                              </div>\n                            )}\n                            {!userDetailModal.phoneNumber && (\n                              <div className=\"d-flex align-items-center\">\n                                <Phone className=\"text-muted me-3\" size={16} />\n                                <div>\n                                  <div className=\"small text-muted\">Phone Number</div>\n                                  <div className=\"text-muted\">Not provided</div>\n                                </div>\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    {/* Activity Information */}\n                    <div className=\"col-12\">\n                      <div className=\"bg-success bg-opacity-10 rounded-4 p-4\">\n                        <h6 className=\"fw-bold text-success mb-3\">\n                          <Calendar size={16} className=\"me-2\" />\n                          Activity Information\n                        </h6>\n                        <div className=\"row g-3\">\n                          <div className=\"col-md-4\">\n                            <div className=\"text-center\">\n                              <div className=\"small text-muted\">Last Login</div>\n                              <div className=\"fw-bold text-dark h5 mb-0\">{formatLastLogin(userDetailModal.lastLogin)}</div>\n                            </div>\n                          </div>\n                          <div className=\"col-md-4\">\n                            <div className=\"text-center\">\n                              <div className=\"small text-muted\">Member Since</div>\n                              <div className=\"fw-bold text-dark h5 mb-0\">{formatDate(userDetailModal.createdAt)}</div>\n                            </div>\n                          </div>\n                          <div className=\"col-md-4\">\n                            <div className=\"text-center\">\n                              <div className=\"small text-muted\">Account Status</div>\n                              <div className=\"fw-bold text-dark h5 mb-0\">\n                                {userDetailModal.isActive ? 'Active' : 'Inactive'}\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"modal-footer border-0\">\n                  <div className=\"d-flex gap-2 w-100\">\n                    <button \n                      className=\"btn btn-outline-primary rounded-3 flex-fill\"\n                      onClick={() => {\n                        setEditUserForm({\n                          userId: userDetailModal.userId,\n                          firstName: userDetailModal.firstName,\n                          lastName: userDetailModal.lastName,\n                          username: userDetailModal.username,\n                          email: userDetailModal.email,\n                          phoneNumber: userDetailModal.phoneNumber || '',\n                          role: userDetailModal.role,\n                          isActive: true\n                        });\n                        setUserDetailModal(null);\n                        setShowEditUser(true);\n                      }}\n                    >\n                      <Edit3 size={16} className=\"me-2\" />\n                      Edit User\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n        \n        {/* Edit User Modal */}\n        {showEditUser && (\n          <div className=\"modal d-block\" style={{backgroundColor: 'rgba(0,0,0,0.5)'}}>\n            <div className=\"modal-dialog modal-dialog-centered modal-lg\">\n              <div className=\"modal-content border-0 rounded-4\">\n                <div className=\"modal-header border-0 pb-0\">\n                  <h5 className=\"modal-title fw-bold\">Edit User</h5>\n                  <button\n                    type=\"button\"\n                    className=\"btn-close\"\n                    onClick={resetEditUserModal}\n                  ></button>\n                </div>\n                <div className=\"modal-body\">\n                  {editSubmitSuccess ? (\n                    <div className=\"text-center py-4\">\n                      <CheckCircle2 size={64} className=\"text-success mb-3\" />\n                      <h4 className=\"text-success fw-bold\">User Updated Successfully!</h4>\n                      <p className=\"text-muted\">The user information has been updated.</p>\n                    </div>\n                  ) : (\n                    <form onSubmit={handleEditUserSubmit}>\n                      <div className=\"row g-3\">\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">First Name</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${editFormErrors.firstName ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter first name\" \n                            value={editUserForm.firstName}\n                            onChange={(e) => handleEditInputChange('firstName', e.target.value)}\n                          />\n                          {editFormErrors.firstName && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.firstName}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Last Name</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${editFormErrors.lastName ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter last name\" \n                            value={editUserForm.lastName}\n                            onChange={(e) => handleEditInputChange('lastName', e.target.value)}\n                          />\n                          {editFormErrors.lastName && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.lastName}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-12\">\n                          <label className=\"form-label fw-semibold\">Username</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${editFormErrors.username ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter username\" \n                            value={editUserForm.username}\n                            onChange={(e) => handleEditInputChange('username', e.target.value)}\n                          />\n                          {editFormErrors.username && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.username}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-12\">\n                          <label className=\"form-label fw-semibold\">Email</label>\n                          <input \n                            type=\"email\" \n                            className={`form-control rounded-3 ${editFormErrors.email ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter email address\" \n                            value={editUserForm.email}\n                            onChange={(e) => handleEditInputChange('email', e.target.value)}\n                          />\n                          {editFormErrors.email && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.email}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Phone Number</label>\n                          <input \n                            type=\"tel\" \n                            className={`form-control rounded-3 ${editFormErrors.phoneNumber ? 'is-invalid' : ''}`}\n                            placeholder=\"e.g., +1 (555) 123-4567 or 555-123-4567\" \n                            value={editUserForm.phoneNumber}\n                            onChange={(e) => handleEditInputChange('phoneNumber', e.target.value)}\n                          />\n                          {editFormErrors.phoneNumber && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.phoneNumber}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Role</label>\n                          <select \n                            className={`form-select rounded-3 ${editFormErrors.role ? 'is-invalid' : ''}`}\n                            value={editUserForm.role}\n                            onChange={(e) => handleEditInputChange('role', e.target.value)}\n                          >\n                            <option value=\"\">Select a role</option>\n                            {roles.map((role) => (\n                              <option key={role.userRoleId} value={role.role}>\n                                {role.role}\n                              </option>\n                            ))}\n                          </select>\n                          {editFormErrors.role && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {editFormErrors.role}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </form>\n                  )}\n                </div>\n                {!editSubmitSuccess && (\n                  <div className=\"modal-footer border-0 pt-0\">\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-secondary rounded-3\"\n                      onClick={resetEditUserModal}\n                      disabled={isEditSubmitting}\n                    >\n                      Cancel\n                    </button>\n                    <button \n                      type=\"submit\" \n                      className=\"btn btn-primary rounded-3\"\n                      onClick={handleEditUserSubmit}\n                      disabled={isEditSubmitting}\n                    >\n                      {isEditSubmitting ? (\n                        <>\n                          <div className=\"spinner-border spinner-border-sm me-2\" role=\"status\">\n                            <span className=\"visually-hidden\">Loading...</span>\n                          </div>\n                          Updating User...\n                        </>\n                      ) : (\n                        'Update User'\n                      )}\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n        \n        {/* Add User Modal */}\n        {showAddUser && (\n          <div className=\"modal d-block\" style={{backgroundColor: 'rgba(0,0,0,0.5)'}}>\n            <div className=\"modal-dialog modal-dialog-centered modal-lg\">\n              <div className=\"modal-content border-0 rounded-4\">\n                <div className=\"modal-header border-0 pb-0\">\n                  <h5 className=\"modal-title fw-bold\">Add New User</h5>\n                  <button\n                    type=\"button\"\n                    className=\"btn-close\"\n                    onClick={resetAddUserModal}\n                  ></button>\n                </div>\n                <div className=\"modal-body\">\n                  {submitSuccess ? (\n                    <div className=\"text-center py-4\">\n                      <CheckCircle2 size={64} className=\"text-success mb-3\" />\n                      <h4 className=\"text-success fw-bold\">User Created Successfully!</h4>\n                      <p className=\"text-muted\">The new user has been registered and can now login to the system.</p>\n                    </div>\n                  ) : (\n                    <form onSubmit={handleSubmitNewUser}>\n                      <div className=\"row g-3\">\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">First Name</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${formErrors.firstName ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter first name\" \n                            value={newUserForm.firstName}\n                            onChange={(e) => handleInputChange('firstName', e.target.value)}\n                          />\n                          {formErrors.firstName && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.firstName}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Last Name</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${formErrors.lastName ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter last name\" \n                            value={newUserForm.lastName}\n                            onChange={(e) => handleInputChange('lastName', e.target.value)}\n                          />\n                          {formErrors.lastName && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.lastName}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-12\">\n                          <label className=\"form-label fw-semibold\">Username</label>\n                          <input \n                            type=\"text\" \n                            className={`form-control rounded-3 ${formErrors.username ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter username\" \n                            value={newUserForm.username}\n                            onChange={(e) => handleInputChange('username', e.target.value)}\n                          />\n                          {formErrors.username && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.username}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-12\">\n                          <label className=\"form-label fw-semibold\">Email</label>\n                          <input \n                            type=\"email\" \n                            className={`form-control rounded-3 ${formErrors.email ? 'is-invalid' : ''}`}\n                            placeholder=\"Enter email address\" \n                            value={newUserForm.email}\n                            onChange={(e) => handleInputChange('email', e.target.value)}\n                          />\n                          {formErrors.email && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.email}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Phone Number</label>\n                          <input \n                            type=\"tel\" \n                            className={`form-control rounded-3 ${formErrors.phoneNumber ? 'is-invalid' : ''}`}\n                            placeholder=\"e.g., +1 (555) 123-4567 or 555-123-4567\" \n                            value={newUserForm.phoneNumber}\n                            onChange={(e) => handleInputChange('phoneNumber', e.target.value)}\n                          />\n                          {formErrors.phoneNumber && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.phoneNumber}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Role</label>\n                          <select \n                            className={`form-select rounded-3 ${formErrors.role ? 'is-invalid' : ''}`}\n                            value={newUserForm.role}\n                            onChange={(e) => handleInputChange('role', e.target.value)}\n                          >\n                            <option value=\"\">Select a role</option>\n                            {roles.map((role) => (\n                              <option key={role.userRoleId} value={role.role}>\n                                {role.role}\n                              </option>\n                            ))}\n                          </select>\n                          {formErrors.role && (\n                            <div className=\"invalid-feedback d-flex align-items-center\">\n                              <AlertCircle size={16} className=\"me-1\" />\n                              {formErrors.role}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Password</label>\n                          <div className=\"position-relative\">\n                            <input \n                              type={showPassword ? 'text' : 'password'}\n                              className={`form-control rounded-3 pe-5 ${formErrors.password ? 'is-invalid' : ''}`}\n                              placeholder=\"Min 8 chars, 1 uppercase, 1 lowercase, 1 digit, 1 special (@$!%*?&)\" \n                              value={newUserForm.password}\n                              onChange={(e) => handleInputChange('password', e.target.value)}\n                            />\n                            <button\n                              type=\"button\"\n                              onClick={() => setShowPassword(!showPassword)}\n                              className=\"btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2 border-0 p-1\"\n                              style={{ zIndex: 10 }}\n                            >\n                              {showPassword ? <EyeOff size={18} /> : <Eye size={18} />}\n                            </button>\n                            {formErrors.password && (\n                              <div className=\"invalid-feedback d-flex align-items-center\">\n                                <AlertCircle size={16} className=\"me-1\" />\n                                {formErrors.password}\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                        <div className=\"col-md-6\">\n                          <label className=\"form-label fw-semibold\">Confirm Password</label>\n                          <div className=\"position-relative\">\n                            <input \n                              type={showReEnterPassword ? 'text' : 'password'}\n                              className={`form-control rounded-3 pe-5 ${formErrors.reEnterPassword ? 'is-invalid' : ''}`}\n                              placeholder=\"Re-enter password\" \n                              value={newUserForm.reEnterPassword}\n                              onChange={(e) => handleInputChange('reEnterPassword', e.target.value)}\n                            />\n                            <button\n                              type=\"button\"\n                              onClick={() => setShowReEnterPassword(!showReEnterPassword)}\n                              className=\"btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2 border-0 p-1\"\n                              style={{ zIndex: 10 }}\n                            >\n                              {showReEnterPassword ? <EyeOff size={18} /> : <Eye size={18} />}\n                            </button>\n                            {formErrors.reEnterPassword && (\n                              <div className=\"invalid-feedback d-flex align-items-center\">\n                                <AlertCircle size={16} className=\"me-1\" />\n                                {formErrors.reEnterPassword}\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    </form>\n                  )}\n                </div>\n                {!submitSuccess && (\n                  <div className=\"modal-footer border-0 pt-0\">\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-secondary rounded-3\"\n                      onClick={resetAddUserModal}\n                      disabled={isSubmitting}\n                    >\n                      Cancel\n                    </button>\n                    <button \n                      type=\"submit\" \n                      className=\"btn btn-primary rounded-3\"\n                      onClick={handleSubmitNewUser}\n                      disabled={isSubmitting}\n                    >\n                      {isSubmitting ? (\n                        <>\n                          <div className=\"spinner-border spinner-border-sm me-2\" role=\"status\">\n                            <span className=\"visually-hidden\">Loading...</span>\n                          </div>\n                          Creating User...\n                        </>\n                      ) : (\n                        'Create User'\n                      )}\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Delete Confirmation Modal */}\n        {showDeleteConfirm && deletingUser && (\n          <div className=\"modal d-block\" style={{backgroundColor: 'rgba(0,0,0,0.5)', position: 'fixed', top: 0, left: 0, width: '100%', height: '100%', zIndex: 1050}}>\n            <div className=\"modal-dialog modal-dialog-centered\">\n              <div className=\"modal-content border-0 rounded-4\">\n                <div className=\"modal-header border-0 pb-0\">\n                  <h3 className=\"modal-title fw-bold text-danger\">\n                    {deleteSuccess ? 'User Deleted' : 'Confirm Deletion'}\n                  </h3>\n                  <button\n                    type=\"button\"\n                    className=\"btn-close\"\n                    onClick={() => {\n                      setShowDeleteConfirm(false);\n                      setDeletingUser(null);\n                      setDeleteSuccess(false);\n                    }}\n                  ></button>\n                </div>\n                <div className=\"modal-body\">\n                  {deleteSuccess ? (\n                    <div className=\"text-center py-4\">\n                      <CheckCircle2 size={64} className=\"text-success mb-3\" />\n                      <h4 className=\"text-success fw-bold\">User Deleted Successfully!</h4>\n                      <p className=\"text-muted\">\n                        <strong>{deletingUser.firstName} {deletingUser.lastName}</strong> has been permanently removed.\n                      </p>\n                    </div>\n                  ) : (\n                    <div className=\"text-center py-4\">\n                      <AlertTriangle size={64} className=\"text-warning mb-3\" />\n                      <h4 className=\"fw-bold\">Are you sure you want to delete this user?</h4>\n                      <div className=\"bg-light rounded-3 p-3 my-3\">\n                        <h5 className=\"fw-bold text-dark mb-1\">{deletingUser.firstName} {deletingUser.lastName}</h5>\n                        <p className=\"text-muted small mb-1\">\n                          <Mail className=\"me-1\" size={14} />\n                          {deletingUser.email}\n                        </p>\n                        <p className=\"text-muted small mb-0\">\n                          <Shield className=\"me-1\" size={14} />\n                          Role: {deletingUser.role}\n                        </p>\n                      </div>\n                      <p className=\"text-danger small fw-semibold\">\n                        ⚠️ This action cannot be undone. All user data and permissions will be permanently removed.\n                      </p>\n                    </div>\n                  )}\n                </div>\n                {!deleteSuccess && (\n                  <div className=\"modal-footer border-0 pt-0\">\n                    <button\n                      onClick={() => {\n                        setShowDeleteConfirm(false);\n                        setDeletingUser(null);\n                      }}\n                      className=\"btn btn-secondary rounded-3 fw-semibold\"\n                    >\n                      Cancel\n                    </button>\n                    <button\n                      onClick={handleDeleteUser}\n                      className=\"btn btn-danger rounded-3 fw-semibold d-flex align-items-center\"\n                    >\n                      <Trash2 className=\"me-2\" size={16} />\n                      Delete User\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}